(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZD={exports:{}},jx={},JD={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=Symbol.for("react.element"),Zj=Symbol.for("react.portal"),Jj=Symbol.for("react.fragment"),Qj=Symbol.for("react.strict_mode"),eH=Symbol.for("react.profiler"),tH=Symbol.for("react.provider"),nH=Symbol.for("react.context"),rH=Symbol.for("react.forward_ref"),iH=Symbol.for("react.suspense"),oH=Symbol.for("react.memo"),aH=Symbol.for("react.lazy"),nO=Symbol.iterator;function sH(t){return t===null||typeof t!="object"?null:(t=nO&&t[nO]||t["@@iterator"],typeof t=="function"?t:null)}var QD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ek=Object.assign,tk={};function $f(t,e,n){this.props=t,this.context=e,this.refs=tk,this.updater=n||QD}$f.prototype.isReactComponent={};$f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nk(){}nk.prototype=$f.prototype;function CA(t,e,n){this.props=t,this.context=e,this.refs=tk,this.updater=n||QD}var OA=CA.prototype=new nk;OA.constructor=CA;ek(OA,$f.prototype);OA.isPureReactComponent=!0;var rO=Array.isArray,rk=Object.prototype.hasOwnProperty,RA={current:null},ik={key:!0,ref:!0,__self:!0,__source:!0};function ok(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)rk.call(e,r)&&!ik.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:um,type:t,key:o,ref:a,props:i,_owner:RA.current}}function lH(t,e){return{$$typeof:um,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IA(t){return typeof t=="object"&&t!==null&&t.$$typeof===um}function uH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iO=/\/+/g;function Vb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uH(""+t.key):e.toString(36)}function sy(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case um:case Zj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Vb(a,0):r,rO(i)?(n="",t!=null&&(n=t.replace(iO,"$&/")+"/"),sy(i,e,n,"",function(u){return u})):i!=null&&(IA(i)&&(i=lH(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iO,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",rO(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Vb(o,s);a+=sy(o,e,n,l,i)}else if(l=sH(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Vb(o,s++),a+=sy(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Lg(t,e,n){if(t==null)return t;var r=[],i=0;return sy(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ni={current:null},ly={transition:null},fH={ReactCurrentDispatcher:ni,ReactCurrentBatchConfig:ly,ReactCurrentOwner:RA};function ak(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Lg,forEach:function(t,e,n){Lg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lg(t,function(){e++}),e},toArray:function(t){return Lg(t,function(e){return e})||[]},only:function(t){if(!IA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=$f;Ut.Fragment=Jj;Ut.Profiler=eH;Ut.PureComponent=CA;Ut.StrictMode=Qj;Ut.Suspense=iH;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fH;Ut.act=ak;Ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ek({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=RA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)rk.call(e,l)&&!ik.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:um,type:t.type,key:i,ref:o,props:r,_owner:a}};Ut.createContext=function(t){return t={$$typeof:nH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tH,_context:t},t.Consumer=t};Ut.createElement=ok;Ut.createFactory=function(t){var e=ok.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:rH,render:t}};Ut.isValidElement=IA;Ut.lazy=function(t){return{$$typeof:aH,_payload:{_status:-1,_result:t},_init:cH}};Ut.memo=function(t,e){return{$$typeof:oH,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=ly.transition;ly.transition={};try{t()}finally{ly.transition=e}};Ut.unstable_act=ak;Ut.useCallback=function(t,e){return ni.current.useCallback(t,e)};Ut.useContext=function(t){return ni.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return ni.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return ni.current.useEffect(t,e)};Ut.useId=function(){return ni.current.useId()};Ut.useImperativeHandle=function(t,e,n){return ni.current.useImperativeHandle(t,e,n)};Ut.useInsertionEffect=function(t,e){return ni.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return ni.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return ni.current.useMemo(t,e)};Ut.useReducer=function(t,e,n){return ni.current.useReducer(t,e,n)};Ut.useRef=function(t){return ni.current.useRef(t)};Ut.useState=function(t){return ni.current.useState(t)};Ut.useSyncExternalStore=function(t,e,n){return ni.current.useSyncExternalStore(t,e,n)};Ut.useTransition=function(){return ni.current.useTransition()};Ut.version="18.3.1";JD.exports=Ut;var j=JD.exports;const le=dn(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hH=j,dH=Symbol.for("react.element"),pH=Symbol.for("react.fragment"),mH=Object.prototype.hasOwnProperty,gH=hH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vH={key:!0,ref:!0,__self:!0,__source:!0};function sk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)mH.call(e,r)&&!vH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dH,type:t,key:o,ref:a,props:i,_owner:gH.current}}jx.Fragment=pH;jx.jsx=sk;jx.jsxs=sk;ZD.exports=jx;var K=ZD.exports,lk={exports:{}},Fi={},uk={exports:{}},ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var z=D.length;D.push(V);e:for(;0<z;){var Q=z-1>>>1,ne=D[Q];if(0<i(ne,V))D[Q]=V,D[z]=ne,z=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],z=D.pop();if(z!==V){D[0]=z;e:for(var Q=0,ne=D.length,de=ne>>>1;Q<de;){var Fe=2*(Q+1)-1,et=D[Fe],se=Fe+1,xe=D[se];if(0>i(et,z))se<ne&&0>i(xe,et)?(D[Q]=xe,D[se]=z,Q=se):(D[Q]=et,D[Fe]=z,Q=Fe);else if(se<ne&&0>i(xe,z))D[Q]=xe,D[se]=z,Q=se;else break e}}return V}function i(D,V){var z=D.sortIndex-V.sortIndex;return z!==0?z:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function M(D){if(x=!1,S(D),!v)if(n(l)!==null)v=!0,q(w);else{var V=n(u);V!==null&&W(M,V.startTime-D)}}function w(D,V){v=!1,x&&(x=!1,g(R),R=-1),m=!0;var z=p;try{for(S(V),f=n(l);f!==null&&(!(f.expirationTime>V)||D&&!L());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ne=Q(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),S(V)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Fe=n(u);Fe!==null&&W(M,Fe.startTime-V),de=!1}return de}finally{f=null,p=z,m=!1}}var A=!1,T=null,R=-1,P=5,O=-1;function L(){return!(t.unstable_now()-O<P)}function k(){if(T!==null){var D=t.unstable_now();O=D;var V=!0;try{V=T(!0,D)}finally{V?F():(A=!1,T=null)}}else A=!1}var F;if(typeof _=="function")F=function(){_(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=k,F=function(){G.postMessage(null)}}else F=function(){y(k,0)};function q(D){T=D,A||(A=!0,F())}function W(D,V){R=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var z=p;p=V;try{return D()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=p;p=D;try{return V()}finally{p=z}},t.unstable_scheduleCallback=function(D,V,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,D={id:c++,callback:V,priorityLevel:D,startTime:z,expirationTime:ne,sortIndex:-1},z>Q?(D.sortIndex=z,e(u,D),n(l)===null&&D===n(u)&&(x?(g(R),R=-1):x=!0,W(M,z-Q))):(D.sortIndex=ne,e(l,D),v||m||(v=!0,q(w))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var V=p;return function(){var z=p;p=V;try{return D.apply(this,arguments)}finally{p=z}}}})(ck);uk.exports=ck;var yH=uk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xH=j,ki=yH;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fk=new Set,Wd={};function Eu(t,e){af(t,e),af(t+"Capture",e)}function af(t,e){for(Wd[t]=e,t=0;t<e.length;t++)fk.add(e[t])}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$w=Object.prototype.hasOwnProperty,_H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oO={},aO={};function SH(t){return $w.call(aO,t)?!0:$w.call(oO,t)?!1:_H.test(t)?aO[t]=!0:(oO[t]=!0,!1)}function bH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wH(t,e,n,r){if(e===null||typeof e>"u"||bH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ri(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var LA=/[\-:]([a-z])/g;function NA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LA,NA);wr[e]=new ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LA,NA);wr[e]=new ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LA,NA);wr[e]=new ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new ri(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function DA(t,e,n,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wH(e,n,i,r)&&(n=null),r||i===null?SH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=xH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ng=Symbol.for("react.element"),Pc=Symbol.for("react.portal"),Cc=Symbol.for("react.fragment"),kA=Symbol.for("react.strict_mode"),Gw=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),Xw=Symbol.for("react.suspense_list"),FA=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),pk=Symbol.for("react.offscreen"),sO=Symbol.iterator;function Nh(t){return t===null||typeof t!="object"?null:(t=sO&&t[sO]||t["@@iterator"],typeof t=="function"?t:null)}var Rn=Object.assign,jb;function md(t){if(jb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jb=e&&e[1]||""}return`
`+jb+t}var Hb=!1;function $b(t,e){if(!t||Hb)return"";Hb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Hb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?md(t):""}function MH(t){switch(t.tag){case 5:return md(t.type);case 16:return md("Lazy");case 13:return md("Suspense");case 19:return md("SuspenseList");case 0:case 2:case 15:return t=$b(t.type,!1),t;case 11:return t=$b(t.type.render,!1),t;case 1:return t=$b(t.type,!0),t;default:return""}}function Yw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cc:return"Fragment";case Pc:return"Portal";case Gw:return"Profiler";case kA:return"StrictMode";case Ww:return"Suspense";case Xw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dk:return(t.displayName||"Context")+".Consumer";case hk:return(t._context.displayName||"Context")+".Provider";case UA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case FA:return e=t.displayName||null,e!==null?e:Yw(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Yw(t(e))}catch{}}return null}function EH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yw(e);case 8:return e===kA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AH(t){var e=mk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dg(t){t._valueTracker||(t._valueTracker=AH(t))}function gk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ey(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qw(t,e){var n=e.checked;return Rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vk(t,e){e=e.checked,e!=null&&DA(t,"checked",e,!1)}function Kw(t,e){vk(t,e);var n=Ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zw(t,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zw(t,e,n){(e!=="number"||Ey(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gd=Array.isArray;function Xc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ws(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(gd(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ws(n)}}function yk(t,e){var n=Ws(e.value),r=Ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kg,_k=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kg=kg||document.createElement("div"),kg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TH=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(t){TH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Md[e]=Md[t]})});function Sk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Md.hasOwnProperty(t)&&Md[t]?(""+e).trim():e+"px"}function bk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PH=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eM(t,e){if(e){if(PH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function tM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nM=null;function BA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rM=null,Yc=null,qc=null;function hO(t){if(t=hm(t)){if(typeof rM!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Xx(e),rM(t.stateNode,t.type,e))}}function wk(t){Yc?qc?qc.push(t):qc=[t]:Yc=t}function Mk(){if(Yc){var t=Yc,e=qc;if(qc=Yc=null,hO(t),e)for(t=0;t<e.length;t++)hO(e[t])}}function Ek(t,e){return t(e)}function Ak(){}var Gb=!1;function Tk(t,e,n){if(Gb)return t(e,n);Gb=!0;try{return Ek(t,e,n)}finally{Gb=!1,(Yc!==null||qc!==null)&&(Ak(),Mk())}}function Yd(t,e){var n=t.stateNode;if(n===null)return null;var r=Xx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var iM=!1;if(Ga)try{var Dh={};Object.defineProperty(Dh,"passive",{get:function(){iM=!0}}),window.addEventListener("test",Dh,Dh),window.removeEventListener("test",Dh,Dh)}catch{iM=!1}function CH(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ed=!1,Ay=null,Ty=!1,oM=null,OH={onError:function(t){Ed=!0,Ay=t}};function RH(t,e,n,r,i,o,a,s,l){Ed=!1,Ay=null,CH.apply(OH,arguments)}function IH(t,e,n,r,i,o,a,s,l){if(RH.apply(this,arguments),Ed){if(Ed){var u=Ay;Ed=!1,Ay=null}else throw Error(De(198));Ty||(Ty=!0,oM=u)}}function Au(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dO(t){if(Au(t)!==t)throw Error(De(188))}function LH(t){var e=t.alternate;if(!e){if(e=Au(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dO(i),t;if(o===r)return dO(i),e;o=o.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function Ck(t){return t=LH(t),t!==null?Ok(t):null}function Ok(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ok(t);if(e!==null)return e;t=t.sibling}return null}var Rk=ki.unstable_scheduleCallback,pO=ki.unstable_cancelCallback,NH=ki.unstable_shouldYield,DH=ki.unstable_requestPaint,Bn=ki.unstable_now,kH=ki.unstable_getCurrentPriorityLevel,zA=ki.unstable_ImmediatePriority,Ik=ki.unstable_UserBlockingPriority,Py=ki.unstable_NormalPriority,UH=ki.unstable_LowPriority,Lk=ki.unstable_IdlePriority,Hx=null,ra=null;function FH(t){if(ra&&typeof ra.onCommitFiberRoot=="function")try{ra.onCommitFiberRoot(Hx,t,void 0,(t.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:VH,BH=Math.log,zH=Math.LN2;function VH(t){return t>>>=0,t===0?32:31-(BH(t)/zH|0)|0}var Ug=64,Fg=4194304;function vd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=vd(s):(o&=a,o!==0&&(r=vd(o)))}else a=n&~i,a!==0?r=vd(a):o!==0&&(r=vd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Io(e),i=1<<n,r|=t[n],e&=~i;return r}function jH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HH(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Io(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=jH(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function aM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nk(){var t=Ug;return Ug<<=1,!(Ug&4194240)&&(Ug=64),t}function Wb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Io(e),t[e]=n}function $H(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Io(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function VA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Io(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var on=0;function Dk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kk,jA,Uk,Fk,Bk,sM=!1,Bg=[],Us=null,Fs=null,Bs=null,qd=new Map,Kd=new Map,Ps=[],GH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mO(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":qd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(e.pointerId)}}function kh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hm(e),e!==null&&jA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WH(t,e,n,r,i){switch(e){case"focusin":return Us=kh(Us,t,e,n,r,i),!0;case"dragenter":return Fs=kh(Fs,t,e,n,r,i),!0;case"mouseover":return Bs=kh(Bs,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qd.set(o,kh(qd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kd.set(o,kh(Kd.get(o)||null,t,e,n,r,i)),!0}return!1}function zk(t){var e=$l(t.target);if(e!==null){var n=Au(e);if(n!==null){if(e=n.tag,e===13){if(e=Pk(n),e!==null){t.blockedOn=e,Bk(t.priority,function(){Uk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nM=r,n.target.dispatchEvent(r),nM=null}else return e=hm(n),e!==null&&jA(e),t.blockedOn=n,!1;e.shift()}return!0}function gO(t,e,n){uy(t)&&n.delete(e)}function XH(){sM=!1,Us!==null&&uy(Us)&&(Us=null),Fs!==null&&uy(Fs)&&(Fs=null),Bs!==null&&uy(Bs)&&(Bs=null),qd.forEach(gO),Kd.forEach(gO)}function Uh(t,e){t.blockedOn===e&&(t.blockedOn=null,sM||(sM=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,XH)))}function Zd(t){function e(i){return Uh(i,t)}if(0<Bg.length){Uh(Bg[0],t);for(var n=1;n<Bg.length;n++){var r=Bg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&Uh(Us,t),Fs!==null&&Uh(Fs,t),Bs!==null&&Uh(Bs,t),qd.forEach(e),Kd.forEach(e),n=0;n<Ps.length;n++)r=Ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ps.length&&(n=Ps[0],n.blockedOn===null);)zk(n),n.blockedOn===null&&Ps.shift()}var Kc=ts.ReactCurrentBatchConfig,Oy=!0;function YH(t,e,n,r){var i=on,o=Kc.transition;Kc.transition=null;try{on=1,HA(t,e,n,r)}finally{on=i,Kc.transition=o}}function qH(t,e,n,r){var i=on,o=Kc.transition;Kc.transition=null;try{on=4,HA(t,e,n,r)}finally{on=i,Kc.transition=o}}function HA(t,e,n,r){if(Oy){var i=lM(t,e,n,r);if(i===null)n1(t,e,r,Ry,n),mO(t,r);else if(WH(i,t,e,n,r))r.stopPropagation();else if(mO(t,r),e&4&&-1<GH.indexOf(t)){for(;i!==null;){var o=hm(i);if(o!==null&&kk(o),o=lM(t,e,n,r),o===null&&n1(t,e,r,Ry,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else n1(t,e,r,null,n)}}var Ry=null;function lM(t,e,n,r){if(Ry=null,t=BA(r),t=$l(t),t!==null)if(e=Au(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ry=t,null}function Vk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kH()){case zA:return 1;case Ik:return 4;case Py:case UH:return 16;case Lk:return 536870912;default:return 16}default:return 16}}var Rs=null,$A=null,cy=null;function jk(){if(cy)return cy;var t,e=$A,n=e.length,r,i="value"in Rs?Rs.value:Rs.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return cy=i.slice(t,1<r?1-r:void 0)}function fy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zg(){return!0}function vO(){return!1}function Bi(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?zg:vO,this.isPropagationStopped=vO,this}return Rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zg)},persist:function(){},isPersistent:zg}),e}var Gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GA=Bi(Gf),fm=Rn({},Gf,{view:0,detail:0}),KH=Bi(fm),Xb,Yb,Fh,$x=Rn({},fm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fh&&(Fh&&t.type==="mousemove"?(Xb=t.screenX-Fh.screenX,Yb=t.screenY-Fh.screenY):Yb=Xb=0,Fh=t),Xb)},movementY:function(t){return"movementY"in t?t.movementY:Yb}}),yO=Bi($x),ZH=Rn({},$x,{dataTransfer:0}),JH=Bi(ZH),QH=Rn({},fm,{relatedTarget:0}),qb=Bi(QH),e8=Rn({},Gf,{animationName:0,elapsedTime:0,pseudoElement:0}),t8=Bi(e8),n8=Rn({},Gf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r8=Bi(n8),i8=Rn({},Gf,{data:0}),xO=Bi(i8),o8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s8[t])?!!e[t]:!1}function WA(){return l8}var u8=Rn({},fm,{key:function(t){if(t.key){var e=o8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WA,charCode:function(t){return t.type==="keypress"?fy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c8=Bi(u8),f8=Rn({},$x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_O=Bi(f8),h8=Rn({},fm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WA}),d8=Bi(h8),p8=Rn({},Gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),m8=Bi(p8),g8=Rn({},$x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v8=Bi(g8),y8=[9,13,27,32],XA=Ga&&"CompositionEvent"in window,Ad=null;Ga&&"documentMode"in document&&(Ad=document.documentMode);var x8=Ga&&"TextEvent"in window&&!Ad,Hk=Ga&&(!XA||Ad&&8<Ad&&11>=Ad),SO=" ",bO=!1;function $k(t,e){switch(t){case"keyup":return y8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oc=!1;function _8(t,e){switch(t){case"compositionend":return Gk(e);case"keypress":return e.which!==32?null:(bO=!0,SO);case"textInput":return t=e.data,t===SO&&bO?null:t;default:return null}}function S8(t,e){if(Oc)return t==="compositionend"||!XA&&$k(t,e)?(t=jk(),cy=$A=Rs=null,Oc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hk&&e.locale!=="ko"?null:e.data;default:return null}}var b8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b8[t.type]:e==="textarea"}function Wk(t,e,n,r){wk(r),e=Iy(e,"onChange"),0<e.length&&(n=new GA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Td=null,Jd=null;function w8(t){rU(t,0)}function Gx(t){var e=Lc(t);if(gk(e))return t}function M8(t,e){if(t==="change")return e}var Xk=!1;if(Ga){var Kb;if(Ga){var Zb="oninput"in document;if(!Zb){var MO=document.createElement("div");MO.setAttribute("oninput","return;"),Zb=typeof MO.oninput=="function"}Kb=Zb}else Kb=!1;Xk=Kb&&(!document.documentMode||9<document.documentMode)}function EO(){Td&&(Td.detachEvent("onpropertychange",Yk),Jd=Td=null)}function Yk(t){if(t.propertyName==="value"&&Gx(Jd)){var e=[];Wk(e,Jd,t,BA(t)),Tk(w8,e)}}function E8(t,e,n){t==="focusin"?(EO(),Td=e,Jd=n,Td.attachEvent("onpropertychange",Yk)):t==="focusout"&&EO()}function A8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gx(Jd)}function T8(t,e){if(t==="click")return Gx(e)}function P8(t,e){if(t==="input"||t==="change")return Gx(e)}function C8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:C8;function Qd(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$w.call(e,i)||!ko(t[i],e[i]))return!1}return!0}function AO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TO(t,e){var n=AO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AO(n)}}function qk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kk(){for(var t=window,e=Ey();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ey(t.document)}return e}function YA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O8(t){var e=Kk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qk(n.ownerDocument.documentElement,n)){if(r!==null&&YA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=TO(n,o);var a=TO(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R8=Ga&&"documentMode"in document&&11>=document.documentMode,Rc=null,uM=null,Pd=null,cM=!1;function PO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cM||Rc==null||Rc!==Ey(r)||(r=Rc,"selectionStart"in r&&YA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pd&&Qd(Pd,r)||(Pd=r,r=Iy(uM,"onSelect"),0<r.length&&(e=new GA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rc)))}function Vg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ic={animationend:Vg("Animation","AnimationEnd"),animationiteration:Vg("Animation","AnimationIteration"),animationstart:Vg("Animation","AnimationStart"),transitionend:Vg("Transition","TransitionEnd")},Jb={},Zk={};Ga&&(Zk=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function Wx(t){if(Jb[t])return Jb[t];if(!Ic[t])return t;var e=Ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zk)return Jb[t]=e[n];return t}var Jk=Wx("animationend"),Qk=Wx("animationiteration"),eU=Wx("animationstart"),tU=Wx("transitionend"),nU=new Map,CO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){nU.set(t,e),Eu(e,[t])}for(var Qb=0;Qb<CO.length;Qb++){var e1=CO[Qb],I8=e1.toLowerCase(),L8=e1[0].toUpperCase()+e1.slice(1);Js(I8,"on"+L8)}Js(Jk,"onAnimationEnd");Js(Qk,"onAnimationIteration");Js(eU,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(tU,"onTransitionEnd");af("onMouseEnter",["mouseout","mouseover"]);af("onMouseLeave",["mouseout","mouseover"]);af("onPointerEnter",["pointerout","pointerover"]);af("onPointerLeave",["pointerout","pointerover"]);Eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N8=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function OO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IH(r,e,void 0,t),t.currentTarget=null}function rU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;OO(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;OO(i,s,u),o=l}}}if(Ty)throw t=oM,Ty=!1,oM=null,t}function vn(t,e){var n=e[mM];n===void 0&&(n=e[mM]=new Set);var r=t+"__bubble";n.has(r)||(iU(e,t,2,!1),n.add(r))}function t1(t,e,n){var r=0;e&&(r|=4),iU(n,t,r,e)}var jg="_reactListening"+Math.random().toString(36).slice(2);function ep(t){if(!t[jg]){t[jg]=!0,fk.forEach(function(n){n!=="selectionchange"&&(N8.has(n)||t1(n,!1,t),t1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jg]||(e[jg]=!0,t1("selectionchange",!1,e))}}function iU(t,e,n,r){switch(Vk(e)){case 1:var i=YH;break;case 4:i=qH;break;default:i=HA}n=i.bind(null,e,n,t),i=void 0,!iM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function n1(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=$l(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Tk(function(){var u=o,c=BA(n),f=[];e:{var p=nU.get(t);if(p!==void 0){var m=GA,v=t;switch(t){case"keypress":if(fy(n)===0)break e;case"keydown":case"keyup":m=c8;break;case"focusin":v="focus",m=qb;break;case"focusout":v="blur",m=qb;break;case"beforeblur":case"afterblur":m=qb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d8;break;case Jk:case Qk:case eU:m=t8;break;case tU:m=m8;break;case"scroll":m=KH;break;case"wheel":m=v8;break;case"copy":case"cut":case"paste":m=r8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_O}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var _=u,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Yd(_,g),M!=null&&x.push(tp(_,M,S)))),y)break;_=_.return}0<x.length&&(p=new m(p,v,null,n,c),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==nM&&(v=n.relatedTarget||n.fromElement)&&($l(v)||v[Wa]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?$l(v):null,v!==null&&(y=Au(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=yO,M="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=_O,M="onPointerLeave",g="onPointerEnter",_="pointer"),y=m==null?p:Lc(m),S=v==null?p:Lc(v),p=new x(M,_+"leave",m,n,c),p.target=y,p.relatedTarget=S,M=null,$l(c)===u&&(x=new x(g,_+"enter",v,n,c),x.target=S,x.relatedTarget=y,M=x),y=M,m&&v)t:{for(x=m,g=v,_=0,S=x;S;S=Ju(S))_++;for(S=0,M=g;M;M=Ju(M))S++;for(;0<_-S;)x=Ju(x),_--;for(;0<S-_;)g=Ju(g),S--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ju(x),g=Ju(g)}x=null}else x=null;m!==null&&RO(f,p,m,x,!1),v!==null&&y!==null&&RO(f,y,v,x,!0)}}e:{if(p=u?Lc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var w=M8;else if(wO(p))if(Xk)w=P8;else{w=A8;var A=E8}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=T8);if(w&&(w=w(t,u))){Wk(f,w,n,c);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&Zw(p,"number",p.value)}switch(A=u?Lc(u):window,t){case"focusin":(wO(A)||A.contentEditable==="true")&&(Rc=A,uM=u,Pd=null);break;case"focusout":Pd=uM=Rc=null;break;case"mousedown":cM=!0;break;case"contextmenu":case"mouseup":case"dragend":cM=!1,PO(f,n,c);break;case"selectionchange":if(R8)break;case"keydown":case"keyup":PO(f,n,c)}var T;if(XA)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Oc?$k(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Hk&&n.locale!=="ko"&&(Oc||R!=="onCompositionStart"?R==="onCompositionEnd"&&Oc&&(T=jk()):(Rs=c,$A="value"in Rs?Rs.value:Rs.textContent,Oc=!0)),A=Iy(u,R),0<A.length&&(R=new xO(R,t,null,n,c),f.push({event:R,listeners:A}),T?R.data=T:(T=Gk(n),T!==null&&(R.data=T)))),(T=x8?_8(t,n):S8(t,n))&&(u=Iy(u,"onBeforeInput"),0<u.length&&(c=new xO("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}rU(f,e)})}function tp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Iy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yd(t,n),o!=null&&r.unshift(tp(t,o,i)),o=Yd(t,e),o!=null&&r.push(tp(t,o,i))),t=t.return}return r}function Ju(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RO(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Yd(n,o),l!=null&&a.unshift(tp(n,l,s))):i||(l=Yd(n,o),l!=null&&a.push(tp(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var D8=/\r\n?/g,k8=/\u0000|\uFFFD/g;function IO(t){return(typeof t=="string"?t:""+t).replace(D8,`
`).replace(k8,"")}function Hg(t,e,n){if(e=IO(e),IO(t)!==e&&n)throw Error(De(425))}function Ly(){}var fM=null,hM=null;function dM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pM=typeof setTimeout=="function"?setTimeout:void 0,U8=typeof clearTimeout=="function"?clearTimeout:void 0,LO=typeof Promise=="function"?Promise:void 0,F8=typeof queueMicrotask=="function"?queueMicrotask:typeof LO<"u"?function(t){return LO.resolve(null).then(t).catch(B8)}:pM;function B8(t){setTimeout(function(){throw t})}function r1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zd(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wf=Math.random().toString(36).slice(2),Jo="__reactFiber$"+Wf,np="__reactProps$"+Wf,Wa="__reactContainer$"+Wf,mM="__reactEvents$"+Wf,z8="__reactListeners$"+Wf,V8="__reactHandles$"+Wf;function $l(t){var e=t[Jo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[Jo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NO(t);t!==null;){if(n=t[Jo])return n;t=NO(t)}return e}t=n,n=t.parentNode}return null}function hm(t){return t=t[Jo]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Xx(t){return t[np]||null}var gM=[],Nc=-1;function Qs(t){return{current:t}}function Sn(t){0>Nc||(t.current=gM[Nc],gM[Nc]=null,Nc--)}function mn(t,e){Nc++,gM[Nc]=t.current,t.current=e}var Xs={},jr=Qs(Xs),gi=Qs(!1),fu=Xs;function sf(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Ny(){Sn(gi),Sn(jr)}function DO(t,e,n){if(jr.current!==Xs)throw Error(De(168));mn(jr,e),mn(gi,n)}function oU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,EH(t)||"Unknown",i));return Rn({},n,r)}function Dy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,fu=jr.current,mn(jr,t),mn(gi,gi.current),!0}function kO(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=oU(t,e,fu),r.__reactInternalMemoizedMergedChildContext=t,Sn(gi),Sn(jr),mn(jr,t)):Sn(gi),mn(gi,n)}var Ia=null,Yx=!1,i1=!1;function aU(t){Ia===null?Ia=[t]:Ia.push(t)}function j8(t){Yx=!0,aU(t)}function el(){if(!i1&&Ia!==null){i1=!0;var t=0,e=on;try{var n=Ia;for(on=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ia=null,Yx=!1}catch(i){throw Ia!==null&&(Ia=Ia.slice(t+1)),Rk(zA,el),i}finally{on=e,i1=!1}}return null}var Dc=[],kc=0,ky=null,Uy=0,Ji=[],Qi=0,hu=null,Da=1,ka="";function Dl(t,e){Dc[kc++]=Uy,Dc[kc++]=ky,ky=t,Uy=e}function sU(t,e,n){Ji[Qi++]=Da,Ji[Qi++]=ka,Ji[Qi++]=hu,hu=t;var r=Da;t=ka;var i=32-Io(r)-1;r&=~(1<<i),n+=1;var o=32-Io(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Da=1<<32-Io(e)+i|n<<i|r,ka=o+t}else Da=1<<o|n<<i|r,ka=t}function qA(t){t.return!==null&&(Dl(t,1),sU(t,1,0))}function KA(t){for(;t===ky;)ky=Dc[--kc],Dc[kc]=null,Uy=Dc[--kc],Dc[kc]=null;for(;t===hu;)hu=Ji[--Qi],Ji[Qi]=null,ka=Ji[--Qi],Ji[Qi]=null,Da=Ji[--Qi],Ji[Qi]=null}var Li=null,Ri=null,Mn=!1,To=null;function lU(t,e){var n=eo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function UO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Li=t,Ri=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Li=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hu!==null?{id:Da,overflow:ka}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=eo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Li=t,Ri=null,!0):!1;default:return!1}}function vM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yM(t){if(Mn){var e=Ri;if(e){var n=e;if(!UO(t,e)){if(vM(t))throw Error(De(418));e=zs(n.nextSibling);var r=Li;e&&UO(t,e)?lU(r,n):(t.flags=t.flags&-4097|2,Mn=!1,Li=t)}}else{if(vM(t))throw Error(De(418));t.flags=t.flags&-4097|2,Mn=!1,Li=t}}}function FO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Li=t}function $g(t){if(t!==Li)return!1;if(!Mn)return FO(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dM(t.type,t.memoizedProps)),e&&(e=Ri)){if(vM(t))throw uU(),Error(De(418));for(;e;)lU(t,e),e=zs(e.nextSibling)}if(FO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ri=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Li?zs(t.stateNode.nextSibling):null;return!0}function uU(){for(var t=Ri;t;)t=zs(t.nextSibling)}function lf(){Ri=Li=null,Mn=!1}function ZA(t){To===null?To=[t]:To.push(t)}var H8=ts.ReactCurrentBatchConfig;function Bh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Gg(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BO(t){var e=t._init;return e(t._payload)}function cU(t){function e(g,_){if(t){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=$s(g,_),g.index=0,g.sibling=null,g}function o(g,_,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,_,S,M){return _===null||_.tag!==6?(_=f1(S,g.mode,M),_.return=g,_):(_=i(_,S),_.return=g,_)}function l(g,_,S,M){var w=S.type;return w===Cc?c(g,_,S.props.children,M,S.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Es&&BO(w)===_.type)?(M=i(_,S.props),M.ref=Bh(g,_,S),M.return=g,M):(M=yy(S.type,S.key,S.props,null,g.mode,M),M.ref=Bh(g,_,S),M.return=g,M)}function u(g,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=h1(S,g.mode,M),_.return=g,_):(_=i(_,S.children||[]),_.return=g,_)}function c(g,_,S,M,w){return _===null||_.tag!==7?(_=nu(S,g.mode,M,w),_.return=g,_):(_=i(_,S),_.return=g,_)}function f(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=f1(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ng:return S=yy(_.type,_.key,_.props,null,g.mode,S),S.ref=Bh(g,null,_),S.return=g,S;case Pc:return _=h1(_,g.mode,S),_.return=g,_;case Es:var M=_._init;return f(g,M(_._payload),S)}if(gd(_)||Nh(_))return _=nu(_,g.mode,S,null),_.return=g,_;Gg(g,_)}return null}function p(g,_,S,M){var w=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return w!==null?null:s(g,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ng:return S.key===w?l(g,_,S,M):null;case Pc:return S.key===w?u(g,_,S,M):null;case Es:return w=S._init,p(g,_,w(S._payload),M)}if(gd(S)||Nh(S))return w!==null?null:c(g,_,S,M,null);Gg(g,S)}return null}function m(g,_,S,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,s(_,g,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ng:return g=g.get(M.key===null?S:M.key)||null,l(_,g,M,w);case Pc:return g=g.get(M.key===null?S:M.key)||null,u(_,g,M,w);case Es:var A=M._init;return m(g,_,S,A(M._payload),w)}if(gd(M)||Nh(M))return g=g.get(S)||null,c(_,g,M,w,null);Gg(_,M)}return null}function v(g,_,S,M){for(var w=null,A=null,T=_,R=_=0,P=null;T!==null&&R<S.length;R++){T.index>R?(P=T,T=null):P=T.sibling;var O=p(g,T,S[R],M);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(g,T),_=o(O,_,R),A===null?w=O:A.sibling=O,A=O,T=P}if(R===S.length)return n(g,T),Mn&&Dl(g,R),w;if(T===null){for(;R<S.length;R++)T=f(g,S[R],M),T!==null&&(_=o(T,_,R),A===null?w=T:A.sibling=T,A=T);return Mn&&Dl(g,R),w}for(T=r(g,T);R<S.length;R++)P=m(T,g,R,S[R],M),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?R:P.key),_=o(P,_,R),A===null?w=P:A.sibling=P,A=P);return t&&T.forEach(function(L){return e(g,L)}),Mn&&Dl(g,R),w}function x(g,_,S,M){var w=Nh(S);if(typeof w!="function")throw Error(De(150));if(S=w.call(S),S==null)throw Error(De(151));for(var A=w=null,T=_,R=_=0,P=null,O=S.next();T!==null&&!O.done;R++,O=S.next()){T.index>R?(P=T,T=null):P=T.sibling;var L=p(g,T,O.value,M);if(L===null){T===null&&(T=P);break}t&&T&&L.alternate===null&&e(g,T),_=o(L,_,R),A===null?w=L:A.sibling=L,A=L,T=P}if(O.done)return n(g,T),Mn&&Dl(g,R),w;if(T===null){for(;!O.done;R++,O=S.next())O=f(g,O.value,M),O!==null&&(_=o(O,_,R),A===null?w=O:A.sibling=O,A=O);return Mn&&Dl(g,R),w}for(T=r(g,T);!O.done;R++,O=S.next())O=m(T,g,R,O.value,M),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?R:O.key),_=o(O,_,R),A===null?w=O:A.sibling=O,A=O);return t&&T.forEach(function(k){return e(g,k)}),Mn&&Dl(g,R),w}function y(g,_,S,M){if(typeof S=="object"&&S!==null&&S.type===Cc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ng:e:{for(var w=S.key,A=_;A!==null;){if(A.key===w){if(w=S.type,w===Cc){if(A.tag===7){n(g,A.sibling),_=i(A,S.props.children),_.return=g,g=_;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Es&&BO(w)===A.type){n(g,A.sibling),_=i(A,S.props),_.ref=Bh(g,A,S),_.return=g,g=_;break e}n(g,A);break}else e(g,A);A=A.sibling}S.type===Cc?(_=nu(S.props.children,g.mode,M,S.key),_.return=g,g=_):(M=yy(S.type,S.key,S.props,null,g.mode,M),M.ref=Bh(g,_,S),M.return=g,g=M)}return a(g);case Pc:e:{for(A=S.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(g,_.sibling),_=i(_,S.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=h1(S,g.mode,M),_.return=g,g=_}return a(g);case Es:return A=S._init,y(g,_,A(S._payload),M)}if(gd(S))return v(g,_,S,M);if(Nh(S))return x(g,_,S,M);Gg(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,S),_.return=g,g=_):(n(g,_),_=f1(S,g.mode,M),_.return=g,g=_),a(g)):n(g,_)}return y}var uf=cU(!0),fU=cU(!1),Fy=Qs(null),By=null,Uc=null,JA=null;function QA(){JA=Uc=By=null}function eT(t){var e=Fy.current;Sn(Fy),t._currentValue=e}function xM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zc(t,e){By=t,JA=Uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(di=!0),t.firstContext=null)}function oo(t){var e=t._currentValue;if(JA!==t)if(t={context:t,memoizedValue:e,next:null},Uc===null){if(By===null)throw Error(De(308));Uc=t,By.dependencies={lanes:0,firstContext:t}}else Uc=Uc.next=t;return e}var Gl=null;function tT(t){Gl===null?Gl=[t]:Gl.push(t)}function hU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xa(t,r)}function Xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var As=!1;function nT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ba(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xa(t,n)}return i=r.interleaved,i===null?(e.next=e,tT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xa(t,n)}function hy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VA(t,n)}}function zO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zy(t,e,n,r){var i=t.updateQueue;As=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,x=s;switch(p=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Rn({},f,p);break e;case 2:As=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pu|=a,t.lanes=a,t.memoizedState=f}}function VO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var dm={},ia=Qs(dm),rp=Qs(dm),ip=Qs(dm);function Wl(t){if(t===dm)throw Error(De(174));return t}function rT(t,e){switch(mn(ip,e),mn(rp,t),mn(ia,dm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qw(e,t)}Sn(ia),mn(ia,e)}function cf(){Sn(ia),Sn(rp),Sn(ip)}function pU(t){Wl(ip.current);var e=Wl(ia.current),n=Qw(e,t.type);e!==n&&(mn(rp,t),mn(ia,n))}function iT(t){rp.current===t&&(Sn(ia),Sn(rp))}var Tn=Qs(0);function Vy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var o1=[];function oT(){for(var t=0;t<o1.length;t++)o1[t]._workInProgressVersionPrimary=null;o1.length=0}var dy=ts.ReactCurrentDispatcher,a1=ts.ReactCurrentBatchConfig,du=0,Cn=null,tr=null,dr=null,jy=!1,Cd=!1,op=0,$8=0;function Or(){throw Error(De(321))}function aT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function sT(t,e,n,r,i,o){if(du=o,Cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dy.current=t===null||t.memoizedState===null?Y8:q8,t=n(r,i),Cd){o=0;do{if(Cd=!1,op=0,25<=o)throw Error(De(301));o+=1,dr=tr=null,e.updateQueue=null,dy.current=K8,t=n(r,i)}while(Cd)}if(dy.current=Hy,e=tr!==null&&tr.next!==null,du=0,dr=tr=Cn=null,jy=!1,e)throw Error(De(300));return t}function lT(){var t=op!==0;return op=0,t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Cn.memoizedState=dr=t:dr=dr.next=t,dr}function ao(){if(tr===null){var t=Cn.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=dr===null?Cn.memoizedState:dr.next;if(e!==null)dr=e,tr=t;else{if(t===null)throw Error(De(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},dr===null?Cn.memoizedState=dr=t:dr=dr.next=t}return dr}function ap(t,e){return typeof e=="function"?e(t):e}function s1(t){var e=ao(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=tr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((du&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Cn.lanes|=c,pu|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ko(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Cn.lanes|=o,pu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function l1(t){var e=ao(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ko(o,e.memoizedState)||(di=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function mU(){}function gU(t,e){var n=Cn,r=ao(),i=e(),o=!ko(r.memoizedState,i);if(o&&(r.memoizedState=i,di=!0),r=r.queue,uT(xU.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,sp(9,yU.bind(null,n,r,i,e),void 0,null),mr===null)throw Error(De(349));du&30||vU(n,e,i)}return i}function vU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yU(t,e,n,r){e.value=n,e.getSnapshot=r,_U(e)&&SU(t)}function xU(t,e,n){return n(function(){_U(e)&&SU(t)})}function _U(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function SU(t){var e=Xa(t,1);e!==null&&Lo(e,t,1,-1)}function jO(t){var e=Ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:t},e.queue=t,t=t.dispatch=X8.bind(null,Cn,t),[e.memoizedState,t]}function sp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Cn.updateQueue,e===null?(e={lastEffect:null,stores:null},Cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bU(){return ao().memoizedState}function py(t,e,n,r){var i=Ko();Cn.flags|=t,i.memoizedState=sp(1|e,n,void 0,r===void 0?null:r)}function qx(t,e,n,r){var i=ao();r=r===void 0?null:r;var o=void 0;if(tr!==null){var a=tr.memoizedState;if(o=a.destroy,r!==null&&aT(r,a.deps)){i.memoizedState=sp(e,n,o,r);return}}Cn.flags|=t,i.memoizedState=sp(1|e,n,o,r)}function HO(t,e){return py(8390656,8,t,e)}function uT(t,e){return qx(2048,8,t,e)}function wU(t,e){return qx(4,2,t,e)}function MU(t,e){return qx(4,4,t,e)}function EU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AU(t,e,n){return n=n!=null?n.concat([t]):null,qx(4,4,EU.bind(null,e,t),n)}function cT(){}function TU(t,e){var n=ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PU(t,e){var n=ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CU(t,e,n){return du&21?(ko(n,e)||(n=Nk(),Cn.lanes|=n,pu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,di=!0),t.memoizedState=n)}function G8(t,e){var n=on;on=n!==0&&4>n?n:4,t(!0);var r=a1.transition;a1.transition={};try{t(!1),e()}finally{on=n,a1.transition=r}}function OU(){return ao().memoizedState}function W8(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RU(t))IU(e,n);else if(n=hU(t,e,n,r),n!==null){var i=ei();Lo(n,t,r,i),LU(n,e,r)}}function X8(t,e,n){var r=Hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RU(t))IU(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ko(s,a)){var l=e.interleaved;l===null?(i.next=i,tT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hU(t,e,i,r),n!==null&&(i=ei(),Lo(n,t,r,i),LU(n,e,r))}}function RU(t){var e=t.alternate;return t===Cn||e!==null&&e===Cn}function IU(t,e){Cd=jy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VA(t,n)}}var Hy={readContext:oo,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},Y8={readContext:oo,useCallback:function(t,e){return Ko().memoizedState=[t,e===void 0?null:e],t},useContext:oo,useEffect:HO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,py(4194308,4,EU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return py(4194308,4,t,e)},useInsertionEffect:function(t,e){return py(4,2,t,e)},useMemo:function(t,e){var n=Ko();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ko();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W8.bind(null,Cn,t),[r.memoizedState,t]},useRef:function(t){var e=Ko();return t={current:t},e.memoizedState=t},useState:jO,useDebugValue:cT,useDeferredValue:function(t){return Ko().memoizedState=t},useTransition:function(){var t=jO(!1),e=t[0];return t=G8.bind(null,t[1]),Ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Cn,i=Ko();if(Mn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),mr===null)throw Error(De(349));du&30||vU(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,HO(xU.bind(null,r,o,t),[t]),r.flags|=2048,sp(9,yU.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ko(),e=mr.identifierPrefix;if(Mn){var n=ka,r=Da;n=(r&~(1<<32-Io(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=op++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q8={readContext:oo,useCallback:TU,useContext:oo,useEffect:uT,useImperativeHandle:AU,useInsertionEffect:wU,useLayoutEffect:MU,useMemo:PU,useReducer:s1,useRef:bU,useState:function(){return s1(ap)},useDebugValue:cT,useDeferredValue:function(t){var e=ao();return CU(e,tr.memoizedState,t)},useTransition:function(){var t=s1(ap)[0],e=ao().memoizedState;return[t,e]},useMutableSource:mU,useSyncExternalStore:gU,useId:OU,unstable_isNewReconciler:!1},K8={readContext:oo,useCallback:TU,useContext:oo,useEffect:uT,useImperativeHandle:AU,useInsertionEffect:wU,useLayoutEffect:MU,useMemo:PU,useReducer:l1,useRef:bU,useState:function(){return l1(ap)},useDebugValue:cT,useDeferredValue:function(t){var e=ao();return tr===null?e.memoizedState=t:CU(e,tr.memoizedState,t)},useTransition:function(){var t=l1(ap)[0],e=ao().memoizedState;return[t,e]},useMutableSource:mU,useSyncExternalStore:gU,useId:OU,unstable_isNewReconciler:!1};function wo(t,e){if(t&&t.defaultProps){e=Rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _M(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kx={isMounted:function(t){return(t=t._reactInternals)?Au(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ei(),i=Hs(t),o=Ba(r,i);o.payload=e,n!=null&&(o.callback=n),e=Vs(t,o,i),e!==null&&(Lo(e,t,i,r),hy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ei(),i=Hs(t),o=Ba(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Vs(t,o,i),e!==null&&(Lo(e,t,i,r),hy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ei(),r=Hs(t),i=Ba(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vs(t,i,r),e!==null&&(Lo(e,t,r,n),hy(e,t,r))}};function $O(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Qd(n,r)||!Qd(i,o):!0}function NU(t,e,n){var r=!1,i=Xs,o=e.contextType;return typeof o=="object"&&o!==null?o=oo(o):(i=vi(e)?fu:jr.current,r=e.contextTypes,o=(r=r!=null)?sf(t,i):Xs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function GO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kx.enqueueReplaceState(e,e.state,null)}function SM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=oo(o):(o=vi(e)?fu:jr.current,i.context=sf(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_M(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kx.enqueueReplaceState(i,i.state,null),zy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ff(t,e){try{var n="",r=e;do n+=MH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function u1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z8=typeof WeakMap=="function"?WeakMap:Map;function DU(t,e,n){n=Ba(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gy||(Gy=!0,IM=r),bM(t,e)},n}function kU(t,e,n){n=Ba(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bM(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bM(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function WO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=f$.bind(null,t,e,n),e.then(t,t))}function XO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ba(-1,1),e.tag=2,Vs(n,e,1))),n.lanes|=1),t)}var J8=ts.ReactCurrentOwner,di=!1;function qr(t,e,n,r){e.child=t===null?fU(e,null,n,r):uf(e,t.child,n,r)}function qO(t,e,n,r,i){n=n.render;var o=e.ref;return Zc(e,i),r=sT(t,e,n,r,o,i),n=lT(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ya(t,e,i)):(Mn&&n&&qA(e),e.flags|=1,qr(t,e,r,i),e.child)}function KO(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UU(t,e,o,r,i)):(t=yy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qd,n(a,r)&&t.ref===e.ref)return Ya(t,e,i)}return e.flags|=1,t=$s(o,r),t.ref=e.ref,t.return=e,e.child=t}function UU(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Qd(o,r)&&t.ref===e.ref)if(di=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(di=!0);else return e.lanes=t.lanes,Ya(t,e,i)}return wM(t,e,n,r,i)}function FU(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Bc,Pi),Pi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mn(Bc,Pi),Pi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,mn(Bc,Pi),Pi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,mn(Bc,Pi),Pi|=r;return qr(t,e,i,n),e.child}function BU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wM(t,e,n,r,i){var o=vi(n)?fu:jr.current;return o=sf(e,o),Zc(e,i),n=sT(t,e,n,r,o,i),r=lT(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ya(t,e,i)):(Mn&&r&&qA(e),e.flags|=1,qr(t,e,n,i),e.child)}function ZO(t,e,n,r,i){if(vi(n)){var o=!0;Dy(e)}else o=!1;if(Zc(e,i),e.stateNode===null)my(t,e),NU(e,n,r),SM(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=oo(u):(u=vi(n)?fu:jr.current,u=sf(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&GO(e,a,r,u),As=!1;var p=e.memoizedState;a.state=p,zy(e,r,a,i),l=e.memoizedState,s!==r||p!==l||gi.current||As?(typeof c=="function"&&(_M(e,n,c,r),l=e.memoizedState),(s=As||$O(e,n,s,r,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,dU(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:wo(e.type,s),a.props=u,f=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=oo(l):(l=vi(n)?fu:jr.current,l=sf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||p!==l)&&GO(e,a,r,l),As=!1,p=e.memoizedState,a.state=p,zy(e,r,a,i);var v=e.memoizedState;s!==f||p!==v||gi.current||As?(typeof m=="function"&&(_M(e,n,m,r),v=e.memoizedState),(u=As||$O(e,n,u,r,p,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return MM(t,e,n,r,o,i)}function MM(t,e,n,r,i,o){BU(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&kO(e,n,!1),Ya(t,e,o);r=e.stateNode,J8.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=uf(e,t.child,null,o),e.child=uf(e,null,s,o)):qr(t,e,s,o),e.memoizedState=r.state,i&&kO(e,n,!0),e.child}function zU(t){var e=t.stateNode;e.pendingContext?DO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DO(t,e.context,!1),rT(t,e.containerInfo)}function JO(t,e,n,r,i){return lf(),ZA(i),e.flags|=256,qr(t,e,n,r),e.child}var EM={dehydrated:null,treeContext:null,retryLane:0};function AM(t){return{baseLanes:t,cachePool:null,transitions:null}}function VU(t,e,n){var r=e.pendingProps,i=Tn.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mn(Tn,i&1),t===null)return yM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Qx(a,r,0,null),t=nu(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=AM(n),e.memoizedState=EM,t):fT(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Q8(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$s(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=$s(s,o):(o=nu(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?AM(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=EM,r}return o=t.child,t=o.sibling,r=$s(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fT(t,e){return e=Qx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wg(t,e,n,r){return r!==null&&ZA(r),uf(e,t.child,null,n),t=fT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q8(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=u1(Error(De(422))),Wg(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qx({mode:"visible",children:r.children},i,0,null),o=nu(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&uf(e,t.child,null,a),e.child.memoizedState=AM(a),e.memoizedState=EM,o);if(!(e.mode&1))return Wg(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(De(419)),r=u1(o,r,void 0),Wg(t,e,a,r)}if(s=(a&t.childLanes)!==0,di||s){if(r=mr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xa(t,i),Lo(r,t,i,-1))}return vT(),r=u1(Error(De(421))),Wg(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=h$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ri=zs(i.nextSibling),Li=e,Mn=!0,To=null,t!==null&&(Ji[Qi++]=Da,Ji[Qi++]=ka,Ji[Qi++]=hu,Da=t.id,ka=t.overflow,hu=e),e=fT(e,r.children),e.flags|=4096,e)}function QO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xM(t.return,e,n)}function c1(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jU(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qr(t,e,r.children,n),r=Tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QO(t,n,e);else if(t.tag===19)QO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mn(Tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),c1(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}c1(e,!0,n,null,o);break;case"together":c1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function my(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ya(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=$s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e$(t,e,n){switch(e.tag){case 3:zU(e),lf();break;case 5:pU(e);break;case 1:vi(e.type)&&Dy(e);break;case 4:rT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mn(Fy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mn(Tn,Tn.current&1),e.flags|=128,null):n&e.child.childLanes?VU(t,e,n):(mn(Tn,Tn.current&1),t=Ya(t,e,n),t!==null?t.sibling:null);mn(Tn,Tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mn(Tn,Tn.current),r)break;return null;case 22:case 23:return e.lanes=0,FU(t,e,n)}return Ya(t,e,n)}var HU,TM,$U,GU;HU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};TM=function(){};$U=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wl(ia.current);var o=null;switch(n){case"input":i=qw(t,i),r=qw(t,r),o=[];break;case"select":i=Rn({},i,{value:void 0}),r=Rn({},r,{value:void 0}),o=[];break;case"textarea":i=Jw(t,i),r=Jw(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ly)}eM(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vn("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};GU=function(t,e,n,r){n!==r&&(e.flags|=4)};function zh(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t$(t,e,n){var r=e.pendingProps;switch(KA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(e),null;case 1:return vi(e.type)&&Ny(),Rr(e),null;case 3:return r=e.stateNode,cf(),Sn(gi),Sn(jr),oT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($g(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,To!==null&&(DM(To),To=null))),TM(t,e),Rr(e),null;case 5:iT(e);var i=Wl(ip.current);if(n=e.type,t!==null&&e.stateNode!=null)$U(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return Rr(e),null}if(t=Wl(ia.current),$g(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jo]=e,r[np]=o,t=(e.mode&1)!==0,n){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(i=0;i<yd.length;i++)vn(yd[i],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":lO(r,o),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},vn("invalid",r);break;case"textarea":cO(r,o),vn("invalid",r)}eM(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Hg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Hg(r.textContent,s,t),i=["children",""+s]):Wd.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&vn("scroll",r)}switch(n){case"input":Dg(r),uO(r,o,!0);break;case"textarea":Dg(r),fO(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ly)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Jo]=e,t[np]=r,HU(t,e,!1,!1),e.stateNode=t;e:{switch(a=tM(n,r),n){case"dialog":vn("cancel",t),vn("close",t),i=r;break;case"iframe":case"object":case"embed":vn("load",t),i=r;break;case"video":case"audio":for(i=0;i<yd.length;i++)vn(yd[i],t);i=r;break;case"source":vn("error",t),i=r;break;case"img":case"image":case"link":vn("error",t),vn("load",t),i=r;break;case"details":vn("toggle",t),i=r;break;case"input":lO(t,r),i=qw(t,r),vn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rn({},r,{value:void 0}),vn("invalid",t);break;case"textarea":cO(t,r),i=Jw(t,r),vn("invalid",t);break;default:i=r}eM(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?bk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_k(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xd(t,l):typeof l=="number"&&Xd(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&vn("scroll",t):l!=null&&DA(t,o,l,a))}switch(n){case"input":Dg(t),uO(t,r,!1);break;case"textarea":Dg(t),fO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ws(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xc(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ly)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rr(e),null;case 6:if(t&&e.stateNode!=null)GU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Wl(ip.current),Wl(ia.current),$g(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jo]=e,(o=r.nodeValue!==n)&&(t=Li,t!==null))switch(t.tag){case 3:Hg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jo]=e,e.stateNode=r}return Rr(e),null;case 13:if(Sn(Tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&Ri!==null&&e.mode&1&&!(e.flags&128))uU(),lf(),e.flags|=98560,o=!1;else if(o=$g(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(De(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(De(317));o[Jo]=e}else lf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rr(e),o=!1}else To!==null&&(DM(To),To=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Tn.current&1?nr===0&&(nr=3):vT())),e.updateQueue!==null&&(e.flags|=4),Rr(e),null);case 4:return cf(),TM(t,e),t===null&&ep(e.stateNode.containerInfo),Rr(e),null;case 10:return eT(e.type._context),Rr(e),null;case 17:return vi(e.type)&&Ny(),Rr(e),null;case 19:if(Sn(Tn),o=e.memoizedState,o===null)return Rr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zh(o,!1);else{if(nr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vy(t),a!==null){for(e.flags|=128,zh(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mn(Tn,Tn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Bn()>hf&&(e.flags|=128,r=!0,zh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Vy(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Mn)return Rr(e),null}else 2*Bn()-o.renderingStartTime>hf&&n!==1073741824&&(e.flags|=128,r=!0,zh(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bn(),e.sibling=null,n=Tn.current,mn(Tn,r?n&1|2:n&1),e):(Rr(e),null);case 22:case 23:return gT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(Rr(e),e.subtreeFlags&6&&(e.flags|=8192)):Rr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function n$(t,e){switch(KA(e),e.tag){case 1:return vi(e.type)&&Ny(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cf(),Sn(gi),Sn(jr),oT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iT(e),null;case 13:if(Sn(Tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));lf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(Tn),null;case 4:return cf(),null;case 10:return eT(e.type._context),null;case 22:case 23:return gT(),null;case 24:return null;default:return null}}var Xg=!1,kr=!1,r$=typeof WeakSet=="function"?WeakSet:Set,st=null;function Fc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function PM(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var eR=!1;function i$(t,e){if(fM=Oy,t=Kk(),YA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hM={focusedElem:t,selectionRange:n},Oy=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:wo(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(M){Nn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return v=eR,eR=!1,v}function Od(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&PM(e,n,o)}i=i.next}while(i!==r)}}function Zx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function CM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WU(t){var e=t.alternate;e!==null&&(t.alternate=null,WU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jo],delete e[np],delete e[mM],delete e[z8],delete e[V8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XU(t){return t.tag===5||t.tag===3||t.tag===4}function tR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ly));else if(r!==4&&(t=t.child,t!==null))for(OM(t,e,n),t=t.sibling;t!==null;)OM(t,e,n),t=t.sibling}function RM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(RM(t,e,n),t=t.sibling;t!==null;)RM(t,e,n),t=t.sibling}var xr=null,Mo=!1;function gs(t,e,n){for(n=n.child;n!==null;)YU(t,e,n),n=n.sibling}function YU(t,e,n){if(ra&&typeof ra.onCommitFiberUnmount=="function")try{ra.onCommitFiberUnmount(Hx,n)}catch{}switch(n.tag){case 5:kr||Fc(n,e);case 6:var r=xr,i=Mo;xr=null,gs(t,e,n),xr=r,Mo=i,xr!==null&&(Mo?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(Mo?(t=xr,n=n.stateNode,t.nodeType===8?r1(t.parentNode,n):t.nodeType===1&&r1(t,n),Zd(t)):r1(xr,n.stateNode));break;case 4:r=xr,i=Mo,xr=n.stateNode.containerInfo,Mo=!0,gs(t,e,n),xr=r,Mo=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&PM(n,e,a),i=i.next}while(i!==r)}gs(t,e,n);break;case 1:if(!kr&&(Fc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nn(n,e,s)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,gs(t,e,n),kr=r):gs(t,e,n);break;default:gs(t,e,n)}}function nR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r$),e.forEach(function(r){var i=d$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:xr=s.stateNode,Mo=!1;break e;case 3:xr=s.stateNode.containerInfo,Mo=!0;break e;case 4:xr=s.stateNode.containerInfo,Mo=!0;break e}s=s.return}if(xr===null)throw Error(De(160));YU(o,a,i),xr=null,Mo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qU(e,t),e=e.sibling}function qU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yo(e,t),Wo(t),r&4){try{Od(3,t,t.return),Zx(3,t)}catch(x){Nn(t,t.return,x)}try{Od(5,t,t.return)}catch(x){Nn(t,t.return,x)}}break;case 1:yo(e,t),Wo(t),r&512&&n!==null&&Fc(n,n.return);break;case 5:if(yo(e,t),Wo(t),r&512&&n!==null&&Fc(n,n.return),t.flags&32){var i=t.stateNode;try{Xd(i,"")}catch(x){Nn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&vk(i,o),tM(s,a);var u=tM(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?bk(i,f):c==="dangerouslySetInnerHTML"?_k(i,f):c==="children"?Xd(i,f):DA(i,c,f,u)}switch(s){case"input":Kw(i,o);break;case"textarea":yk(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Xc(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Xc(i,!!o.multiple,o.defaultValue,!0):Xc(i,!!o.multiple,o.multiple?[]:"",!1))}i[np]=o}catch(x){Nn(t,t.return,x)}}break;case 6:if(yo(e,t),Wo(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Nn(t,t.return,x)}}break;case 3:if(yo(e,t),Wo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zd(e.containerInfo)}catch(x){Nn(t,t.return,x)}break;case 4:yo(e,t),Wo(t);break;case 13:yo(e,t),Wo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(pT=Bn())),r&4&&nR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(kr=(u=kr)||c,yo(e,t),kr=u):yo(e,t),Wo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(st=t,c=t.child;c!==null;){for(f=st=c;st!==null;){switch(p=st,m=p.child,p.tag){case 0:case 11:case 14:case 15:Od(4,p,p.return);break;case 1:Fc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Nn(r,n,x)}}break;case 5:Fc(p,p.return);break;case 22:if(p.memoizedState!==null){iR(f);continue}}m!==null?(m.return=p,st=m):iR(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Sk("display",a))}catch(x){Nn(t,t.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Nn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yo(e,t),Wo(t),r&4&&nR(t);break;case 21:break;default:yo(e,t),Wo(t)}}function Wo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XU(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xd(i,""),r.flags&=-33);var o=tR(t);RM(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=tR(t);OM(t,s,a);break;default:throw Error(De(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o$(t,e,n){st=t,KU(t)}function KU(t,e,n){for(var r=(t.mode&1)!==0;st!==null;){var i=st,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Xg;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||kr;s=Xg;var u=kr;if(Xg=a,(kr=l)&&!u)for(st=i;st!==null;)a=st,l=a.child,a.tag===22&&a.memoizedState!==null?oR(i):l!==null?(l.return=a,st=l):oR(i);for(;o!==null;)st=o,KU(o),o=o.sibling;st=i,Xg=s,kr=u}rR(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,st=o):rR(t)}}function rR(t){for(;st!==null;){var e=st;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||Zx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&VO(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VO(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Zd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}kr||e.flags&512&&CM(e)}catch(p){Nn(e,e.return,p)}}if(e===t){st=null;break}if(n=e.sibling,n!==null){n.return=e.return,st=n;break}st=e.return}}function iR(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var n=e.sibling;if(n!==null){n.return=e.return,st=n;break}st=e.return}}function oR(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zx(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nn(e,i,l)}}var o=e.return;try{CM(e)}catch(l){Nn(e,o,l)}break;case 5:var a=e.return;try{CM(e)}catch(l){Nn(e,a,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){st=null;break}var s=e.sibling;if(s!==null){s.return=e.return,st=s;break}st=e.return}}var a$=Math.ceil,$y=ts.ReactCurrentDispatcher,hT=ts.ReactCurrentOwner,no=ts.ReactCurrentBatchConfig,Gt=0,mr=null,Xn=null,Sr=0,Pi=0,Bc=Qs(0),nr=0,lp=null,pu=0,Jx=0,dT=0,Rd=null,fi=null,pT=0,hf=1/0,Ra=null,Gy=!1,IM=null,js=null,Yg=!1,Is=null,Wy=0,Id=0,LM=null,gy=-1,vy=0;function ei(){return Gt&6?Bn():gy!==-1?gy:gy=Bn()}function Hs(t){return t.mode&1?Gt&2&&Sr!==0?Sr&-Sr:H8.transition!==null?(vy===0&&(vy=Nk()),vy):(t=on,t!==0||(t=window.event,t=t===void 0?16:Vk(t.type)),t):1}function Lo(t,e,n,r){if(50<Id)throw Id=0,LM=null,Error(De(185));cm(t,n,r),(!(Gt&2)||t!==mr)&&(t===mr&&(!(Gt&2)&&(Jx|=n),nr===4&&Cs(t,Sr)),yi(t,r),n===1&&Gt===0&&!(e.mode&1)&&(hf=Bn()+500,Yx&&el()))}function yi(t,e){var n=t.callbackNode;HH(t,e);var r=Cy(t,t===mr?Sr:0);if(r===0)n!==null&&pO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pO(n),e===1)t.tag===0?j8(aR.bind(null,t)):aU(aR.bind(null,t)),F8(function(){!(Gt&6)&&el()}),n=null;else{switch(Dk(r)){case 1:n=zA;break;case 4:n=Ik;break;case 16:n=Py;break;case 536870912:n=Lk;break;default:n=Py}n=iF(n,ZU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZU(t,e){if(gy=-1,vy=0,Gt&6)throw Error(De(327));var n=t.callbackNode;if(Jc()&&t.callbackNode!==n)return null;var r=Cy(t,t===mr?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xy(t,r);else{e=r;var i=Gt;Gt|=2;var o=QU();(mr!==t||Sr!==e)&&(Ra=null,hf=Bn()+500,tu(t,e));do try{u$();break}catch(s){JU(t,s)}while(!0);QA(),$y.current=o,Gt=i,Xn!==null?e=0:(mr=null,Sr=0,e=nr)}if(e!==0){if(e===2&&(i=aM(t),i!==0&&(r=i,e=NM(t,i))),e===1)throw n=lp,tu(t,0),Cs(t,r),yi(t,Bn()),n;if(e===6)Cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!s$(i)&&(e=Xy(t,r),e===2&&(o=aM(t),o!==0&&(r=o,e=NM(t,o))),e===1))throw n=lp,tu(t,0),Cs(t,r),yi(t,Bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:kl(t,fi,Ra);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=pT+500-Bn(),10<e)){if(Cy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ei(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pM(kl.bind(null,t,fi,Ra),e);break}kl(t,fi,Ra);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Io(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a$(r/1960))-r,10<r){t.timeoutHandle=pM(kl.bind(null,t,fi,Ra),r);break}kl(t,fi,Ra);break;case 5:kl(t,fi,Ra);break;default:throw Error(De(329))}}}return yi(t,Bn()),t.callbackNode===n?ZU.bind(null,t):null}function NM(t,e){var n=Rd;return t.current.memoizedState.isDehydrated&&(tu(t,e).flags|=256),t=Xy(t,e),t!==2&&(e=fi,fi=n,e!==null&&DM(e)),t}function DM(t){fi===null?fi=t:fi.push.apply(fi,t)}function s$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ko(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~dT,e&=~Jx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Io(e),r=1<<n;t[n]=-1,e&=~r}}function aR(t){if(Gt&6)throw Error(De(327));Jc();var e=Cy(t,0);if(!(e&1))return yi(t,Bn()),null;var n=Xy(t,e);if(t.tag!==0&&n===2){var r=aM(t);r!==0&&(e=r,n=NM(t,r))}if(n===1)throw n=lp,tu(t,0),Cs(t,e),yi(t,Bn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kl(t,fi,Ra),yi(t,Bn()),null}function mT(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(hf=Bn()+500,Yx&&el())}}function mu(t){Is!==null&&Is.tag===0&&!(Gt&6)&&Jc();var e=Gt;Gt|=1;var n=no.transition,r=on;try{if(no.transition=null,on=1,t)return t()}finally{on=r,no.transition=n,Gt=e,!(Gt&6)&&el()}}function gT(){Pi=Bc.current,Sn(Bc)}function tu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U8(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(KA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ny();break;case 3:cf(),Sn(gi),Sn(jr),oT();break;case 5:iT(r);break;case 4:cf();break;case 13:Sn(Tn);break;case 19:Sn(Tn);break;case 10:eT(r.type._context);break;case 22:case 23:gT()}n=n.return}if(mr=t,Xn=t=$s(t.current,null),Sr=Pi=e,nr=0,lp=null,dT=Jx=pu=0,fi=Rd=null,Gl!==null){for(e=0;e<Gl.length;e++)if(n=Gl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Gl=null}return t}function JU(t,e){do{var n=Xn;try{if(QA(),dy.current=Hy,jy){for(var r=Cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jy=!1}if(du=0,dr=tr=Cn=null,Cd=!1,op=0,hT.current=null,n===null||n.return===null){nr=1,lp=e,Xn=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Sr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=XO(a);if(m!==null){m.flags&=-257,YO(m,a,s,o,e),m.mode&1&&WO(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){WO(o,u,e),vT();break e}l=Error(De(426))}}else if(Mn&&s.mode&1){var y=XO(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),YO(y,a,s,o,e),ZA(ff(l,s));break e}}o=l=ff(l,s),nr!==4&&(nr=2),Rd===null?Rd=[o]:Rd.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=DU(o,l,e);zO(o,g);break e;case 1:s=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(js===null||!js.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=kU(o,s,e);zO(o,M);break e}}o=o.return}while(o!==null)}tF(n)}catch(w){e=w,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function QU(){var t=$y.current;return $y.current=Hy,t===null?Hy:t}function vT(){(nr===0||nr===3||nr===2)&&(nr=4),mr===null||!(pu&268435455)&&!(Jx&268435455)||Cs(mr,Sr)}function Xy(t,e){var n=Gt;Gt|=2;var r=QU();(mr!==t||Sr!==e)&&(Ra=null,tu(t,e));do try{l$();break}catch(i){JU(t,i)}while(!0);if(QA(),Gt=n,$y.current=r,Xn!==null)throw Error(De(261));return mr=null,Sr=0,nr}function l$(){for(;Xn!==null;)eF(Xn)}function u$(){for(;Xn!==null&&!NH();)eF(Xn)}function eF(t){var e=rF(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?tF(t):Xn=e,hT.current=null}function tF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n$(n,e),n!==null){n.flags&=32767,Xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nr=6,Xn=null;return}}else if(n=t$(n,e,Pi),n!==null){Xn=n;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);nr===0&&(nr=5)}function kl(t,e,n){var r=on,i=no.transition;try{no.transition=null,on=1,c$(t,e,n,r)}finally{no.transition=i,on=r}return null}function c$(t,e,n,r){do Jc();while(Is!==null);if(Gt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($H(t,o),t===mr&&(Xn=mr=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yg||(Yg=!0,iF(Py,function(){return Jc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=no.transition,no.transition=null;var a=on;on=1;var s=Gt;Gt|=4,hT.current=null,i$(t,n),qU(n,t),O8(hM),Oy=!!fM,hM=fM=null,t.current=n,o$(n),DH(),Gt=s,on=a,no.transition=o}else t.current=n;if(Yg&&(Yg=!1,Is=t,Wy=i),o=t.pendingLanes,o===0&&(js=null),FH(n.stateNode),yi(t,Bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gy)throw Gy=!1,t=IM,IM=null,t;return Wy&1&&t.tag!==0&&Jc(),o=t.pendingLanes,o&1?t===LM?Id++:(Id=0,LM=t):Id=0,el(),null}function Jc(){if(Is!==null){var t=Dk(Wy),e=no.transition,n=on;try{if(no.transition=null,on=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Wy=0,Gt&6)throw Error(De(331));var i=Gt;for(Gt|=4,st=t.current;st!==null;){var o=st,a=o.child;if(st.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(st=u;st!==null;){var c=st;switch(c.tag){case 0:case 11:case 15:Od(8,c,o)}var f=c.child;if(f!==null)f.return=c,st=f;else for(;st!==null;){c=st;var p=c.sibling,m=c.return;if(WU(c),c===u){st=null;break}if(p!==null){p.return=m,st=p;break}st=m}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}st=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,st=a;else e:for(;st!==null;){if(o=st,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Od(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,st=g;break e}st=o.return}}var _=t.current;for(st=_;st!==null;){a=st;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,st=S;else e:for(a=_;st!==null;){if(s=st,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Zx(9,s)}}catch(w){Nn(s,s.return,w)}if(s===a){st=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,st=M;break e}st=s.return}}if(Gt=i,el(),ra&&typeof ra.onPostCommitFiberRoot=="function")try{ra.onPostCommitFiberRoot(Hx,t)}catch{}r=!0}return r}finally{on=n,no.transition=e}}return!1}function sR(t,e,n){e=ff(n,e),e=DU(t,e,1),t=Vs(t,e,1),e=ei(),t!==null&&(cm(t,1,e),yi(t,e))}function Nn(t,e,n){if(t.tag===3)sR(t,t,n);else for(;e!==null;){if(e.tag===3){sR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=ff(n,t),t=kU(e,t,1),e=Vs(e,t,1),t=ei(),e!==null&&(cm(e,1,t),yi(e,t));break}}e=e.return}}function f$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ei(),t.pingedLanes|=t.suspendedLanes&n,mr===t&&(Sr&n)===n&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>Bn()-pT?tu(t,0):dT|=n),yi(t,e)}function nF(t,e){e===0&&(t.mode&1?(e=Fg,Fg<<=1,!(Fg&130023424)&&(Fg=4194304)):e=1);var n=ei();t=Xa(t,e),t!==null&&(cm(t,e,n),yi(t,n))}function h$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nF(t,n)}function d$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),nF(t,n)}var rF;rF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)di=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return di=!1,e$(t,e,n);di=!!(t.flags&131072)}else di=!1,Mn&&e.flags&1048576&&sU(e,Uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;my(t,e),t=e.pendingProps;var i=sf(e,jr.current);Zc(e,n),i=sT(null,e,r,t,i,n);var o=lT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,Dy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nT(e),i.updater=Kx,e.stateNode=i,i._reactInternals=e,SM(e,r,t,n),e=MM(null,e,r,!0,o,n)):(e.tag=0,Mn&&o&&qA(e),qr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(my(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m$(r),t=wo(r,t),i){case 0:e=wM(null,e,r,t,n);break e;case 1:e=ZO(null,e,r,t,n);break e;case 11:e=qO(null,e,r,t,n);break e;case 14:e=KO(null,e,r,wo(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),wM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),ZO(t,e,r,i,n);case 3:e:{if(zU(e),t===null)throw Error(De(387));r=e.pendingProps,o=e.memoizedState,i=o.element,dU(t,e),zy(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ff(Error(De(423)),e),e=JO(t,e,r,n,i);break e}else if(r!==i){i=ff(Error(De(424)),e),e=JO(t,e,r,n,i);break e}else for(Ri=zs(e.stateNode.containerInfo.firstChild),Li=e,Mn=!0,To=null,n=fU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lf(),r===i){e=Ya(t,e,n);break e}qr(t,e,r,n)}e=e.child}return e;case 5:return pU(e),t===null&&yM(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dM(r,i)?a=null:o!==null&&dM(r,o)&&(e.flags|=32),BU(t,e),qr(t,e,a,n),e.child;case 6:return t===null&&yM(e),null;case 13:return VU(t,e,n);case 4:return rT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uf(e,null,r,n):qr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),qO(t,e,r,i,n);case 7:return qr(t,e,e.pendingProps,n),e.child;case 8:return qr(t,e,e.pendingProps.children,n),e.child;case 12:return qr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,mn(Fy,r._currentValue),r._currentValue=a,o!==null)if(ko(o.value,a)){if(o.children===i.children&&!gi.current){e=Ya(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ba(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xM(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(De(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xM(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}qr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zc(e,n),i=oo(i),r=r(i),e.flags|=1,qr(t,e,r,n),e.child;case 14:return r=e.type,i=wo(r,e.pendingProps),i=wo(r.type,i),KO(t,e,r,i,n);case 15:return UU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wo(r,i),my(t,e),e.tag=1,vi(r)?(t=!0,Dy(e)):t=!1,Zc(e,n),NU(e,r,i),SM(e,r,i,n),MM(null,e,r,!0,t,n);case 19:return jU(t,e,n);case 22:return FU(t,e,n)}throw Error(De(156,e.tag))};function iF(t,e){return Rk(t,e)}function p$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(t,e,n,r){return new p$(t,e,n,r)}function yT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m$(t){if(typeof t=="function")return yT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UA)return 11;if(t===FA)return 14}return 2}function $s(t,e){var n=t.alternate;return n===null?(n=eo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yy(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")yT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Cc:return nu(n.children,i,o,e);case kA:a=8,i|=8;break;case Gw:return t=eo(12,n,e,i|2),t.elementType=Gw,t.lanes=o,t;case Ww:return t=eo(13,n,e,i),t.elementType=Ww,t.lanes=o,t;case Xw:return t=eo(19,n,e,i),t.elementType=Xw,t.lanes=o,t;case pk:return Qx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hk:a=10;break e;case dk:a=9;break e;case UA:a=11;break e;case FA:a=14;break e;case Es:a=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=eo(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function nu(t,e,n,r){return t=eo(7,t,r,e),t.lanes=n,t}function Qx(t,e,n,r){return t=eo(22,t,r,e),t.elementType=pk,t.lanes=n,t.stateNode={isHidden:!1},t}function f1(t,e,n){return t=eo(6,t,null,e),t.lanes=n,t}function h1(t,e,n){return e=eo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wb(0),this.expirationTimes=Wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xT(t,e,n,r,i,o,a,s,l){return t=new g$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=eo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nT(o),t}function v$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oF(t){if(!t)return Xs;t=t._reactInternals;e:{if(Au(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(vi(n))return oU(t,n,e)}return e}function aF(t,e,n,r,i,o,a,s,l){return t=xT(n,r,!0,t,i,o,a,s,l),t.context=oF(null),n=t.current,r=ei(),i=Hs(n),o=Ba(r,i),o.callback=e??null,Vs(n,o,i),t.current.lanes=i,cm(t,i,r),yi(t,r),t}function e_(t,e,n,r){var i=e.current,o=ei(),a=Hs(i);return n=oF(n),e.context===null?e.context=n:e.pendingContext=n,e=Ba(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vs(i,e,a),t!==null&&(Lo(t,i,a,o),hy(t,i,a)),a}function Yy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _T(t,e){lR(t,e),(t=t.alternate)&&lR(t,e)}function y$(){return null}var sF=typeof reportError=="function"?reportError:function(t){console.error(t)};function ST(t){this._internalRoot=t}t_.prototype.render=ST.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));e_(t,e,null,null)};t_.prototype.unmount=ST.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mu(function(){e_(null,t,null,null)}),e[Wa]=null}};function t_(t){this._internalRoot=t}t_.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ps.length&&e!==0&&e<Ps[n].priority;n++);Ps.splice(n,0,t),n===0&&zk(t)}};function bT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function n_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uR(){}function x$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Yy(a);o.call(u)}}var a=aF(e,r,t,0,null,!1,!1,"",uR);return t._reactRootContainer=a,t[Wa]=a.current,ep(t.nodeType===8?t.parentNode:t),mu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Yy(l);s.call(u)}}var l=xT(t,0,!1,null,null,!1,!1,"",uR);return t._reactRootContainer=l,t[Wa]=l.current,ep(t.nodeType===8?t.parentNode:t),mu(function(){e_(e,l,n,r)}),l}function r_(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Yy(a);s.call(l)}}e_(e,a,t,i)}else a=x$(n,e,t,i,r);return Yy(a)}kk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vd(e.pendingLanes);n!==0&&(VA(e,n|1),yi(e,Bn()),!(Gt&6)&&(hf=Bn()+500,el()))}break;case 13:mu(function(){var r=Xa(t,1);if(r!==null){var i=ei();Lo(r,t,1,i)}}),_T(t,1)}};jA=function(t){if(t.tag===13){var e=Xa(t,134217728);if(e!==null){var n=ei();Lo(e,t,134217728,n)}_T(t,134217728)}};Uk=function(t){if(t.tag===13){var e=Hs(t),n=Xa(t,e);if(n!==null){var r=ei();Lo(n,t,e,r)}_T(t,e)}};Fk=function(){return on};Bk=function(t,e){var n=on;try{return on=t,e()}finally{on=n}};rM=function(t,e,n){switch(e){case"input":if(Kw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xx(r);if(!i)throw Error(De(90));gk(r),Kw(r,i)}}}break;case"textarea":yk(t,n);break;case"select":e=n.value,e!=null&&Xc(t,!!n.multiple,e,!1)}};Ek=mT;Ak=mu;var _$={usingClientEntryPoint:!1,Events:[hm,Lc,Xx,wk,Mk,mT]},Vh={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S$={bundleType:Vh.bundleType,version:Vh.version,rendererPackageName:Vh.rendererPackageName,rendererConfig:Vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ck(t),t===null?null:t.stateNode},findFiberByHostInstance:Vh.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{Hx=qg.inject(S$),ra=qg}catch{}}Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_$;Fi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bT(e))throw Error(De(200));return v$(t,e,null,n)};Fi.createRoot=function(t,e){if(!bT(t))throw Error(De(299));var n=!1,r="",i=sF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xT(t,1,!1,null,null,n,!1,r,i),t[Wa]=e.current,ep(t.nodeType===8?t.parentNode:t),new ST(e)};Fi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=Ck(e),t=t===null?null:t.stateNode,t};Fi.flushSync=function(t){return mu(t)};Fi.hydrate=function(t,e,n){if(!n_(e))throw Error(De(200));return r_(null,t,e,!0,n)};Fi.hydrateRoot=function(t,e,n){if(!bT(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=sF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=aF(e,null,t,1,n??null,i,!1,o,a),t[Wa]=e.current,ep(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new t_(e)};Fi.render=function(t,e,n){if(!n_(e))throw Error(De(200));return r_(null,t,e,!1,n)};Fi.unmountComponentAtNode=function(t){if(!n_(t))throw Error(De(40));return t._reactRootContainer?(mu(function(){r_(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};Fi.unstable_batchedUpdates=mT;Fi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!n_(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return r_(t,e,n,!1,r)};Fi.version="18.3.1-next-f1338f8080-20240426";function lF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lF)}catch(t){console.error(t)}}lF(),lk.exports=Fi;var b$=lk.exports,uF,cR=b$;uF=cR.createRoot,cR.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fR="popstate";function w$(t={}){function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return kM("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:up(i)}return E$(e,n,null,t)}function On(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function la(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M$(){return Math.random().toString(36).substring(2,10)}function hR(t,e){return{usr:t.state,key:t.key,idx:e}}function kM(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xf(e):e,state:n,key:e&&e.key||r||M$()}}function up({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function E$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function f(){s="POP";let y=c(),g=y==null?null:y-u;u=y,l&&l({action:s,location:x.location,delta:g})}function p(y,g){s="PUSH";let _=kM(x.location,y,g);u=c()+1;let S=hR(_,u),M=x.createHref(_);try{a.pushState(S,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(M)}o&&l&&l({action:s,location:x.location,delta:1})}function m(y,g){s="REPLACE";let _=kM(x.location,y,g);u=c();let S=hR(_,u),M=x.createHref(_);a.replaceState(S,"",M),o&&l&&l({action:s,location:x.location,delta:0})}function v(y){return A$(y)}let x={get action(){return s},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fR,f),l=y,()=>{i.removeEventListener(fR,f),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return a.go(y)}};return x}function A$(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),On(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:up(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cF(t,e,n="/"){return T$(t,e,n,!1)}function T$(t,e,n,r){let i=typeof e=="string"?Xf(e):e,o=qa(i.pathname||"/",n);if(o==null)return null;let a=fF(t);P$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=B$(o);s=U$(a[l],u,r)}return s}function fF(t,e=[],n=[],r="",i=!1){let o=(a,s,l=i,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;On(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=za([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(On(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fF(a.children,e,p,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:D$(f,a.index),routesMeta:p})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,s);else for(let u of hF(a.path))o(a,s,!0,u)}),e}function hF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=hF(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function P$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C$=/^:[\w-]+$/,O$=3,R$=2,I$=1,L$=10,N$=-2,dR=t=>t==="*";function D$(t,e){let n=t.split("/"),r=n.length;return n.some(dR)&&(r+=N$),e&&(r+=R$),n.filter(i=>!dR(i)).reduce((i,o)=>i+(C$.test(o)?O$:o===""?I$:L$),r)}function k$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function U$(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=qy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:za([o,f.pathname]),pathnameBase:H$(za([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=za([o,f.pathnameBase]))}return a}function qy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},p)=>{if(c==="*"){let v=s[p]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[p];return f&&!m?u[c]=void 0:u[c]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function F$(t,e=!1,n=!0){la(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function B$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return la(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var z$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function V$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xf(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=pR(n.substring(1),"/"):o=pR(n,e)):o=e,{pathname:o,search:$$(r),hash:G$(i)}}function pR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dF(t){let e=j$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pF(t,e,n,r=!1){let i;typeof t=="string"?i=Xf(t):(i={...t},On(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),On(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),On(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=V$(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var za=t=>t.join("/").replace(/\/\/+/g,"/"),H$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,W$=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function X$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Y$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gF(t,e){let n=t;if(typeof n!="string"||!z$.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(mF)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),s=qa(a.pathname,e);a.origin===o.origin&&s!=null?n=s+a.search+a.hash:i=!0}catch{la(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vF=["POST","PUT","PATCH","DELETE"];new Set(vF);var q$=["GET",...vF];new Set(q$);var Yf=j.createContext(null);Yf.displayName="DataRouter";var i_=j.createContext(null);i_.displayName="DataRouterState";var K$=j.createContext(!1),yF=j.createContext({isTransitioning:!1});yF.displayName="ViewTransition";var Z$=j.createContext(new Map);Z$.displayName="Fetchers";var J$=j.createContext(null);J$.displayName="Await";var co=j.createContext(null);co.displayName="Navigation";var pm=j.createContext(null);pm.displayName="Location";var ns=j.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var wT=j.createContext(null);wT.displayName="RouteError";var xF="REACT_ROUTER_ERROR",Q$="REDIRECT",e6="ROUTE_ERROR_RESPONSE";function t6(t){if(t.startsWith(`${xF}:${Q$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n6(t){if(t.startsWith(`${xF}:${e6}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W$(e.status,e.statusText,e.data)}catch{}}function r6(t,{relative:e}={}){On(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(co),{hash:i,pathname:o,search:a}=gm(t,{relative:e}),s=o;return n!=="/"&&(s=o==="/"?n:za([n,o])),r.createHref({pathname:s,search:a,hash:i})}function mm(){return j.useContext(pm)!=null}function Tu(){return On(mm(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(pm).location}var _F="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SF(t){j.useContext(co).static||j.useLayoutEffect(t)}function i6(){let{isDataRoute:t}=j.useContext(ns);return t?v6():o6()}function o6(){On(mm(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Yf),{basename:e,navigator:n}=j.useContext(co),{matches:r}=j.useContext(ns),{pathname:i}=Tu(),o=JSON.stringify(dF(r)),a=j.useRef(!1);return SF(()=>{a.current=!0}),j.useCallback((l,u={})=>{if(la(a.current,_F),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=pF(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:za([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}j.createContext(null);function gm(t,{relative:e}={}){let{matches:n}=j.useContext(ns),{pathname:r}=Tu(),i=JSON.stringify(dF(n));return j.useMemo(()=>pF(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function a6(t,e){return bF(t,e)}function bF(t,e,n,r,i){var _;On(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(co),{matches:a}=j.useContext(ns),s=a[a.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",f=s&&s.route;{let S=f&&f.path||"";MF(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Tu(),m;if(e){let S=typeof e=="string"?Xf(e):e;On(c==="/"||((_=S.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=p;let v=m.pathname||"/",x=v;if(c!=="/"){let S=c.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=cF(t,{pathname:x});la(f||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),la(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=f6(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:za([c,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:za([c,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,n,r,i);return e&&g?j.createElement(pm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function s6(){let t=g6(),e=X$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,a)}var l6=j.createElement(s6,null),wF=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=n6(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(ns.Provider,{value:this.props.routeContext},j.createElement(wT.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(u6,{error:t},e):e}};wF.contextType=K$;var p1=new WeakMap;function u6({children:t,error:e}){let{basename:n}=j.useContext(co);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=t6(e.digest);if(r){let i=p1.get(e);if(i)throw i;let o=gF(r.location,n);if(mF&&!p1.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw p1.set(e,a),a}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function c6({routeContext:t,match:e,children:n}){let r=j.useContext(Yf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ns.Provider,{value:t},n)}function f6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);On(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let u=n&&r?(c,f)=>{var p,m;r(c,{location:n.location,params:((m=(p=n.matches)==null?void 0:p[0])==null?void 0:m.params)??{},unstable_pattern:Y$(n.matches),errorInfo:f})}:void 0;return o.reduceRight((c,f,p)=>{let m,v=!1,x=null,y=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||l6,s&&(l<0&&p===0?(MF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,y=null):l===p&&(v=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),_=()=>{let S;return m?S=x:v?S=y:f.route.Component?S=j.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,j.createElement(c6,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(wF,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):_()},null)}function MT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h6(t){let e=j.useContext(Yf);return On(e,MT(t)),e}function d6(t){let e=j.useContext(i_);return On(e,MT(t)),e}function p6(t){let e=j.useContext(ns);return On(e,MT(t)),e}function ET(t){let e=p6(t),n=e.matches[e.matches.length-1];return On(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function m6(){return ET("useRouteId")}function g6(){var r;let t=j.useContext(wT),e=d6("useRouteError"),n=ET("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function v6(){let{router:t}=h6("useNavigate"),e=ET("useNavigate"),n=j.useRef(!1);return SF(()=>{n.current=!0}),j.useCallback(async(i,o={})=>{la(n.current,_F),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var mR={};function MF(t,e,n){!e&&!mR[t]&&(mR[t]=!0,la(!1,n))}j.memo(y6);function y6({routes:t,future:e,state:n,onError:r}){return bF(t,void 0,n,r,e)}function UM(t){On(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){On(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);typeof n=="string"&&(n=Xf(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:m="default"}=n,v=j.useMemo(()=>{let x=qa(u,s);return x==null?null:{location:{pathname:x,search:c,hash:f,state:p,key:m},navigationType:r}},[s,u,c,f,p,m,r]);return la(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(co.Provider,{value:l},j.createElement(pm.Provider,{children:e,value:v}))}function _6({children:t,location:e}){return a6(FM(t),e)}function FM(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,FM(r.props.children,o));return}On(r.type===UM,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),On(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=FM(r.props.children,o)),n.push(a)}),n}var xy="get",_y="application/x-www-form-urlencoded";function o_(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function S6(t){return o_(t)&&t.tagName.toLowerCase()==="button"}function b6(t){return o_(t)&&t.tagName.toLowerCase()==="form"}function w6(t){return o_(t)&&t.tagName.toLowerCase()==="input"}function M6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E6(t,e){return t.button===0&&(!e||e==="_self")&&!M6(t)}var Kg=null;function A6(){if(Kg===null)try{new FormData(document.createElement("form"),0),Kg=!1}catch{Kg=!0}return Kg}var T6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m1(t){return t!=null&&!T6.has(t)?(la(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_y}"`),null):t}function P6(t,e){let n,r,i,o,a;if(b6(t)){let s=t.getAttribute("action");r=s?qa(s,e):null,n=t.getAttribute("method")||xy,i=m1(t.getAttribute("enctype"))||_y,o=new FormData(t)}else if(S6(t)||w6(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(r=l?qa(l,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||xy,i=m1(t.getAttribute("formenctype"))||m1(s.getAttribute("enctype"))||_y,o=new FormData(s,t),!A6()){let{name:u,type:c,value:f}=t;if(c==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(o_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xy,r=null,i=_y,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function AT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C6(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&qa(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function O6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await O6(o,n);return a.links?a.links():[]}return[]}));return k6(r.flat(1).filter(R6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gR(t,e,n,r,i,o){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>a(l,u)||s(l,u)):o==="data"?e.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function L6(t,e,{includeHydrateFallback:n}={}){return N6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function N6(t){return[...new Set(t)]}function D6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function k6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(D6(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function EF(){let t=j.useContext(Yf);return AT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U6(){let t=j.useContext(i_);return AT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TT=j.createContext(void 0);TT.displayName="FrameworkContext";function AF(){let t=j.useContext(TT);return AT(t,"You must render this element inside a <HydratedRouter> element"),t}function F6(t,e){let n=j.useContext(TT),[r,i]=j.useState(!1),[o,a]=j.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,p=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=g=>{g.forEach(_=>{a(_.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),j.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:jh(s,m),onBlur:jh(l,v),onMouseEnter:jh(u,m),onMouseLeave:jh(c,v),onTouchStart:jh(f,m)}]:[!1,p,{}]}function jh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function B6({page:t,...e}){let{router:n}=EF(),r=j.useMemo(()=>cF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(V6,{page:t,matches:r,...e}):null}function z6(t){let{manifest:e,routeModules:n}=AF(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return I6(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function V6({page:t,matches:e,...n}){let r=Tu(),{future:i,manifest:o,routeModules:a}=AF(),{basename:s}=EF(),{loaderData:l,matches:u}=U6(),c=j.useMemo(()=>gR(t,e,u,o,r,"data"),[t,e,u,o,r]),f=j.useMemo(()=>gR(t,e,u,o,r,"assets"),[t,e,u,o,r]),p=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,y=!1;if(e.forEach(_=>{var M;let S=o.routes[_.route.id];!S||!S.hasLoader||(!c.some(w=>w.route.id===_.route.id)&&_.route.id in l&&((M=a[_.route.id])!=null&&M.shouldRevalidate)||S.hasClientLoader?y=!0:x.add(_.route.id))}),x.size===0)return[];let g=C6(t,s,i.unstable_trailingSlashAwareDataRequests,"data");return y&&x.size>0&&g.searchParams.set("_routes",e.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[g.pathname+g.search]},[s,i.unstable_trailingSlashAwareDataRequests,l,r,o,c,e,t,a]),m=j.useMemo(()=>L6(f,o),[f,o]),v=z6(f);return j.createElement(j.Fragment,null,p.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),m.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:y})=>j.createElement("link",{key:x,nonce:n.nonce,...y,crossOrigin:y.crossOrigin??n.crossOrigin})))}function j6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H6&&(window.__reactRouterVersion="7.13.0")}catch{}function $6({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=j.useRef();i.current==null&&(i.current=w$({window:r,v5Compat:!0}));let o=i.current,[a,s]=j.useState({action:o.action,location:o.location}),l=j.useCallback(u=>{n===!1?s(u):j.startTransition(()=>s(u))},[n]);return j.useLayoutEffect(()=>o.listen(l),[o,l]),j.createElement(x6,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var TF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cp=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},v){let{basename:x,unstable_useTransitions:y}=j.useContext(co),g=typeof u=="string"&&TF.test(u),_=gF(u,x);u=_.to;let S=r6(u,{relative:i}),[M,w,A]=F6(r,m),T=Y6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:y});function R(O){e&&e(O),O.defaultPrevented||T(O)}let P=j.createElement("a",{...m,...A,href:_.absoluteURL||S,onClick:_.isExternal||o?e:R,ref:j6(v,w),target:l,"data-discover":!g&&n==="render"?"true":void 0});return M&&!g?j.createElement(j.Fragment,null,P,j.createElement(B6,{page:S})):P});cp.displayName="Link";var G6=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...u},c){let f=gm(a,{relative:u.relative}),p=Tu(),m=j.useContext(i_),{navigator:v,basename:x}=j.useContext(co),y=m!=null&&Q6(f)&&s===!0,g=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,_=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&x&&(S=qa(S,x)||S);const M=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=_===g||!i&&_.startsWith(g)&&_.charAt(M)==="/",A=S!=null&&(S===g||!i&&S.startsWith(g)&&S.charAt(g.length)==="/"),T={isActive:w,isPending:A,isTransitioning:y},R=w?e:void 0,P;typeof r=="function"?P=r(T):P=[r,w?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(T):o;return j.createElement(cp,{...u,"aria-current":R,className:P,ref:c,style:O,to:a,viewTransition:s},typeof l=="function"?l(T):l)});G6.displayName="NavLink";var W6=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=xy,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},v)=>{let{unstable_useTransitions:x}=j.useContext(co),y=Z6(),g=J6(s,{relative:u}),_=a.toLowerCase()==="get"?"get":"post",S=typeof s=="string"&&TF.test(s),M=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||a,R=()=>y(A||w.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:p});x&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:v,method:_,action:g,onSubmit:r?l:M,...m,"data-discover":!S&&t==="render"?"true":void 0})});W6.displayName="Form";function X6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PF(t){let e=j.useContext(Yf);return On(e,X6(t)),e}function Y6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:l}={}){let u=i6(),c=Tu(),f=gm(t,{relative:o});return j.useCallback(p=>{if(E6(p,e)){p.preventDefault();let m=n!==void 0?n:up(c)===up(f),v=()=>u(t,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s});l?j.startTransition(()=>v()):v()}},[c,u,f,n,r,e,t,i,o,a,s,l])}var q6=0,K6=()=>`__${String(++q6)}__`;function Z6(){let{router:t}=PF("useSubmit"),{basename:e}=j.useContext(co),n=m6(),r=t.fetch,i=t.navigate;return j.useCallback(async(o,a={})=>{let{action:s,method:l,encType:u,formData:c,body:f}=P6(o,e);if(a.navigate===!1){let p=a.fetcherKey||K6();await r(p,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function J6(t,{relative:e}={}){let{basename:n}=j.useContext(co),r=j.useContext(ns);On(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...gm(t||".",{relative:e})},a=Tu();if(t==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:za([n,o.pathname])),up(o)}function Q6(t,{relative:e}={}){let n=j.useContext(yF);On(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PF("useViewTransitionState"),i=gm(t,{relative:e});if(!n.isTransitioning)return!1;let o=qa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=qa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qy(i.pathname,a)!=null||qy(i.pathname,o)!=null}const Qo={population:.2,territory:.75,power:.75,influence:1.5,cohesion:1},eG=Qo.population+Qo.territory+Qo.power+Qo.influence+Qo.cohesion;function BM(t){const e=t.population*Qo.population+t.territory*Qo.territory+t.power*Qo.power+t.influence*Qo.influence+t.cohesion*Qo.cohesion;return Math.round(e/eG*100)/100}const tG=[{id:"fire",name:"Fire / Marshalls",shortName:"Fire",color:"#f97316",stats:{population:25,territory:45,power:100,influence:58,cohesion:95},rank:1,summary:"The Marshalls are the most militarily powerful and internally united faction. They hold less land than Earth or Wood but project force and discipline; their cohesion makes them reliable in conflict and negotiation.",extended:{income:58,avgBeauty:68,avgHeight:"510"}},{id:"earth",name:"Earth / Ironlord",shortName:"Earth",color:"#c4a35a",stats:{population:100,territory:90,power:65,influence:95,cohesion:68},rank:2,summary:"The Ironlords control the most physical territory and wield the most influence (voting power and sway). They are the land-holding, establishment factionstrong and well-connected, with solid but not maximal cohesion.",extended:{income:72,avgBeauty:70,avgHeight:"511"}},{id:"water",name:"Water / Bluecrest",shortName:"Water",color:"#3b82f6",stats:{population:25,territory:70,power:78,influence:62,cohesion:62},rank:3,summary:"Bluecrest sits in the middle of the pack on most Codex stats. They hold substantial territory (especially coastal and riverine) and have moderate influence and cohesionadaptable and fluid rather than dominant in any single dimension.",extended:{income:70,avgBeauty:75,avgHeight:"58"}},{id:"wood",name:"Wood / Stewards",shortName:"Wood",color:"#22c55e",stats:{population:25,territory:88,power:50,influence:52,cohesion:88},rank:4,summary:'The Stewards are the caretakers of land and growthhigh territory and high cohesion, with lower raw power and influence. They are the most "communal" and territorially rooted of the five.',extended:{income:55,avgBeauty:66,avgHeight:"59"}},{id:"metal",name:"Metal / Artificers",shortName:"Metal",color:"#94a3b8",stats:{population:25,territory:35,power:42,influence:82,cohesion:42},rank:5,summary:"The Artificers are the craft and trade factionlower territory and the lowest cohesion, but strong influence through commerce and expertise. They punch above their weight in councils and deals despite smaller land and less internal unity.",extended:{income:82,avgBeauty:64,avgHeight:"57"}}];function CF(t){return[...t].sort((n,r)=>BM(r.stats)-BM(n.stats)).map((n,r)=>({...n,rank:r+1}))}async function nG(t){return await new Promise(e=>setTimeout(e,300)),CF(tG)}async function rG(t,e,n){const r=t.mode??"set",i=e.map(o=>{if(o.id!==t.factionId)return o;const a=o.stats[t.stat];let s;return r==="set"?s=t.value:r==="add"?s=a+t.value:s=a-t.value,{...o,stats:{...o.stats,[t.stat]:Math.max(0,Math.round(s))}}});return CF(i)}function iG(){return{source:"mock"}}const oG={population:"Population",territory:"Territory",power:"Power",influence:"Influence",cohesion:"Cohesion"};function aG({factions:t,stat:e="power"}){const n=Math.max(...t.map(r=>r.stats[e]),1);return K.jsxs("div",{className:"standings-table",children:[K.jsxs("table",{children:[K.jsx("thead",{children:K.jsxs("tr",{children:[K.jsx("th",{children:"Rank"}),K.jsx("th",{children:"Faction"}),K.jsx("th",{children:oG[e]}),K.jsx("th",{className:"bar-col",children:"Standing"})]})}),K.jsx("tbody",{children:t.map(r=>K.jsxs("tr",{children:[K.jsxs("td",{className:"rank",children:["#",r.rank]}),K.jsx("td",{children:K.jsx("span",{className:"faction-name",style:{borderLeftColor:r.color},children:r.name})}),K.jsx("td",{className:"stat-num",children:r.stats[e].toLocaleString()}),K.jsx("td",{className:"bar-col",children:K.jsx("div",{className:"bar-wrap",children:K.jsx("div",{className:"bar",style:{width:`${r.stats[e]/n*100}%`,backgroundColor:r.color}})})})]},r.id))})]}),K.jsx("style",{children:`
        .standings-table { overflow-x: auto; }
        .standings-table table { width: 100%; border-collapse: collapse; }
        .standings-table th, .standings-table td { padding: 0.6rem 0.75rem; text-align: left; }
        .standings-table th { color: var(--text-muted); font-weight: 600; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .standings-table tbody tr { border-top: 1px solid var(--border); }
        .standings-table .rank { font-family: var(--font-mono); color: var(--text-muted); }
        .standings-table .faction-name { padding-left: 0.5rem; border-left: 3px solid; }
        .standings-table .stat-num { font-family: var(--font-mono); font-weight: 500; }
        .standings-table .bar-col { width: 40%; min-width: 120px; }
        .standings-table .bar-wrap { height: 8px; background: var(--bg-elevated); border-radius: 4px; overflow: hidden; }
        .standings-table .bar { height: 100%; border-radius: 4px; min-width: 4px; transition: width 0.3s ease; }
      `})]})}function OF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OF(t))&&(r&&(r+=" "),r+=e);return r}var sG=Array.isArray,xi=sG,lG=typeof Ig=="object"&&Ig&&Ig.Object===Object&&Ig,RF=lG,uG=RF,cG=typeof self=="object"&&self&&self.Object===Object&&self,fG=uG||cG||Function("return this")(),pa=fG,hG=pa,dG=hG.Symbol,vm=dG,vR=vm,IF=Object.prototype,pG=IF.hasOwnProperty,mG=IF.toString,Hh=vR?vR.toStringTag:void 0;function gG(t){var e=pG.call(t,Hh),n=t[Hh];try{t[Hh]=void 0;var r=!0}catch{}var i=mG.call(t);return r&&(e?t[Hh]=n:delete t[Hh]),i}var vG=gG,yG=Object.prototype,xG=yG.toString;function _G(t){return xG.call(t)}var SG=_G,yR=vm,bG=vG,wG=SG,MG="[object Null]",EG="[object Undefined]",xR=yR?yR.toStringTag:void 0;function AG(t){return t==null?t===void 0?EG:MG:xR&&xR in Object(t)?bG(t):wG(t)}var rs=AG;function TG(t){return t!=null&&typeof t=="object"}var is=TG,PG=rs,CG=is,OG="[object Symbol]";function RG(t){return typeof t=="symbol"||CG(t)&&PG(t)==OG}var qf=RG,IG=xi,LG=qf,NG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DG=/^\w*$/;function kG(t,e){if(IG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||LG(t)?!0:DG.test(t)||!NG.test(t)||e!=null&&t in Object(e)}var PT=kG;function UG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tl=UG;const Kf=dn(tl);var FG=rs,BG=tl,zG="[object AsyncFunction]",VG="[object Function]",jG="[object GeneratorFunction]",HG="[object Proxy]";function $G(t){if(!BG(t))return!1;var e=FG(t);return e==VG||e==jG||e==zG||e==HG}var CT=$G;const jt=dn(CT);var GG=pa,WG=GG["__core-js_shared__"],XG=WG,g1=XG,_R=function(){var t=/[^.]+$/.exec(g1&&g1.keys&&g1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function YG(t){return!!_R&&_R in t}var qG=YG,KG=Function.prototype,ZG=KG.toString;function JG(t){if(t!=null){try{return ZG.call(t)}catch{}try{return t+""}catch{}}return""}var LF=JG,QG=CT,eW=qG,tW=tl,nW=LF,rW=/[\\^$.*+?()[\]{}|]/g,iW=/^\[object .+?Constructor\]$/,oW=Function.prototype,aW=Object.prototype,sW=oW.toString,lW=aW.hasOwnProperty,uW=RegExp("^"+sW.call(lW).replace(rW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cW(t){if(!tW(t)||eW(t))return!1;var e=QG(t)?uW:iW;return e.test(nW(t))}var fW=cW;function hW(t,e){return t==null?void 0:t[e]}var dW=hW,pW=fW,mW=dW;function gW(t,e){var n=mW(t,e);return pW(n)?n:void 0}var Pu=gW,vW=Pu,yW=vW(Object,"create"),a_=yW,SR=a_;function xW(){this.__data__=SR?SR(null):{},this.size=0}var _W=xW;function SW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bW=SW,wW=a_,MW="__lodash_hash_undefined__",EW=Object.prototype,AW=EW.hasOwnProperty;function TW(t){var e=this.__data__;if(wW){var n=e[t];return n===MW?void 0:n}return AW.call(e,t)?e[t]:void 0}var PW=TW,CW=a_,OW=Object.prototype,RW=OW.hasOwnProperty;function IW(t){var e=this.__data__;return CW?e[t]!==void 0:RW.call(e,t)}var LW=IW,NW=a_,DW="__lodash_hash_undefined__";function kW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=NW&&e===void 0?DW:e,this}var UW=kW,FW=_W,BW=bW,zW=PW,VW=LW,jW=UW;function Zf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zf.prototype.clear=FW;Zf.prototype.delete=BW;Zf.prototype.get=zW;Zf.prototype.has=VW;Zf.prototype.set=jW;var HW=Zf;function $W(){this.__data__=[],this.size=0}var GW=$W;function WW(t,e){return t===e||t!==t&&e!==e}var OT=WW,XW=OT;function YW(t,e){for(var n=t.length;n--;)if(XW(t[n][0],e))return n;return-1}var s_=YW,qW=s_,KW=Array.prototype,ZW=KW.splice;function JW(t){var e=this.__data__,n=qW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ZW.call(e,n,1),--this.size,!0}var QW=JW,e9=s_;function t9(t){var e=this.__data__,n=e9(e,t);return n<0?void 0:e[n][1]}var n9=t9,r9=s_;function i9(t){return r9(this.__data__,t)>-1}var o9=i9,a9=s_;function s9(t,e){var n=this.__data__,r=a9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var l9=s9,u9=GW,c9=QW,f9=n9,h9=o9,d9=l9;function Jf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jf.prototype.clear=u9;Jf.prototype.delete=c9;Jf.prototype.get=f9;Jf.prototype.has=h9;Jf.prototype.set=d9;var l_=Jf,p9=Pu,m9=pa,g9=p9(m9,"Map"),RT=g9,bR=HW,v9=l_,y9=RT;function x9(){this.size=0,this.__data__={hash:new bR,map:new(y9||v9),string:new bR}}var _9=x9;function S9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var b9=S9,w9=b9;function M9(t,e){var n=t.__data__;return w9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var u_=M9,E9=u_;function A9(t){var e=E9(this,t).delete(t);return this.size-=e?1:0,e}var T9=A9,P9=u_;function C9(t){return P9(this,t).get(t)}var O9=C9,R9=u_;function I9(t){return R9(this,t).has(t)}var L9=I9,N9=u_;function D9(t,e){var n=N9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var k9=D9,U9=_9,F9=T9,B9=O9,z9=L9,V9=k9;function Qf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qf.prototype.clear=U9;Qf.prototype.delete=F9;Qf.prototype.get=B9;Qf.prototype.has=z9;Qf.prototype.set=V9;var IT=Qf,NF=IT,j9="Expected a function";function LT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(j9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(LT.Cache||NF),n}LT.Cache=NF;var DF=LT;const H9=dn(DF);var $9=DF,G9=500;function W9(t){var e=$9(t,function(r){return n.size===G9&&n.clear(),r}),n=e.cache;return e}var X9=W9,Y9=X9,q9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K9=/\\(\\)?/g,Z9=Y9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(q9,function(n,r,i,o){e.push(i?o.replace(K9,"$1"):r||n)}),e}),J9=Z9;function Q9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var NT=Q9,wR=vm,e7=NT,t7=xi,n7=qf,MR=wR?wR.prototype:void 0,ER=MR?MR.toString:void 0;function kF(t){if(typeof t=="string")return t;if(t7(t))return e7(t,kF)+"";if(n7(t))return ER?ER.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var r7=kF,i7=r7;function o7(t){return t==null?"":i7(t)}var UF=o7,a7=xi,s7=PT,l7=J9,u7=UF;function c7(t,e){return a7(t)?t:s7(t,e)?[t]:l7(u7(t))}var FF=c7,f7=qf;function h7(t){if(typeof t=="string"||f7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var c_=h7,d7=FF,p7=c_;function m7(t,e){e=d7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[p7(e[n++])];return n&&n==r?t:void 0}var DT=m7,g7=DT;function v7(t,e,n){var r=t==null?void 0:g7(t,e);return r===void 0?n:r}var BF=v7;const ro=dn(BF);function y7(t){return t==null}var x7=y7;const Qt=dn(x7);var _7=rs,S7=xi,b7=is,w7="[object String]";function M7(t){return typeof t=="string"||!S7(t)&&b7(t)&&_7(t)==w7}var E7=M7;const gu=dn(E7);var zF={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=Symbol.for("react.element"),UT=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),d_=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),A7=Symbol.for("react.server_context"),g_=Symbol.for("react.forward_ref"),v_=Symbol.for("react.suspense"),y_=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),__=Symbol.for("react.lazy"),T7=Symbol.for("react.offscreen"),VF;VF=Symbol.for("react.module.reference");function fo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kT:switch(t=t.type,t){case f_:case d_:case h_:case v_:case y_:return t;default:switch(t=t&&t.$$typeof,t){case A7:case m_:case g_:case __:case x_:case p_:return t;default:return e}}case UT:return e}}}an.ContextConsumer=m_;an.ContextProvider=p_;an.Element=kT;an.ForwardRef=g_;an.Fragment=f_;an.Lazy=__;an.Memo=x_;an.Portal=UT;an.Profiler=d_;an.StrictMode=h_;an.Suspense=v_;an.SuspenseList=y_;an.isAsyncMode=function(){return!1};an.isConcurrentMode=function(){return!1};an.isContextConsumer=function(t){return fo(t)===m_};an.isContextProvider=function(t){return fo(t)===p_};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kT};an.isForwardRef=function(t){return fo(t)===g_};an.isFragment=function(t){return fo(t)===f_};an.isLazy=function(t){return fo(t)===__};an.isMemo=function(t){return fo(t)===x_};an.isPortal=function(t){return fo(t)===UT};an.isProfiler=function(t){return fo(t)===d_};an.isStrictMode=function(t){return fo(t)===h_};an.isSuspense=function(t){return fo(t)===v_};an.isSuspenseList=function(t){return fo(t)===y_};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===f_||t===d_||t===h_||t===v_||t===y_||t===T7||typeof t=="object"&&t!==null&&(t.$$typeof===__||t.$$typeof===x_||t.$$typeof===p_||t.$$typeof===m_||t.$$typeof===g_||t.$$typeof===VF||t.getModuleId!==void 0)};an.typeOf=fo;zF.exports=an;var P7=zF.exports,C7=rs,O7=is,R7="[object Number]";function I7(t){return typeof t=="number"||O7(t)&&C7(t)==R7}var jF=I7;const L7=dn(jF);var N7=jF;function D7(t){return N7(t)&&t!=+t}var k7=D7;const ym=dn(k7);var Oo=function(e){return e===0?0:e>0?1:-1},Xl=function(e){return gu(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return L7(e)&&!ym(e)},U7=function(e){return Qt(e)},rr=function(e){return Qe(e)||gu(e)},F7=0,S_=function(e){var n=++F7;return"".concat(e||"").concat(n)},vu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!gu(e))return r;var o;if(Xl(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ym(o)&&(o=r),i&&o>n&&(o=n),o},Ec=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},B7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Qu=function(e,n){return Qe(e)&&Qe(n)?function(r){return e+r*(n-e)}:function(){return n}};function zM(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ro(r,e))===n})}var z7=function(e,n){return Qe(e)&&Qe(n)?e-n:gu(e)&&gu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Qc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function VM(t){"@babel/helpers - typeof";return VM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VM(t)}var V7=["viewBox","children"],j7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AR=["points","pathLength"],v1={svg:V7,polygon:AR,polyline:AR},FT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ky=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Kf(r))return null;var i={};return Object.keys(r).forEach(function(o){FT.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},H7=function(e,n,r){return function(i){return e(n,r,i),null}},Zy=function(e,n,r){if(!Kf(e)||VM(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];FT.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=H7(a,n,r))}),i},$7=["children"],G7=["children"];function TR(t,e){if(t==null)return{};var n=W7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CR=null,y1=null,BT=function t(e){if(e===CR&&Array.isArray(y1))return y1;var n=[];return j.Children.forEach(e,function(r){Qt(r)||(P7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),y1=n,CR=e,n};function No(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Va(i)}):r=[Va(e)],BT(t).forEach(function(i){var o=ro(i,"type.displayName")||ro(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ci(t,e){var n=No(t,e);return n&&n[0]}var OR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Qe(r)||r<=0||!Qe(i)||i<=0)},X7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Y7=function(e){return e&&e.type&&gu(e.type)&&X7.indexOf(e.type)>=0},q7=function(e,n,r,i){var o,a=(o=v1==null?void 0:v1[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!jt(e)&&(i&&a.includes(n)||j7.includes(n))||r&&FT.includes(n)},rn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Kf(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;q7((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},jM=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!RR(o,a))return!1}return!0},RR=function(e,n){if(Qt(e)&&Qt(n))return!0;if(!Qt(e)&&!Qt(n)){var r=e.props||{},i=r.children,o=TR(r,$7),a=n.props||{},s=a.children,l=TR(a,G7);return i&&s?Qc(o,l)&&jM(i,s):!i&&!s?Qc(o,l):!1}return!1},IR=function(e,n){var r=[],i={};return BT(e).forEach(function(o,a){if(Y7(o))r.push(o);else if(o){var s=Va(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},K7=function(e){var n=e&&e.type;return n&&PR[n]?PR[n]:null},Z7=function(e,n){return BT(n).indexOf(e)},J7=["children","width","height","viewBox","className","style","title","desc"];function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HM.apply(this,arguments)}function Q7(t,e){if(t==null)return{};var n=eX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $M(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Q7(t,J7),c=i||{width:n,height:r,x:0,y:0},f=Jt("recharts-surface",o);return le.createElement("svg",HM({},rn(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),le.createElement("title",null,s),le.createElement("desc",null,l),e)}var tX=["children","className"];function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GM.apply(this,arguments)}function nX(t,e){if(t==null)return{};var n=rX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pr=le.forwardRef(function(t,e){var n=t.children,r=t.className,i=nX(t,tX),o=Jt("recharts-layer",r);return le.createElement("g",GM({className:o},rn(i,!0),{ref:e}),n)}),ru=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function iX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var oX=iX,aX=oX;function sX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:aX(t,e,n)}var lX=sX,uX="\\ud800-\\udfff",cX="\\u0300-\\u036f",fX="\\ufe20-\\ufe2f",hX="\\u20d0-\\u20ff",dX=cX+fX+hX,pX="\\ufe0e\\ufe0f",mX="\\u200d",gX=RegExp("["+mX+uX+dX+pX+"]");function vX(t){return gX.test(t)}var HF=vX;function yX(t){return t.split("")}var xX=yX,$F="\\ud800-\\udfff",_X="\\u0300-\\u036f",SX="\\ufe20-\\ufe2f",bX="\\u20d0-\\u20ff",wX=_X+SX+bX,MX="\\ufe0e\\ufe0f",EX="["+$F+"]",WM="["+wX+"]",XM="\\ud83c[\\udffb-\\udfff]",AX="(?:"+WM+"|"+XM+")",GF="[^"+$F+"]",WF="(?:\\ud83c[\\udde6-\\uddff]){2}",XF="[\\ud800-\\udbff][\\udc00-\\udfff]",TX="\\u200d",YF=AX+"?",qF="["+MX+"]?",PX="(?:"+TX+"(?:"+[GF,WF,XF].join("|")+")"+qF+YF+")*",CX=qF+YF+PX,OX="(?:"+[GF+WM+"?",WM,WF,XF,EX].join("|")+")",RX=RegExp(XM+"(?="+XM+")|"+OX+CX,"g");function IX(t){return t.match(RX)||[]}var LX=IX,NX=xX,DX=HF,kX=LX;function UX(t){return DX(t)?kX(t):NX(t)}var FX=UX,BX=lX,zX=HF,VX=FX,jX=UF;function HX(t){return function(e){e=jX(e);var n=zX(e)?VX(e):void 0,r=n?n[0]:e.charAt(0),i=n?BX(n,1).join(""):e.slice(1);return r[t]()+i}}var $X=HX,GX=$X,WX=GX("toUpperCase"),XX=WX;const b_=dn(XX);function pn(t){return function(){return t}}const KF=Math.cos,Jy=Math.sin,Uo=Math.sqrt,Qy=Math.PI,w_=2*Qy,YM=Math.PI,qM=2*YM,Ul=1e-6,YX=qM-Ul;function ZF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZF;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let KX=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZF:qX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Ul)if(!(Math.abs(f*l-u*c)>Ul)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,v=i-s,x=l*l+u*u,y=m*m+v*v,g=Math.sqrt(x),_=Math.sqrt(p),S=o*Math.tan((YM-Math.acos((x+p-y)/(2*g*_)))/2),M=S/_,w=S/g;Math.abs(M-1)>Ul&&this._append`L${e+M*c},${n+M*f}`,this._append`A${o},${o},0,0,${+(f*m>c*v)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ul||Math.abs(this._y1-c)>Ul)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%qM+qM),p>YX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>Ul&&this._append`A${r},${r},0,${+(p>=YM)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function zT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new KX(e)}function VT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JF(t){this._context=t}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function M_(t){return new JF(t)}function QF(t){return t[0]}function eB(t){return t[1]}function tB(t,e){var n=pn(!0),r=null,i=M_,o=null,a=zT(s);t=typeof t=="function"?t:t===void 0?QF:pn(t),e=typeof e=="function"?e:e===void 0?eB:pn(e);function s(l){var u,c=(l=VT(l)).length,f,p=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,u,l),+e(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:pn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:pn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:pn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Zg(t,e,n){var r=null,i=pn(!0),o=null,a=M_,s=null,l=zT(u);t=typeof t=="function"?t:t===void 0?QF:pn(+t),e=typeof e=="function"?e:pn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eB:pn(+n);function u(f){var p,m,v,x=(f=VT(f)).length,y,g=!1,_,S=new Array(x),M=new Array(x);for(o==null&&(s=a(_=l())),p=0;p<=x;++p){if(!(p<x&&i(y=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(S[v],M[v]);s.lineEnd(),s.areaEnd()}g&&(S[p]=+t(y,p,f),M[p]=+e(y,p,f),s.point(r?+r(y,p,f):S[p],n?+n(y,p,f):M[p]))}if(_)return s=null,_+""||null}function c(){return tB().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:pn(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class nB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZX(t){return new nB(t,!0)}function JX(t){return new nB(t,!1)}const jT={draw(t,e){const n=Uo(e/Qy);t.moveTo(n,0),t.arc(0,0,n,0,w_)}},QX={draw(t,e){const n=Uo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rB=Uo(1/3),eY=rB*2,tY={draw(t,e){const n=Uo(e/eY),r=n*rB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},nY={draw(t,e){const n=Uo(e),r=-n/2;t.rect(r,r,n,n)}},rY=.8908130915292852,iB=Jy(Qy/10)/Jy(7*Qy/10),iY=Jy(w_/10)*iB,oY=-KF(w_/10)*iB,aY={draw(t,e){const n=Uo(e*rY),r=iY*n,i=oY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=w_*o/5,s=KF(a),l=Jy(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},x1=Uo(3),sY={draw(t,e){const n=-Uo(e/(x1*3));t.moveTo(0,n*2),t.lineTo(-x1*n,-n),t.lineTo(x1*n,-n),t.closePath()}},Yi=-.5,qi=Uo(3)/2,KM=1/Uo(12),lY=(KM/2+1)*3,uY={draw(t,e){const n=Uo(e/lY),r=n/2,i=n*KM,o=r,a=n*KM+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Yi*r-qi*i,qi*r+Yi*i),t.lineTo(Yi*o-qi*a,qi*o+Yi*a),t.lineTo(Yi*s-qi*l,qi*s+Yi*l),t.lineTo(Yi*r+qi*i,Yi*i-qi*r),t.lineTo(Yi*o+qi*a,Yi*a-qi*o),t.lineTo(Yi*s+qi*l,Yi*l-qi*s),t.closePath()}};function cY(t,e){let n=null,r=zT(i);t=typeof t=="function"?t:pn(t||jT),e=typeof e=="function"?e:pn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:pn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:pn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function e0(){}function t0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oB(t){this._context=t}oB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fY(t){return new oB(t)}function aB(t){this._context=t}aB.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hY(t){return new aB(t)}function sB(t){this._context=t}sB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dY(t){return new sB(t)}function lB(t){this._context=t}lB.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pY(t){return new lB(t)}function LR(t){return t<0?-1:1}function NR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(LR(o)+LR(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function DR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function n0(t){this._context=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_1(this,this._t0,DR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_1(this,DR(this,n=NR(this,t,e)),n);break;default:_1(this,this._t0,n=NR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uB(t){this._context=new cB(t)}(uB.prototype=Object.create(n0.prototype)).point=function(t,e){n0.prototype.point.call(this,e,t)};function cB(t){this._context=t}cB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function mY(t){return new n0(t)}function gY(t){return new uB(t)}function fB(t){this._context=t}fB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=kR(t),i=kR(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function vY(t){return new fB(t)}function E_(t,e){this._context=t,this._t=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yY(t){return new E_(t,.5)}function xY(t){return new E_(t,0)}function _Y(t){return new E_(t,1)}function df(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function SY(t,e){return t[e]}function bY(t){const e=[];return e.key=t,e}function wY(){var t=pn([]),e=ZM,n=df,r=SY;function i(o){var a=Array.from(t.apply(this,arguments),bY),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=VT(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:pn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:pn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ZM:typeof o=="function"?o:pn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??df,i):n},i}function MY(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}df(t,e)}}function EY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}df(t,e)}}function AY(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,m=(f-p)/2,v=0;v<s;++v){var x=t[e[v]],y=x[r][1]||0,g=x[r-1][1]||0;m+=y-g}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,df(t,e)}}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var TY=["type","size","sizeType"];function JM(){return JM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JM.apply(this,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=OY(t,"string");return fp(e)=="symbol"?e:e+""}function OY(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hB={symbolCircle:jT,symbolCross:QX,symbolDiamond:tY,symbolSquare:nY,symbolStar:aY,symbolTriangle:sY,symbolWye:uY},LY=Math.PI/180,NY=function(e){var n="symbol".concat(b_(e));return hB[n]||jT},DY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*LY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kY=function(e,n){hB["symbol".concat(b_(e))]=n},HT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=RY(e,TY),u=FR(FR({},l),{},{type:r,size:o,sizeType:s}),c=function(){var y=NY(r),g=cY().type(y).size(DY(o,s,r));return g()},f=u.className,p=u.cx,m=u.cy,v=rn(u,!0);return p===+p&&m===+m&&o===+o?le.createElement("path",JM({},v,{className:Jt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};HT.registerSymbol=kY;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function QM(){return QM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QM.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){hp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function zY(t,e,n){return e&&BY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VY(t,e,n){return e=r0(e),jY(t,dB()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function jY(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(t)}function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function $Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function hp(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=GY(t,"string");return pf(e)=="symbol"?e:e+""}function GY(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ki=32,$T=function(t){function e(){return FY(this,e),VY(this,e,arguments)}return $Y(e,t),zY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ki/2,a=Ki/6,s=Ki/3,l=r.inactive?i:r.color;if(r.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ki,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ki,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(le.isValidElement(r.legendIcon)){var u=UY({},r);return delete u.legendIcon,le.cloneElement(r.legendIcon,u)}return le.createElement(HT,{fill:l,cx:o,cy:o,size:Ki,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Ki,height:Ki},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var x=m.formatter||l,y=Jt(hp(hp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=jt(m.value)?null:m.value;ru(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=m.inactive?u:m.color;return le.createElement("li",QM({className:y,style:f,key:"legend-item-".concat(v)},Zy(r.props,m,v)),le.createElement($M,{width:a,height:a,viewBox:c,style:p},r.renderIcon(m)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(g,m,v):g))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);hp($T,"displayName","Legend");hp($T,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WY=l_;function XY(){this.__data__=new WY,this.size=0}var YY=XY;function qY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KY=qY;function ZY(t){return this.__data__.get(t)}var JY=ZY;function QY(t){return this.__data__.has(t)}var eq=QY,tq=l_,nq=RT,rq=IT,iq=200;function oq(t,e){var n=this.__data__;if(n instanceof tq){var r=n.__data__;if(!nq||r.length<iq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rq(r)}return n.set(t,e),this.size=n.size,this}var aq=oq,sq=l_,lq=YY,uq=KY,cq=JY,fq=eq,hq=aq;function eh(t){var e=this.__data__=new sq(t);this.size=e.size}eh.prototype.clear=lq;eh.prototype.delete=uq;eh.prototype.get=cq;eh.prototype.has=fq;eh.prototype.set=hq;var mB=eh,dq="__lodash_hash_undefined__";function pq(t){return this.__data__.set(t,dq),this}var mq=pq;function gq(t){return this.__data__.has(t)}var vq=gq,yq=IT,xq=mq,_q=vq;function i0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yq;++e<n;)this.add(t[e])}i0.prototype.add=i0.prototype.push=xq;i0.prototype.has=_q;var gB=i0;function Sq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vB=Sq;function bq(t,e){return t.has(e)}var yB=bq,wq=gB,Mq=vB,Eq=yB,Aq=1,Tq=2;function Pq(t,e,n,r,i,o){var a=n&Aq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,m=n&Tq?new wq:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],x=e[f];if(r)var y=a?r(x,v,f,e,t,o):r(v,x,f,t,e,o);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!Mq(e,function(g,_){if(!Eq(m,_)&&(v===g||i(v,g,n,r,o)))return m.push(_)})){p=!1;break}}else if(!(v===x||i(v,x,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}var xB=Pq,Cq=pa,Oq=Cq.Uint8Array,Rq=Oq;function Iq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Lq=Iq;function Nq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var GT=Nq,zR=vm,VR=Rq,Dq=OT,kq=xB,Uq=Lq,Fq=GT,Bq=1,zq=2,Vq="[object Boolean]",jq="[object Date]",Hq="[object Error]",$q="[object Map]",Gq="[object Number]",Wq="[object RegExp]",Xq="[object Set]",Yq="[object String]",qq="[object Symbol]",Kq="[object ArrayBuffer]",Zq="[object DataView]",jR=zR?zR.prototype:void 0,S1=jR?jR.valueOf:void 0;function Jq(t,e,n,r,i,o,a){switch(n){case Zq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Kq:return!(t.byteLength!=e.byteLength||!o(new VR(t),new VR(e)));case Vq:case jq:case Gq:return Dq(+t,+e);case Hq:return t.name==e.name&&t.message==e.message;case Wq:case Yq:return t==e+"";case $q:var s=Uq;case Xq:var l=r&Bq;if(s||(s=Fq),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=zq,a.set(t,e);var c=kq(s(t),s(e),r,i,o,a);return a.delete(t),c;case qq:if(S1)return S1.call(t)==S1.call(e)}return!1}var Qq=Jq;function eK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _B=eK,tK=_B,nK=xi;function rK(t,e,n){var r=e(t);return nK(t)?r:tK(r,n(t))}var iK=rK;function oK(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var aK=oK;function sK(){return[]}var lK=sK,uK=aK,cK=lK,fK=Object.prototype,hK=fK.propertyIsEnumerable,HR=Object.getOwnPropertySymbols,dK=HR?function(t){return t==null?[]:(t=Object(t),uK(HR(t),function(e){return hK.call(t,e)}))}:cK,pK=dK;function mK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gK=mK,vK=rs,yK=is,xK="[object Arguments]";function _K(t){return yK(t)&&vK(t)==xK}var SK=_K,$R=SK,bK=is,SB=Object.prototype,wK=SB.hasOwnProperty,MK=SB.propertyIsEnumerable,EK=$R(function(){return arguments}())?$R:function(t){return bK(t)&&wK.call(t,"callee")&&!MK.call(t,"callee")},WT=EK,o0={exports:{}};function AK(){return!1}var TK=AK;o0.exports;(function(t,e){var n=pa,r=TK,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(o0,o0.exports);var bB=o0.exports,PK=9007199254740991,CK=/^(?:0|[1-9]\d*)$/;function OK(t,e){var n=typeof t;return e=e??PK,!!e&&(n=="number"||n!="symbol"&&CK.test(t))&&t>-1&&t%1==0&&t<e}var XT=OK,RK=9007199254740991;function IK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RK}var YT=IK,LK=rs,NK=YT,DK=is,kK="[object Arguments]",UK="[object Array]",FK="[object Boolean]",BK="[object Date]",zK="[object Error]",VK="[object Function]",jK="[object Map]",HK="[object Number]",$K="[object Object]",GK="[object RegExp]",WK="[object Set]",XK="[object String]",YK="[object WeakMap]",qK="[object ArrayBuffer]",KK="[object DataView]",ZK="[object Float32Array]",JK="[object Float64Array]",QK="[object Int8Array]",eZ="[object Int16Array]",tZ="[object Int32Array]",nZ="[object Uint8Array]",rZ="[object Uint8ClampedArray]",iZ="[object Uint16Array]",oZ="[object Uint32Array]",yn={};yn[ZK]=yn[JK]=yn[QK]=yn[eZ]=yn[tZ]=yn[nZ]=yn[rZ]=yn[iZ]=yn[oZ]=!0;yn[kK]=yn[UK]=yn[qK]=yn[FK]=yn[KK]=yn[BK]=yn[zK]=yn[VK]=yn[jK]=yn[HK]=yn[$K]=yn[GK]=yn[WK]=yn[XK]=yn[YK]=!1;function aZ(t){return DK(t)&&NK(t.length)&&!!yn[LK(t)]}var sZ=aZ;function lZ(t){return function(e){return t(e)}}var wB=lZ,a0={exports:{}};a0.exports;(function(t,e){var n=RF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(a0,a0.exports);var uZ=a0.exports,cZ=sZ,fZ=wB,GR=uZ,WR=GR&&GR.isTypedArray,hZ=WR?fZ(WR):cZ,MB=hZ,dZ=gK,pZ=WT,mZ=xi,gZ=bB,vZ=XT,yZ=MB,xZ=Object.prototype,_Z=xZ.hasOwnProperty;function SZ(t,e){var n=mZ(t),r=!n&&pZ(t),i=!n&&!r&&gZ(t),o=!n&&!r&&!i&&yZ(t),a=n||r||i||o,s=a?dZ(t.length,String):[],l=s.length;for(var u in t)(e||_Z.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vZ(u,l)))&&s.push(u);return s}var bZ=SZ,wZ=Object.prototype;function MZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wZ;return t===n}var EZ=MZ;function AZ(t,e){return function(n){return t(e(n))}}var EB=AZ,TZ=EB,PZ=TZ(Object.keys,Object),CZ=PZ,OZ=EZ,RZ=CZ,IZ=Object.prototype,LZ=IZ.hasOwnProperty;function NZ(t){if(!OZ(t))return RZ(t);var e=[];for(var n in Object(t))LZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var DZ=NZ,kZ=CT,UZ=YT;function FZ(t){return t!=null&&UZ(t.length)&&!kZ(t)}var A_=FZ,BZ=bZ,zZ=DZ,VZ=A_;function jZ(t){return VZ(t)?BZ(t):zZ(t)}var qT=jZ,HZ=iK,$Z=pK,GZ=qT;function WZ(t){return HZ(t,GZ,$Z)}var XZ=WZ,XR=XZ,YZ=1,qZ=Object.prototype,KZ=qZ.hasOwnProperty;function ZZ(t,e,n,r,i,o){var a=n&YZ,s=XR(t),l=s.length,u=XR(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var p=s[f];if(!(a?p in e:KZ.call(e,p)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var x=!0;o.set(t,e),o.set(e,t);for(var y=a;++f<l;){p=s[f];var g=t[p],_=e[p];if(r)var S=a?r(_,g,p,e,t,o):r(g,_,p,t,e,o);if(!(S===void 0?g===_||i(g,_,n,r,o):S)){x=!1;break}y||(y=p=="constructor")}if(x&&!y){var M=t.constructor,w=e.constructor;M!=w&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof w=="function"&&w instanceof w)&&(x=!1)}return o.delete(t),o.delete(e),x}var JZ=ZZ,QZ=Pu,eJ=pa,tJ=QZ(eJ,"DataView"),nJ=tJ,rJ=Pu,iJ=pa,oJ=rJ(iJ,"Promise"),aJ=oJ,sJ=Pu,lJ=pa,uJ=sJ(lJ,"Set"),AB=uJ,cJ=Pu,fJ=pa,hJ=cJ(fJ,"WeakMap"),dJ=hJ,tE=nJ,nE=RT,rE=aJ,iE=AB,oE=dJ,TB=rs,th=LF,YR="[object Map]",pJ="[object Object]",qR="[object Promise]",KR="[object Set]",ZR="[object WeakMap]",JR="[object DataView]",mJ=th(tE),gJ=th(nE),vJ=th(rE),yJ=th(iE),xJ=th(oE),Fl=TB;(tE&&Fl(new tE(new ArrayBuffer(1)))!=JR||nE&&Fl(new nE)!=YR||rE&&Fl(rE.resolve())!=qR||iE&&Fl(new iE)!=KR||oE&&Fl(new oE)!=ZR)&&(Fl=function(t){var e=TB(t),n=e==pJ?t.constructor:void 0,r=n?th(n):"";if(r)switch(r){case mJ:return JR;case gJ:return YR;case vJ:return qR;case yJ:return KR;case xJ:return ZR}return e});var _J=Fl,b1=mB,SJ=xB,bJ=Qq,wJ=JZ,QR=_J,eI=xi,tI=bB,MJ=MB,EJ=1,nI="[object Arguments]",rI="[object Array]",Jg="[object Object]",AJ=Object.prototype,iI=AJ.hasOwnProperty;function TJ(t,e,n,r,i,o){var a=eI(t),s=eI(e),l=a?rI:QR(t),u=s?rI:QR(e);l=l==nI?Jg:l,u=u==nI?Jg:u;var c=l==Jg,f=u==Jg,p=l==u;if(p&&tI(t)){if(!tI(e))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new b1),a||MJ(t)?SJ(t,e,n,r,i,o):bJ(t,e,l,n,r,i,o);if(!(n&EJ)){var m=c&&iI.call(t,"__wrapped__"),v=f&&iI.call(e,"__wrapped__");if(m||v){var x=m?t.value():t,y=v?e.value():e;return o||(o=new b1),i(x,y,n,r,o)}}return p?(o||(o=new b1),wJ(t,e,n,r,i,o)):!1}var PJ=TJ,CJ=PJ,oI=is;function PB(t,e,n,r,i){return t===e?!0:t==null||e==null||!oI(t)&&!oI(e)?t!==t&&e!==e:CJ(t,e,n,r,PB,i)}var KT=PB,OJ=mB,RJ=KT,IJ=1,LJ=2;function NJ(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new OJ;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?RJ(c,u,IJ|LJ,r,f):p))return!1}}return!0}var DJ=NJ,kJ=tl;function UJ(t){return t===t&&!kJ(t)}var CB=UJ,FJ=CB,BJ=qT;function zJ(t){for(var e=BJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,FJ(i)]}return e}var VJ=zJ;function jJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var OB=jJ,HJ=DJ,$J=VJ,GJ=OB;function WJ(t){var e=$J(t);return e.length==1&&e[0][2]?GJ(e[0][0],e[0][1]):function(n){return n===t||HJ(n,t,e)}}var XJ=WJ;function YJ(t,e){return t!=null&&e in Object(t)}var qJ=YJ,KJ=FF,ZJ=WT,JJ=xi,QJ=XT,eQ=YT,tQ=c_;function nQ(t,e,n){e=KJ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=tQ(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&eQ(i)&&QJ(a,i)&&(JJ(t)||ZJ(t)))}var rQ=nQ,iQ=qJ,oQ=rQ;function aQ(t,e){return t!=null&&oQ(t,e,iQ)}var sQ=aQ,lQ=KT,uQ=BF,cQ=sQ,fQ=PT,hQ=CB,dQ=OB,pQ=c_,mQ=1,gQ=2;function vQ(t,e){return fQ(t)&&hQ(e)?dQ(pQ(t),e):function(n){var r=uQ(n,t);return r===void 0&&r===e?cQ(n,t):lQ(e,r,mQ|gQ)}}var yQ=vQ;function xQ(t){return t}var nh=xQ;function _Q(t){return function(e){return e==null?void 0:e[t]}}var SQ=_Q,bQ=DT;function wQ(t){return function(e){return bQ(e,t)}}var MQ=wQ,EQ=SQ,AQ=MQ,TQ=PT,PQ=c_;function CQ(t){return TQ(t)?EQ(PQ(t)):AQ(t)}var OQ=CQ,RQ=XJ,IQ=yQ,LQ=nh,NQ=xi,DQ=OQ;function kQ(t){return typeof t=="function"?t:t==null?LQ:typeof t=="object"?NQ(t)?IQ(t[0],t[1]):RQ(t):DQ(t)}var rh=kQ;function UQ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var FQ=UQ;function BQ(t){return t!==t}var zQ=BQ;function VQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var jQ=VQ,HQ=FQ,$Q=zQ,GQ=jQ;function WQ(t,e,n){return e===e?GQ(t,e,n):HQ(t,$Q,n)}var XQ=WQ,YQ=XQ;function qQ(t,e){var n=t==null?0:t.length;return!!n&&YQ(t,e,0)>-1}var KQ=qQ;function ZQ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var JQ=ZQ;function QQ(){}var eee=QQ,w1=AB,tee=eee,nee=GT,ree=1/0,iee=w1&&1/nee(new w1([,-0]))[1]==ree?function(t){return new w1(t)}:tee,oee=iee,aee=gB,see=KQ,lee=JQ,uee=yB,cee=oee,fee=GT,hee=200;function dee(t,e,n){var r=-1,i=see,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=lee;else if(o>=hee){var u=e?null:cee(t);if(u)return fee(u);a=!1,i=uee,l=new aee}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var pee=dee,mee=rh,gee=pee;function vee(t,e){return t&&t.length?gee(t,mee(e)):[]}var yee=vee;const aI=dn(yee);function RB(t,e,n){return e===!0?aI(t,n):jt(e)?aI(t,e):t}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}var xee=["ref"];function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LB(r.key),r)}}function See(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bee(t,e,n){return e=s0(e),wee(t,IB()?Reflect.construct(e,n||[],s0(t).constructor):e.apply(t,n))}function wee(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mee(t)}function Mee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function Eee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function T_(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=Aee(t,"string");return mf(e)=="symbol"?e:e+""}function Aee(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tee(t,e){if(t==null)return{};var n=Pee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cee(t){return t.value}function Oee(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var n=Tee(e,xee);return le.createElement($T,n)}var uI=1,ef=function(t){function e(){var n;_ee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bee(this,e,[].concat(i)),T_(n,"lastBoundingBox",{width:-1,height:-1}),n}return Eee(e,t),See(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uI||Math.abs(i.height-this.lastBoundingBox.height)>uI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ma({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((c||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ma(Ma({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ma(Ma({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Oee(o,Ma(Ma({},this.props),{},{payload:RB(c,u,Cee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ma(Ma({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Qe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);T_(ef,"displayName","Legend");T_(ef,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cI=vm,Ree=WT,Iee=xi,fI=cI?cI.isConcatSpreadable:void 0;function Lee(t){return Iee(t)||Ree(t)||!!(fI&&t&&t[fI])}var Nee=Lee,Dee=_B,kee=Nee;function NB(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=kee),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?NB(s,e-1,n,r,i):Dee(i,s):r||(i[i.length]=s)}return i}var DB=NB;function Uee(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Fee=Uee,Bee=Fee,zee=Bee(),Vee=zee,jee=Vee,Hee=qT;function $ee(t,e){return t&&jee(t,e,Hee)}var kB=$ee,Gee=A_;function Wee(t,e){return function(n,r){if(n==null)return n;if(!Gee(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Xee=Wee,Yee=kB,qee=Xee,Kee=qee(Yee),ZT=Kee,Zee=ZT,Jee=A_;function Qee(t,e){var n=-1,r=Jee(t)?Array(t.length):[];return Zee(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var UB=Qee;function ete(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var tte=ete,hI=qf;function nte(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=hI(t),a=e!==void 0,s=e===null,l=e===e,u=hI(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var rte=nte,ite=rte;function ote(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ite(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ate=ote,M1=NT,ste=DT,lte=rh,ute=UB,cte=tte,fte=wB,hte=ate,dte=nh,pte=xi;function mte(t,e,n){e.length?e=M1(e,function(o){return pte(o)?function(a){return ste(a,o.length===1?o[0]:o)}:o}):e=[dte];var r=-1;e=M1(e,fte(lte));var i=ute(t,function(o,a,s){var l=M1(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return cte(i,function(o,a){return hte(o,a,n)})}var gte=mte;function vte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var yte=vte,xte=yte,dI=Math.max;function _te(t,e,n){return e=dI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=dI(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),xte(t,this,s)}}var Ste=_te;function bte(t){return function(){return t}}var wte=bte,Mte=Pu,Ete=function(){try{var t=Mte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),FB=Ete,Ate=wte,pI=FB,Tte=nh,Pte=pI?function(t,e){return pI(t,"toString",{configurable:!0,enumerable:!1,value:Ate(e),writable:!0})}:Tte,Cte=Pte,Ote=800,Rte=16,Ite=Date.now;function Lte(t){var e=0,n=0;return function(){var r=Ite(),i=Rte-(r-n);if(n=r,i>0){if(++e>=Ote)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Nte=Lte,Dte=Cte,kte=Nte,Ute=kte(Dte),Fte=Ute,Bte=nh,zte=Ste,Vte=Fte;function jte(t,e){return Vte(zte(t,e,Bte),t+"")}var Hte=jte,$te=OT,Gte=A_,Wte=XT,Xte=tl;function Yte(t,e,n){if(!Xte(n))return!1;var r=typeof e;return(r=="number"?Gte(n)&&Wte(e,n.length):r=="string"&&e in n)?$te(n[e],t):!1}var P_=Yte,qte=DB,Kte=gte,Zte=Hte,mI=P_,Jte=Zte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mI(t,e[0],e[1])?e=[]:n>2&&mI(e[0],e[1],e[2])&&(e=[e[0]]),Kte(t,qte(e,1),[])}),Qte=Jte;const JT=dn(Qte);function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}function ene(t,e){return ine(t)||rne(t,e)||nne(t,e)||tne()}function tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ine(t){if(Array.isArray(t))return t}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return e=ane(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ane(t){var e=sne(t,"string");return dp(e)=="symbol"?e:e+""}function sne(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t){return Array.isArray(t)&&rr(t[0])&&rr(t[1])?t.join(" ~ "):t}var une=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,x=e.label,y=e.labelFormatter,g=e.accessibilityLayer,_=g===void 0?!1:g,S=function(){if(c&&c.length){var k={padding:0,margin:0},F=(p?JT(c,p):c).map(function(X,G){if(X.type==="none")return null;var q=E1({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},s),W=X.formatter||f||lne,D=X.value,V=X.name,z=D,Q=V;if(W&&z!=null&&Q!=null){var ne=W(D,V,X,G,c);if(Array.isArray(ne)){var de=ene(ne,2);z=de[0],Q=de[1]}else z=ne}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:q},rr(Q)?le.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,rr(Q)?le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,le.createElement("span",{className:"recharts-tooltip-item-value"},z),le.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},M=E1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=E1({margin:0},u),A=!Qt(x),T=A?x:"",R=Jt("recharts-default-tooltip",m),P=Jt("recharts-tooltip-label",v);A&&y&&c!==void 0&&c!==null&&(T=y(x,c));var O=_?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",sE({className:R,style:M},O),le.createElement("p",{className:P,style:w},le.isValidElement(T)?T:"".concat(T)),S())};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function Qg(t,e,n){return e=cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=fne(t,"string");return pp(e)=="symbol"?e:e+""}function fne(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $h="recharts-tooltip-wrapper",hne={visibility:"hidden"};function dne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Jt($h,Qg(Qg(Qg(Qg({},"".concat($h,"-right"),Qe(n)&&e&&Qe(e.x)&&n>=e.x),"".concat($h,"-left"),Qe(n)&&e&&Qe(e.x)&&n<e.x),"".concat($h,"-bottom"),Qe(r)&&e&&Qe(e.y)&&r>=e.y),"".concat($h,"-top"),Qe(r)&&e&&Qe(e.y)&&r<e.y))}function yI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Qe(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var p=c,m=l[r];return p<m?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,x=l[r]+u;return v>x?Math.max(c,l[r]):Math.max(f,l[r])}function pne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function mne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=yI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=yI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=pne({translateX:c,translateY:f,useTranslate3d:s})):u=hne,{cssProperties:u,cssClasses:dne({translateX:c,translateY:f,coordinate:n})}}function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zB(r.key),r)}}function yne(t,e,n){return e&&vne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,n){return e=l0(e),_ne(t,BB()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function _ne(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(t)}function Sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function uE(t,e,n){return e=zB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zB(t){var e=wne(t,"string");return gf(e)=="symbol"?e:e+""}function wne(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SI=1,Mne=function(t){function e(){var n;gne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xne(this,e,[].concat(i)),uE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return bne(e,t),yne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>SI||Math.abs(r.height-this.state.lastBoundingBox.height)>SI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,m=i.offset,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,g=i.viewBox,_=i.wrapperStyle,S=mne({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),M=S.cssClasses,w=S.cssProperties,A=_I(_I({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return le.createElement("div",{tabIndex:-1,className:M,style:A,ref:function(R){r.wrapperNode=R}},u)}}])}(j.PureComponent),Ene=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xm={isSsr:Ene()};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){QT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function Pne(t,e,n){return e&&Tne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cne(t,e,n){return e=u0(e),One(t,VB()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function One(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function QT(t,e,n){return e=jB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jB(t){var e=Lne(t,"string");return vf(e)=="symbol"?e:e+""}function Lne(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nne(t){return t.dataKey}function Dne(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(une,e)}var Eo=function(t){function e(){return Ane(this,e),Cne(this,e,arguments)}return Ine(e,t),Pne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,m=i.offset,v=i.payload,x=i.payloadUniqBy,y=i.position,g=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,M=i.wrapperStyle,w=v??[];f&&w.length&&(w=RB(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),x,Nne));var A=w.length>0;return le.createElement(Mne,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:c,hasPayload:A,offset:m,position:y,reverseDirection:g,useTranslate3d:_,viewBox:S,wrapperStyle:M},Dne(u,wI(wI({},this.props),{},{payload:w})))}}])}(j.PureComponent);QT(Eo,"displayName","Tooltip");QT(Eo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kne=pa,Une=function(){return kne.Date.now()},Fne=Une,Bne=/\s/;function zne(t){for(var e=t.length;e--&&Bne.test(t.charAt(e)););return e}var Vne=zne,jne=Vne,Hne=/^\s+/;function $ne(t){return t&&t.slice(0,jne(t)+1).replace(Hne,"")}var Gne=$ne,Wne=Gne,MI=tl,Xne=qf,EI=NaN,Yne=/^[-+]0x[0-9a-f]+$/i,qne=/^0b[01]+$/i,Kne=/^0o[0-7]+$/i,Zne=parseInt;function Jne(t){if(typeof t=="number")return t;if(Xne(t))return EI;if(MI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=MI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wne(t);var n=qne.test(t);return n||Kne.test(t)?Zne(t.slice(2),n?2:8):Yne.test(t)?EI:+t}var HB=Jne,Qne=tl,A1=Fne,AI=HB,ere="Expected a function",tre=Math.max,nre=Math.min;function rre(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(ere);e=AI(e)||0,Qne(n)&&(c=!!n.leading,f="maxWait"in n,o=f?tre(AI(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function m(A){var T=r,R=i;return r=i=void 0,u=A,a=t.apply(R,T),a}function v(A){return u=A,s=setTimeout(g,e),c?m(A):a}function x(A){var T=A-l,R=A-u,P=e-T;return f?nre(P,o-R):P}function y(A){var T=A-l,R=A-u;return l===void 0||T>=e||T<0||f&&R>=o}function g(){var A=A1();if(y(A))return _(A);s=setTimeout(g,x(A))}function _(A){return s=void 0,p&&r?m(A):(r=i=void 0,a)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function M(){return s===void 0?a:_(A1())}function w(){var A=A1(),T=y(A);if(r=arguments,i=this,l=A,T){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(g,e),m(l)}return s===void 0&&(s=setTimeout(g,e)),a}return w.cancel=S,w.flush=M,w}var ire=rre,ore=ire,are=tl,sre="Expected a function";function lre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sre);return are(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ore(t,e,{leading:r,maxWait:e,trailing:i})}var ure=lre;const $B=dn(ure);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return e=fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return mp(e)=="symbol"?e:e+""}function hre(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dre(t,e){return vre(t)||gre(t,e)||mre(t,e)||pre()}function pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vre(t){if(Array.isArray(t))return t}var GB=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,m=t.children,v=t.debounce,x=v===void 0?0:v,y=t.id,g=t.className,_=t.onResize,S=t.style,M=S===void 0?{}:S,w=j.useRef(null),A=j.useRef();A.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var T=j.useState({containerWidth:i.width,containerHeight:i.height}),R=dre(T,2),P=R[0],O=R[1],L=j.useCallback(function(F,X){O(function(G){var q=Math.round(F),W=Math.round(X);return G.containerWidth===q&&G.containerHeight===W?G:{containerWidth:q,containerHeight:W}})},[]);j.useEffect(function(){var F=function(V){var z,Q=V[0].contentRect,ne=Q.width,de=Q.height;L(ne,de),(z=A.current)===null||z===void 0||z.call(A,ne,de)};x>0&&(F=$B(F,x,{trailing:!0,leading:!1}));var X=new ResizeObserver(F),G=w.current.getBoundingClientRect(),q=G.width,W=G.height;return L(q,W),X.observe(w.current),function(){X.disconnect()}},[L,x]);var k=j.useMemo(function(){var F=P.containerWidth,X=P.containerHeight;if(F<0||X<0)return null;ru(Xl(a)||Xl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ru(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Xl(a)?F:a,q=Xl(l)?X:l;n&&n>0&&(G?q=G/n:q&&(G=q*n),p&&q>p&&(q=p)),ru(G>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,q,a,l,c,f,n);var W=!Array.isArray(m)&&Va(m.type).endsWith("Chart");return le.Children.map(m,function(D){return le.isValidElement(D)?j.cloneElement(D,ev({width:G,height:q},W?{style:ev({height:"100%",width:"100%",maxHeight:q,maxWidth:G},D.props.style)}:{})):D})},[n,m,l,p,f,c,P,a]);return le.createElement("div",{id:y?"".concat(y):void 0,className:Jt("recharts-responsive-container",g),style:ev(ev({},M),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:w},k)}),C_=function(e){return null};C_.displayName="Cell";function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=_re(t,"string");return gp(e)=="symbol"?e:e+""}function _re(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ec={widthCache:{},cacheCount:0},Sre=2e3,bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OI="recharts_measurement_span";function wre(t){var e=fE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ld=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xm.isSsr)return{width:0,height:0};var r=wre(n),i=JSON.stringify({text:e,copyStyle:r});if(ec.widthCache[i])return ec.widthCache[i];try{var o=document.getElementById(OI);o||(o=document.createElement("span"),o.setAttribute("id",OI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=fE(fE({},bre),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ec.widthCache[i]=l,++ec.cacheCount>Sre&&(ec.cacheCount=0,ec.widthCache={}),l}catch{return{width:0,height:0}}},Mre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function c0(t,e){return Pre(t)||Tre(t,e)||Are(t,e)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Pre(t){if(Array.isArray(t))return t}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rre(r.key),r)}}function Ore(t,e,n){return e&&II(t.prototype,e),n&&II(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rre(t){var e=Ire(t,"string");return vp(e)=="symbol"?e:e+""}function Ire(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dre=Object.keys(WB),zc="NaN";function kre(t,e){return t*WB[e]}var tv=function(){function t(e,n){Cre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Lre.test(n)&&(this.num=NaN,this.unit=""),Dre.includes(n)&&(this.num=kre(e,n),this.unit="px")}return Ore(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Nre.exec(n))!==null&&r!==void 0?r:[],o=c0(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function XB(t){if(t.includes(zc))return zc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=LI.exec(e))!==null&&n!==void 0?n:[],i=c0(r,4),o=i[1],a=i[2],s=i[3],l=tv.parse(o??""),u=tv.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return zc;e=e.replace(LI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=NI.exec(e))!==null&&f!==void 0?f:[],m=c0(p,4),v=m[1],x=m[2],y=m[3],g=tv.parse(v??""),_=tv.parse(y??""),S=x==="+"?g.add(_):g.subtract(_);if(S.isNaN())return zc;e=e.replace(NI,S.toString())}return e}var DI=/\(([^()]*)\)/;function Ure(t){for(var e=t;e.includes("(");){var n=DI.exec(e),r=c0(n,2),i=r[1];e=e.replace(DI,XB(i))}return e}function Fre(t){var e=t.replace(/\s+/g,"");return e=Ure(e),e=XB(e),e}function Bre(t){try{return Fre(t)}catch{return zc}}function T1(t){var e=Bre(t.slice(5,-1));return e===zc?"":e}var zre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vre=["dx","dy","angle","className","breakAll"];function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function kI(t,e){if(t==null)return{};var n=jre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UI(t,e){return Wre(t)||Gre(t,e)||$re(t,e)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Wre(t){if(Array.isArray(t))return t}var YB=/[ \f\n\r\t\v\u2028\u2029]+/,qB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Qt(n)||(r?o=n.toString().split(""):o=n.toString().split(YB));var a=o.map(function(l){return{word:l,width:Ld(l,i).width}}),s=r?0:Ld("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Xre=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Qe(a),f=s,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(q,W){var D=W.word,V=W.width,z=q[q.length-1];if(z&&(i==null||o||z.width+V+r<Number(i)))z.words.push(D),z.width+=V+r;else{var Q={words:[D],width:V};q.push(Q)}return q},[])},m=p(n),v=function(G){return G.reduce(function(q,W){return q.width>W.width?q:W})};if(!c)return m;for(var x="",y=function(G){var q=f.slice(0,G),W=qB({breakAll:u,style:l,children:q+x}).wordsWithComputedWidth,D=p(W),V=D.length>a||v(D).width>Number(i);return[V,D]},g=0,_=f.length-1,S=0,M;g<=_&&S<=f.length-1;){var w=Math.floor((g+_)/2),A=w-1,T=y(A),R=UI(T,2),P=R[0],O=R[1],L=y(w),k=UI(L,1),F=k[0];if(!P&&!F&&(g=w+1),P&&F&&(_=w-1),!P&&F){M=O;break}S++}return M||m},BI=function(e){var n=Qt(e)?[]:e.toString().split(YB);return[{words:n}]},Yre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!xm.isSsr){var l,u,c=qB({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return BI(i);return Xre({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return BI(i)},zI="#808080",f0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,v=e.verticalAnchor,x=v===void 0?"end":v,y=e.fill,g=y===void 0?zI:y,_=kI(e,zre),S=j.useMemo(function(){return Yre({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),M=_.dx,w=_.dy,A=_.angle,T=_.className,R=_.breakAll,P=kI(_,Vre);if(!rr(r)||!rr(o))return null;var O=r+(Qe(M)?M:0),L=o+(Qe(w)?w:0),k;switch(x){case"start":k=T1("calc(".concat(u,")"));break;case"middle":k=T1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=T1("calc(".concat(S.length-1," * -").concat(s,")"));break}var F=[];if(f){var X=S[0].width,G=_.width;F.push("scale(".concat((Qe(G)?G/X:1)/X,")"))}return A&&F.push("rotate(".concat(A,", ").concat(O,", ").concat(L,")")),F.length&&(P.transform=F.join(" ")),le.createElement("text",hE({},rn(P,!0),{x:O,y:L,className:Jt("recharts-text",T),textAnchor:m,fill:g.includes("url")?zI:g}),S.map(function(q,W){var D=q.words.join(R?"":" ");return le.createElement("tspan",{x:O,dy:W===0?k:s,key:"".concat(D,"-").concat(W)},D)}))};function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eP(t){let e,n,r;t.length!==2?(e=Gs,n=(s,l)=>Gs(t(s),l),r=(s,l)=>t(s)-l):(e=t===Gs||t===qre?t:Kre,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Kre(){return 0}function KB(t){return t===null?NaN:+t}function*Zre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jre=eP(Gs),_m=Jre.right;eP(KB).center;class VI extends Map{constructor(e,n=tie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jI(this,e))}has(e){return super.has(jI(this,e))}set(e,n){return super.set(Qre(this,e),n)}delete(e){return super.delete(eie(this,e))}}function jI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function eie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function nie(t=Gs){if(t===Gs)return ZB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ZB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rie=Math.sqrt(50),iie=Math.sqrt(10),oie=Math.sqrt(2);function h0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=rie?10:o>=iie?5:o>=oie?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?h0(t,e,n*2):[s,l,u]}function dE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?h0(e,t,n):h0(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function pE(t,e,n){return e=+e,t=+t,n=+n,h0(t,e,n)[2]}function mE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?pE(e,t,n):pE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $I(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function JB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ZB:nie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),v=Math.min(r,Math.floor(e+(l-u)*f/l+p));JB(t,e,m,v,i)}const o=t[e];let a=n,s=r;for(Gh(t,n,e),i(t[r],o)>0&&Gh(t,n,r);a<s;){for(Gh(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Gh(t,n,s):(++s,Gh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Gh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aie(t,e,n){if(t=Float64Array.from(Zre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $I(t);if(e>=1)return HI(t);var r,i=(r-1)*e,o=Math.floor(i),a=HI(JB(t,o).subarray(0,o+1)),s=$I(t.subarray(o+1));return a+(s-a)*(i-o)}}function sie(t,e,n=KB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function lie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ho(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gE=Symbol("implicit");function tP(){var t=new VI,e=[],n=[],r=gE;function i(o){let a=t.get(o);if(a===void 0){if(r!==gE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new VI;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tP(e,n).unknown(r)},ho.apply(i,arguments),i}function yp(){var t=tP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,m=i<r,v=m?i:r,x=m?r:i;o=(x-v)/Math.max(1,p-l+u*2),s&&(o=Math.floor(o)),v+=(x-v-o*(p-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=lie(p).map(function(g){return v+o*g});return n(m?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return yp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ho.apply(f(),arguments)}function QB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QB(e())},t}function Nd(){return QB(yp.apply(null,arguments).paddingInner(1))}function nP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ez(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sm(){}var xp=.7,d0=1/xp,tf="\\s*([+-]?\\d+)\\s*",_p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uie=/^#([0-9a-f]{3,8})$/,cie=new RegExp(`^rgb\\(${tf},${tf},${tf}\\)$`),fie=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),hie=new RegExp(`^rgba\\(${tf},${tf},${tf},${_p}\\)$`),die=new RegExp(`^rgba\\(${oa},${oa},${oa},${_p}\\)$`),pie=new RegExp(`^hsl\\(${_p},${oa},${oa}\\)$`),mie=new RegExp(`^hsla\\(${_p},${oa},${oa},${_p}\\)$`),GI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nP(Sm,Sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WI,formatHex:WI,formatHex8:gie,formatHsl:vie,formatRgb:XI,toString:XI});function WI(){return this.rgb().formatHex()}function gie(){return this.rgb().formatHex8()}function vie(){return tz(this).formatHsl()}function XI(){return this.rgb().formatRgb()}function Sp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?YI(e):n===3?new pi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cie.exec(t))?new pi(e[1],e[2],e[3],1):(e=fie.exec(t))?new pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hie.exec(t))?nv(e[1],e[2],e[3],e[4]):(e=die.exec(t))?nv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pie.exec(t))?ZI(e[1],e[2]/100,e[3]/100,1):(e=mie.exec(t))?ZI(e[1],e[2]/100,e[3]/100,e[4]):GI.hasOwnProperty(t)?YI(GI[t]):t==="transparent"?new pi(NaN,NaN,NaN,0):null}function YI(t){return new pi(t>>16&255,t>>8&255,t&255,1)}function nv(t,e,n,r){return r<=0&&(t=e=n=NaN),new pi(t,e,n,r)}function yie(t){return t instanceof Sm||(t=Sp(t)),t?(t=t.rgb(),new pi(t.r,t.g,t.b,t.opacity)):new pi}function vE(t,e,n,r){return arguments.length===1?yie(t):new pi(t,e,n,r??1)}function pi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nP(pi,vE,ez(Sm,{brighter(t){return t=t==null?d0:Math.pow(d0,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pi(iu(this.r),iu(this.g),iu(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qI,formatHex:qI,formatHex8:xie,formatRgb:KI,toString:KI}));function qI(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function xie(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function KI(){const t=p0(this.opacity);return`${t===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${t===1?")":`, ${t})`}`}function p0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yl(t){return t=iu(t),(t<16?"0":"")+t.toString(16)}function ZI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Co(t,e,n,r)}function tz(t){if(t instanceof Co)return new Co(t.h,t.s,t.l,t.opacity);if(t instanceof Sm||(t=Sp(t)),!t)return new Co;if(t instanceof Co)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Co(a,s,l,t.opacity)}function _ie(t,e,n,r){return arguments.length===1?tz(t):new Co(t,e,n,r??1)}function Co(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nP(Co,_ie,ez(Sm,{brighter(t){return t=t==null?d0:Math.pow(d0,t),new Co(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new Co(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pi(P1(t>=240?t-240:t+120,i,r),P1(t,i,r),P1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Co(JI(this.h),rv(this.s),rv(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p0(this.opacity);return`${t===1?"hsl(":"hsla("}${JI(this.h)}, ${rv(this.s)*100}%, ${rv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JI(t){return t=(t||0)%360,t<0?t+360:t}function rv(t){return Math.max(0,Math.min(1,t||0))}function P1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rP=t=>()=>t;function Sie(t,e){return function(n){return t+n*e}}function bie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wie(t){return(t=+t)==1?nz:function(e,n){return n-e?bie(e,n,t):rP(isNaN(e)?n:e)}}function nz(t,e){var n=e-t;return n?Sie(t,n):rP(isNaN(t)?e:t)}const QI=function t(e){var n=wie(e);function r(i,o){var a=n((i=vE(i)).r,(o=vE(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=nz(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Mie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Eie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ih(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Tie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function m0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ih(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var yE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C1=new RegExp(yE.source,"g");function Cie(t){return function(){return t}}function Oie(t){return function(e){return t(e)+""}}function Rie(t,e){var n=yE.lastIndex=C1.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=yE.exec(t))&&(i=C1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:m0(r,i)})),n=C1.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Oie(l[0].x):Cie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ih(t,e){var n=typeof e,r;return e==null||n==="boolean"?rP(e):(n==="number"?m0:n==="string"?(r=Sp(e))?(e=r,QI):Rie:e instanceof Sp?QI:e instanceof Date?Tie:Eie(e)?Mie:Array.isArray(e)?Aie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pie:m0)(t,e)}function iP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Iie(t,e){e===void 0&&(e=t,t=ih);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Lie(t){return function(){return t}}function g0(t){return+t}var e3=[0,1];function Jr(t){return t}function xE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lie(isNaN(e)?NaN:.5)}function Nie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Die(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xE(i,r),o=n(a,o)):(r=xE(r,i),o=n(o,a)),function(s){return o(r(s))}}function kie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=_m(t,s,1,r)-1;return o[l](i[l](s))}}function bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O_(){var t=e3,e=e3,n=ih,r,i,o,a=Jr,s,l,u;function c(){var p=Math.min(t.length,e.length);return a!==Jr&&(a=Nie(t[0],t[p-1])),s=p>2?kie:Die,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?o:(l||(l=s(t.map(r),e,n)))(r(a(p)))}return f.invert=function(p){return a(i((u||(u=s(e,t.map(r),m0)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,g0),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=iP,c()},f.clamp=function(p){return arguments.length?(a=p?!0:Jr,c()):a!==Jr},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,m){return r=p,i=m,c()}}function oP(){return O_()(Jr,Jr)}function Uie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function v0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yf(t){return t=v0(Math.abs(t)),t?t[1]:NaN}function Fie(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Bie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(t){if(!(e=zie.exec(t)))throw new Error("invalid format: "+t);var e;return new aP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bp.prototype=aP.prototype;function aP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var y0;function jie(t,e){var n=v0(t,e);if(!n)return y0=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(y0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+v0(t,Math.max(0,e+o-1))[0]}function t3(t,e){var n=v0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const n3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>t3(t*100,e),r:t3,s:jie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function r3(t){return t}var i3=Array.prototype.map,o3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hie(t){var e=t.grouping===void 0||t.thousands===void 0?r3:Fie(i3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?r3:Bie(i3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,p){f=bp(f);var m=f.fill,v=f.align,x=f.sign,y=f.symbol,g=f.zero,_=f.width,S=f.comma,M=f.precision,w=f.trim,A=f.type;A==="n"?(S=!0,A="g"):n3[A]||(M===void 0&&(M=12),w=!0,A="g"),(g||m==="0"&&v==="=")&&(g=!0,m="0",v="=");var T=(p&&p.prefix!==void 0?p.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),R=(y==="$"?r:/[%p]/.test(A)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),P=n3[A],O=/[defgprs%]/.test(A);M=M===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function L(k){var F=T,X=R,G,q,W;if(A==="c")X=P(k)+X,k="";else{k=+k;var D=k<0||1/k<0;if(k=isNaN(k)?l:P(Math.abs(k),M),w&&(k=Vie(k)),D&&+k==0&&x!=="+"&&(D=!1),F=(D?x==="("?x:s:x==="-"||x==="("?"":x)+F,X=(A==="s"&&!isNaN(k)&&y0!==void 0?o3[8+y0/3]:"")+X+(D&&x==="("?")":""),O){for(G=-1,q=k.length;++G<q;)if(W=k.charCodeAt(G),48>W||W>57){X=(W===46?i+k.slice(G+1):k.slice(G))+X,k=k.slice(0,G);break}}}S&&!g&&(k=e(k,1/0));var V=F.length+k.length+X.length,z=V<_?new Array(_-V+1).join(m):"";switch(S&&g&&(k=e(z+k,z.length?_-X.length:1/0),z=""),v){case"<":k=F+k+X+z;break;case"=":k=F+z+k+X;break;case"^":k=z.slice(0,V=z.length>>1)+F+k+X+z.slice(V);break;default:k=z+F+k+X;break}return o(k)}return L.toString=function(){return f+""},L}function c(f,p){var m=Math.max(-8,Math.min(8,Math.floor(yf(p)/3)))*3,v=Math.pow(10,-m),x=u((f=bp(f),f.type="f",f),{suffix:o3[8+m/3]});return function(y){return x(v*y)}}return{format:u,formatPrefix:c}}var iv,sP,rz;$ie({thousands:",",grouping:[3],currency:["$",""]});function $ie(t){return iv=Hie(t),sP=iv.format,rz=iv.formatPrefix,iv}function Gie(t){return Math.max(0,-yf(Math.abs(t)))}function Wie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yf(e)/3)))*3-yf(Math.abs(t)))}function Xie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yf(e)-yf(t))+1}function iz(t,e,n,r){var i=mE(t,e,n),o;switch(r=bp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Wie(i,a))&&(r.precision=o),rz(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Gie(i))&&(r.precision=o-(r.type==="%")*2);break}}return sP(r)}function nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return dE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=pE(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function x0(){var t=oP();return t.copy=function(){return bm(t,x0())},ho.apply(t,arguments),nl(t)}function oz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,g0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return oz(t).unknown(e)},t=arguments.length?Array.from(t,g0):[0,1],nl(n)}function az(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function a3(t){return Math.log(t)}function s3(t){return Math.exp(t)}function Yie(t){return-Math.log(-t)}function qie(t){return-Math.exp(-t)}function Kie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zie(t){return t===10?Kie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function l3(t){return(e,n)=>-t(-e,n)}function lP(t){const e=t(a3,s3),n=e.domain;let r=10,i,o;function a(){return i=Jie(r),o=Zie(r),n()[0]<0?(i=l3(i),o=l3(o),t(Yie,qie)):t(a3,s3),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),v,x;const y=s==null?10:+s;let g=[];if(!(r%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(v=1;v<r;++v)if(x=p<0?v/o(-p):v*o(p),!(x<u)){if(x>c)break;g.push(x)}}else for(;p<=m;++p)for(v=r-1;v>=1;--v)if(x=p>0?v/o(-p):v*o(p),!(x<u)){if(x>c)break;g.push(x)}g.length*2<y&&(g=dE(u,c,y))}else g=dE(p,m,Math.min(m-p,y)).map(o);return f?g.reverse():g},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bp(l)).precision==null&&(l.trim=!0),l=sP(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(az(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function sz(){const t=lP(O_()).domain([1,10]);return t.copy=()=>bm(t,sz()).base(t.base()),ho.apply(t,arguments),t}function u3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function c3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uP(t){var e=1,n=t(u3(e),c3(e));return n.constant=function(r){return arguments.length?t(u3(e=+r),c3(e)):e},nl(n)}function lz(){var t=uP(O_());return t.copy=function(){return bm(t,lz()).constant(t.constant())},ho.apply(t,arguments)}function f3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eoe(t){return t<0?-t*t:t*t}function cP(t){var e=t(Jr,Jr),n=1;function r(){return n===1?t(Jr,Jr):n===.5?t(Qie,eoe):t(f3(n),f3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nl(e)}function fP(){var t=cP(O_());return t.copy=function(){return bm(t,fP()).exponent(t.exponent())},ho.apply(t,arguments),t}function toe(){return fP.apply(null,arguments).exponent(.5)}function h3(t){return Math.sign(t)*t*t}function noe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uz(){var t=oP(),e=[0,1],n=!1,r;function i(o){var a=noe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(h3(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,g0)).map(h3)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ho.apply(i,arguments),nl(i)}function cz(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=sie(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[_m(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gs),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return cz().domain(t).range(e).unknown(r)},ho.apply(o,arguments)}function fz(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[_m(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return fz().domain([t,e]).range(i).unknown(o)},ho.apply(nl(a),arguments)}function hz(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[_m(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return hz().domain(t).range(e).unknown(n)},ho.apply(i,arguments)}const O1=new Date,R1=new Date;function ar(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ar(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(O1.setTime(+o),R1.setTime(+a),t(O1),t(R1),Math.floor(n(O1,R1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _0=ar(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ar(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_0);_0.range;const Ua=1e3,to=Ua*60,Fa=to*60,Ka=Fa*24,hP=Ka*7,d3=Ka*30,I1=Ka*365,ql=ar(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCSeconds());ql.range;const dP=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getMinutes());dP.range;const pP=ar(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCMinutes());pP.range;const mP=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua-t.getMinutes()*to)},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getHours());mP.range;const gP=ar(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getUTCHours());gP.range;const wm=ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*to)/Ka,t=>t.getDate()-1);wm.range;const R_=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>t.getUTCDate()-1);R_.range;const dz=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>Math.floor(t/Ka));dz.range;function Cu(t){return ar(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*to)/hP)}const I_=Cu(0),S0=Cu(1),roe=Cu(2),ioe=Cu(3),xf=Cu(4),ooe=Cu(5),aoe=Cu(6);I_.range;S0.range;roe.range;ioe.range;xf.range;ooe.range;aoe.range;function Ou(t){return ar(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hP)}const L_=Ou(0),b0=Ou(1),soe=Ou(2),loe=Ou(3),_f=Ou(4),uoe=Ou(5),coe=Ou(6);L_.range;b0.range;soe.range;loe.range;_f.range;uoe.range;coe.range;const vP=ar(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vP.range;const yP=ar(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yP.range;const Za=ar(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Za.range;const Ja=ar(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ja.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ja.range;function pz(t,e,n,r,i,o){const a=[[ql,1,Ua],[ql,5,5*Ua],[ql,15,15*Ua],[ql,30,30*Ua],[o,1,to],[o,5,5*to],[o,15,15*to],[o,30,30*to],[i,1,Fa],[i,3,3*Fa],[i,6,6*Fa],[i,12,12*Fa],[r,1,Ka],[r,2,2*Ka],[n,1,hP],[e,1,d3],[e,3,3*d3],[t,1,I1]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),v=m?m.range(u,+c+1):[];return p?v.reverse():v}function l(u,c,f){const p=Math.abs(c-u)/f,m=eP(([,,y])=>y).right(a,p);if(m===a.length)return t.every(mE(u/I1,c/I1,f));if(m===0)return _0.every(Math.max(mE(u,c,f),1));const[v,x]=a[p/a[m-1][2]<a[m][2]/p?m-1:m];return v.every(x)}return[s,l]}const[foe,hoe]=pz(Ja,yP,L_,dz,gP,pP),[doe,poe]=pz(Za,vP,I_,wm,mP,dP);function L1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function moe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Xh(i),c=Yh(i),f=Xh(o),p=Yh(o),m=Xh(a),v=Yh(a),x=Xh(s),y=Yh(s),g=Xh(l),_=Yh(l),S={a:W,A:D,b:V,B:z,c:null,d:x3,e:x3,f:Foe,g:Yoe,G:Koe,H:Doe,I:koe,j:Uoe,L:mz,m:Boe,M:zoe,p:Q,q:ne,Q:b3,s:w3,S:Voe,u:joe,U:Hoe,V:$oe,w:Goe,W:Woe,x:null,X:null,y:Xoe,Y:qoe,Z:Zoe,"%":S3},M={a:de,A:Fe,b:et,B:se,c:null,d:_3,e:_3,f:tae,g:fae,G:dae,H:Joe,I:Qoe,j:eae,L:vz,m:nae,M:rae,p:xe,q:je,Q:b3,s:w3,S:iae,u:oae,U:aae,V:sae,w:lae,W:uae,x:null,X:null,y:cae,Y:hae,Z:pae,"%":S3},w={a:O,A:L,b:k,B:F,c:X,d:v3,e:v3,f:Roe,g:g3,G:m3,H:y3,I:y3,j:Toe,L:Ooe,m:Aoe,M:Poe,p:P,q:Eoe,Q:Loe,s:Noe,S:Coe,u:_oe,U:Soe,V:boe,w:xoe,W:woe,x:G,X:q,y:g3,Y:m3,Z:Moe,"%":Ioe};S.x=A(n,S),S.X=A(r,S),S.c=A(e,S),M.x=A(n,M),M.X=A(r,M),M.c=A(e,M);function A(_e,Ee){return function(Be){var ve=[],$e=-1,ce=0,Me=_e.length,Se,Le,$;for(Be instanceof Date||(Be=new Date(+Be));++$e<Me;)_e.charCodeAt($e)===37&&(ve.push(_e.slice(ce,$e)),(Le=p3[Se=_e.charAt(++$e)])!=null?Se=_e.charAt(++$e):Le=Se==="e"?" ":"0",($=Ee[Se])&&(Se=$(Be,Le)),ve.push(Se),ce=$e+1);return ve.push(_e.slice(ce,$e)),ve.join("")}}function T(_e,Ee){return function(Be){var ve=Wh(1900,void 0,1),$e=R(ve,_e,Be+="",0),ce,Me;if($e!=Be.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ee&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(ce=N1(Wh(ve.y,0,1)),Me=ce.getUTCDay(),ce=Me>4||Me===0?b0.ceil(ce):b0(ce),ce=R_.offset(ce,(ve.V-1)*7),ve.y=ce.getUTCFullYear(),ve.m=ce.getUTCMonth(),ve.d=ce.getUTCDate()+(ve.w+6)%7):(ce=L1(Wh(ve.y,0,1)),Me=ce.getDay(),ce=Me>4||Me===0?S0.ceil(ce):S0(ce),ce=wm.offset(ce,(ve.V-1)*7),ve.y=ce.getFullYear(),ve.m=ce.getMonth(),ve.d=ce.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Me="Z"in ve?N1(Wh(ve.y,0,1)).getUTCDay():L1(Wh(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Me+5)%7:ve.w+ve.U*7-(Me+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,N1(ve)):L1(ve)}}function R(_e,Ee,Be,ve){for(var $e=0,ce=Ee.length,Me=Be.length,Se,Le;$e<ce;){if(ve>=Me)return-1;if(Se=Ee.charCodeAt($e++),Se===37){if(Se=Ee.charAt($e++),Le=w[Se in p3?Ee.charAt($e++):Se],!Le||(ve=Le(_e,Be,ve))<0)return-1}else if(Se!=Be.charCodeAt(ve++))return-1}return ve}function P(_e,Ee,Be){var ve=u.exec(Ee.slice(Be));return ve?(_e.p=c.get(ve[0].toLowerCase()),Be+ve[0].length):-1}function O(_e,Ee,Be){var ve=m.exec(Ee.slice(Be));return ve?(_e.w=v.get(ve[0].toLowerCase()),Be+ve[0].length):-1}function L(_e,Ee,Be){var ve=f.exec(Ee.slice(Be));return ve?(_e.w=p.get(ve[0].toLowerCase()),Be+ve[0].length):-1}function k(_e,Ee,Be){var ve=g.exec(Ee.slice(Be));return ve?(_e.m=_.get(ve[0].toLowerCase()),Be+ve[0].length):-1}function F(_e,Ee,Be){var ve=x.exec(Ee.slice(Be));return ve?(_e.m=y.get(ve[0].toLowerCase()),Be+ve[0].length):-1}function X(_e,Ee,Be){return R(_e,e,Ee,Be)}function G(_e,Ee,Be){return R(_e,n,Ee,Be)}function q(_e,Ee,Be){return R(_e,r,Ee,Be)}function W(_e){return a[_e.getDay()]}function D(_e){return o[_e.getDay()]}function V(_e){return l[_e.getMonth()]}function z(_e){return s[_e.getMonth()]}function Q(_e){return i[+(_e.getHours()>=12)]}function ne(_e){return 1+~~(_e.getMonth()/3)}function de(_e){return a[_e.getUTCDay()]}function Fe(_e){return o[_e.getUTCDay()]}function et(_e){return l[_e.getUTCMonth()]}function se(_e){return s[_e.getUTCMonth()]}function xe(_e){return i[+(_e.getUTCHours()>=12)]}function je(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Ee=A(_e+="",S);return Ee.toString=function(){return _e},Ee},parse:function(_e){var Ee=T(_e+="",!1);return Ee.toString=function(){return _e},Ee},utcFormat:function(_e){var Ee=A(_e+="",M);return Ee.toString=function(){return _e},Ee},utcParse:function(_e){var Ee=T(_e+="",!0);return Ee.toString=function(){return _e},Ee}}}var p3={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,goe=/^%/,voe=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function yoe(t){return t.replace(voe,"\\$&")}function Xh(t){return new RegExp("^(?:"+t.map(yoe).join("|")+")","i")}function Yh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xoe(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _oe(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Soe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function m3(t,e,n){var r=gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function g3(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Moe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Eoe(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aoe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function v3(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function y3(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Poe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Coe(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ooe(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Roe(t,e,n){var r=gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ioe(t,e,n){var r=goe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Loe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Noe(t,e,n){var r=gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function x3(t,e){return Kt(t.getDate(),e,2)}function Doe(t,e){return Kt(t.getHours(),e,2)}function koe(t,e){return Kt(t.getHours()%12||12,e,2)}function Uoe(t,e){return Kt(1+wm.count(Za(t),t),e,3)}function mz(t,e){return Kt(t.getMilliseconds(),e,3)}function Foe(t,e){return mz(t,e)+"000"}function Boe(t,e){return Kt(t.getMonth()+1,e,2)}function zoe(t,e){return Kt(t.getMinutes(),e,2)}function Voe(t,e){return Kt(t.getSeconds(),e,2)}function joe(t){var e=t.getDay();return e===0?7:e}function Hoe(t,e){return Kt(I_.count(Za(t)-1,t),e,2)}function gz(t){var e=t.getDay();return e>=4||e===0?xf(t):xf.ceil(t)}function $oe(t,e){return t=gz(t),Kt(xf.count(Za(t),t)+(Za(t).getDay()===4),e,2)}function Goe(t){return t.getDay()}function Woe(t,e){return Kt(S0.count(Za(t)-1,t),e,2)}function Xoe(t,e){return Kt(t.getFullYear()%100,e,2)}function Yoe(t,e){return t=gz(t),Kt(t.getFullYear()%100,e,2)}function qoe(t,e){return Kt(t.getFullYear()%1e4,e,4)}function Koe(t,e){var n=t.getDay();return t=n>=4||n===0?xf(t):xf.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function Zoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function _3(t,e){return Kt(t.getUTCDate(),e,2)}function Joe(t,e){return Kt(t.getUTCHours(),e,2)}function Qoe(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function eae(t,e){return Kt(1+R_.count(Ja(t),t),e,3)}function vz(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function tae(t,e){return vz(t,e)+"000"}function nae(t,e){return Kt(t.getUTCMonth()+1,e,2)}function rae(t,e){return Kt(t.getUTCMinutes(),e,2)}function iae(t,e){return Kt(t.getUTCSeconds(),e,2)}function oae(t){var e=t.getUTCDay();return e===0?7:e}function aae(t,e){return Kt(L_.count(Ja(t)-1,t),e,2)}function yz(t){var e=t.getUTCDay();return e>=4||e===0?_f(t):_f.ceil(t)}function sae(t,e){return t=yz(t),Kt(_f.count(Ja(t),t)+(Ja(t).getUTCDay()===4),e,2)}function lae(t){return t.getUTCDay()}function uae(t,e){return Kt(b0.count(Ja(t)-1,t),e,2)}function cae(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function fae(t,e){return t=yz(t),Kt(t.getUTCFullYear()%100,e,2)}function hae(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function dae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_f(t):_f.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function pae(){return"+0000"}function S3(){return"%"}function b3(t){return+t}function w3(t){return Math.floor(+t/1e3)}var tc,xz,_z;mae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mae(t){return tc=moe(t),xz=tc.format,tc.parse,_z=tc.utcFormat,tc.utcParse,tc}function gae(t){return new Date(t)}function vae(t){return t instanceof Date?+t:+new Date(+t)}function xP(t,e,n,r,i,o,a,s,l,u){var c=oP(),f=c.invert,p=c.domain,m=u(".%L"),v=u(":%S"),x=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),_=u("%b %d"),S=u("%B"),M=u("%Y");function w(A){return(l(A)<A?m:s(A)<A?v:a(A)<A?x:o(A)<A?y:r(A)<A?i(A)<A?g:_:n(A)<A?S:M)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?p(Array.from(A,vae)):p().map(gae)},c.ticks=function(A){var T=p();return t(T[0],T[T.length-1],A??10)},c.tickFormat=function(A,T){return T==null?w:u(T)},c.nice=function(A){var T=p();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?p(az(T,A)):c},c.copy=function(){return bm(c,xP(t,e,n,r,i,o,a,s,l,u))},c}function yae(){return ho.apply(xP(doe,poe,Za,vP,I_,wm,mP,dP,ql,xz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xae(){return ho.apply(xP(foe,hoe,Ja,yP,L_,R_,gP,pP,ql,_z).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N_(){var t=0,e=1,n,r,i,o,a=Jr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(p){var m,v;return arguments.length?([m,v]=p,a=f(m,v),u):[a(0),a(1)]}}return u.range=c(ih),u.rangeRound=c(iP),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Sz(){var t=nl(N_()(Jr));return t.copy=function(){return rl(t,Sz())},os.apply(t,arguments)}function bz(){var t=lP(N_()).domain([1,10]);return t.copy=function(){return rl(t,bz()).base(t.base())},os.apply(t,arguments)}function wz(){var t=uP(N_());return t.copy=function(){return rl(t,wz()).constant(t.constant())},os.apply(t,arguments)}function _P(){var t=cP(N_());return t.copy=function(){return rl(t,_P()).exponent(t.exponent())},os.apply(t,arguments)}function _ae(){return _P.apply(null,arguments).exponent(.5)}function Mz(){var t=[],e=Jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((_m(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>aie(t,o/r))},n.copy=function(){return Mz(e).domain(t)},os.apply(n,arguments)}function D_(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Jr,c,f=!1,p;function m(x){return isNaN(x=+x)?p:(x=.5+((x=+c(x))-o)*(r*x<r*o?s:l),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function v(x){return function(y){var g,_,S;return arguments.length?([g,_,S]=y,u=Iie(x,[g,_,S]),m):[u(0),u(.5),u(1)]}}return m.range=v(ih),m.rangeRound=v(iP),m.unknown=function(x){return arguments.length?(p=x,m):p},function(x){return c=x,i=x(t),o=x(e),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function Ez(){var t=nl(D_()(Jr));return t.copy=function(){return rl(t,Ez())},os.apply(t,arguments)}function Az(){var t=lP(D_()).domain([.1,1,10]);return t.copy=function(){return rl(t,Az()).base(t.base())},os.apply(t,arguments)}function Tz(){var t=uP(D_());return t.copy=function(){return rl(t,Tz()).constant(t.constant())},os.apply(t,arguments)}function SP(){var t=cP(D_());return t.copy=function(){return rl(t,SP()).exponent(t.exponent())},os.apply(t,arguments)}function Sae(){return SP.apply(null,arguments).exponent(.5)}const M3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yp,scaleDiverging:Ez,scaleDivergingLog:Az,scaleDivergingPow:SP,scaleDivergingSqrt:Sae,scaleDivergingSymlog:Tz,scaleIdentity:oz,scaleImplicit:gE,scaleLinear:x0,scaleLog:sz,scaleOrdinal:tP,scalePoint:Nd,scalePow:fP,scaleQuantile:cz,scaleQuantize:fz,scaleRadial:uz,scaleSequential:Sz,scaleSequentialLog:bz,scaleSequentialPow:_P,scaleSequentialQuantile:Mz,scaleSequentialSqrt:_ae,scaleSequentialSymlog:wz,scaleSqrt:toe,scaleSymlog:lz,scaleThreshold:hz,scaleTime:yae,scaleUtc:xae,tickFormat:iz},Symbol.toStringTag,{value:"Module"}));var bae=qf;function wae(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!bae(a):n(a,s)))var s=a,l=o}return l}var Pz=wae;function Mae(t,e){return t>e}var Eae=Mae,Aae=Pz,Tae=Eae,Pae=nh;function Cae(t){return t&&t.length?Aae(t,Pae,Tae):void 0}var Oae=Cae;const k_=dn(Oae);function Rae(t,e){return t<e}var Iae=Rae,Lae=Pz,Nae=Iae,Dae=nh;function kae(t){return t&&t.length?Lae(t,Dae,Nae):void 0}var Uae=kae;const U_=dn(Uae);var Fae=NT,Bae=rh,zae=UB,Vae=xi;function jae(t,e){var n=Vae(t)?Fae:zae;return n(t,Bae(e))}var Hae=jae,$ae=DB,Gae=Hae;function Wae(t,e){return $ae(Gae(t,e),1)}var Xae=Wae;const Yae=dn(Xae);var qae=KT;function Kae(t,e){return qae(t,e)}var Zae=Kae;const bP=dn(Zae);var oh=1e9,Jae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MP,En=!0,so="[DecimalError] ",ou=so+"Invalid argument: ",wP=so+"Exponent out of range: ",ah=Math.floor,Bl=Math.pow,Qae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,hr=1e7,_n=7,Cz=9007199254740991,w0=ah(Cz/_n),lt={};lt.absoluteValue=lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};lt.comparedTo=lt.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_n;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};lt.dividedBy=lt.div=function(t){return ja(this,new this.constructor(t))};lt.dividedToIntegerBy=lt.idiv=function(t){var e=this,n=e.constructor;return hn(ja(e,new n(t),0,1),n.precision)};lt.equals=lt.eq=function(t){return!this.cmp(t)};lt.exponent=function(){return Yn(this)};lt.greaterThan=lt.gt=function(t){return this.cmp(t)>0};lt.greaterThanOrEqualTo=lt.gte=function(t){return this.cmp(t)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(t){return this.cmp(t)<0};lt.lessThanOrEqualTo=lt.lte=function(t){return this.cmp(t)<1};lt.logarithm=lt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(so+"NaN");if(n.s<1)throw Error(so+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(En=!1,e=ja(wp(n,o),wp(t,o),o),En=!0,hn(e,i))};lt.minus=lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Iz(e,t):Oz(e,(t.s=-t.s,t))};lt.modulo=lt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(so+"NaN");return n.s?(En=!1,e=ja(n,t,0,1).times(t),En=!0,n.minus(e)):hn(new r(n),i)};lt.naturalExponential=lt.exp=function(){return Rz(this)};lt.naturalLogarithm=lt.ln=function(){return wp(this)};lt.negated=lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};lt.plus=lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Oz(e,t):Iz(e,(t.s=-t.s,t))};lt.precision=lt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ou+t);if(e=Yn(i)+1,r=i.d.length-1,n=r*_n+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};lt.squareRoot=lt.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(so+"NaN")}for(t=Yn(s),En=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ea(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ah((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ja(s,o,a+2)).times(.5),ea(o.d).slice(0,a)===(e=ea(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(hn(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return En=!0,hn(r,n)};lt.times=lt.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,p=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(o=p,p=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*p[i-r-1]+e,o[i--]=s%hr|0,e=s/hr|0;o[i]=(o[i]+e)%hr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,En?hn(t,f.precision):t};lt.toDecimalPlaces=lt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ua(t,0,oh),e===void 0?e=r.rounding:ua(e,0,8),hn(n,t+Yn(n)+1,e))};lt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yu(r,!0):(ua(t,0,oh),e===void 0?e=i.rounding:ua(e,0,8),r=hn(new i(r),t+1,e),n=yu(r,!0,t+1)),n};lt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?yu(i):(ua(t,0,oh),e===void 0?e=o.rounding:ua(e,0,8),r=hn(new o(i),t+Yn(i)+1,e),n=yu(r.abs(),!1,t+Yn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};lt.toInteger=lt.toint=function(){var t=this,e=t.constructor;return hn(new e(t),Yn(t)+1,e.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Oi);if(s=new l(s),!s.s){if(t.s<1)throw Error(so+"Infinity");return s}if(s.eq(Oi))return s;if(r=l.precision,t.eq(Oi))return hn(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=Cz){for(i=new l(Oi),e=Math.ceil(r/_n+4),En=!1;n%2&&(i=i.times(s),A3(i.d,e)),n=ah(n/2),n!==0;)s=s.times(s),A3(s.d,e);return En=!0,t.s<0?new l(Oi).div(i):hn(i,r)}}else if(o<0)throw Error(so+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,En=!1,i=t.times(wp(s,r+u)),En=!0,i=Rz(i),i.s=o,i};lt.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Yn(i),r=yu(i,n<=o.toExpNeg||n>=o.toExpPos)):(ua(t,1,oh),e===void 0?e=o.rounding:ua(e,0,8),i=hn(new o(i),t,e),n=Yn(i),r=yu(i,t<=n||n<=o.toExpNeg,t)),r};lt.toSignificantDigits=lt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ua(t,1,oh),e===void 0?e=r.rounding:ua(e,0,8)),hn(new r(n),t,e)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yn(t),n=t.constructor;return yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Oz(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),En?hn(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/_n),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/hr|0,l[o]%=hr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,En?hn(e,f):e}function ua(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ou+t)}function ea(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=_n-r.length,n&&(o+=Ts(n)),o+=r;a=t[e],r=a+"",n=_n-r.length,n&&(o+=Ts(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ja=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%hr|0,a=o/hr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*hr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,p,m,v,x,y,g,_,S,M,w,A,T,R,P=r.constructor,O=r.s==i.s?1:-1,L=r.d,k=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(so+"Division by zero");for(l=r.e-i.e,T=k.length,w=L.length,m=new P(O),v=m.d=[],u=0;k[u]==(L[u]||0);)++u;if(k[u]>(L[u]||0)&&--l,o==null?_=o=P.precision:a?_=o+(Yn(r)-Yn(i))+1:_=o,_<0)return new P(0);if(_=_/_n+2|0,u=0,T==1)for(c=0,k=k[0],_++;(u<w||c)&&_--;u++)S=c*hr+(L[u]||0),v[u]=S/k|0,c=S%k|0;else{for(c=hr/(k[0]+1)|0,c>1&&(k=t(k,c),L=t(L,c),T=k.length,w=L.length),M=T,x=L.slice(0,T),y=x.length;y<T;)x[y++]=0;R=k.slice(),R.unshift(0),A=k[0],k[1]>=hr/2&&++A;do c=0,s=e(k,x,T,y),s<0?(g=x[0],T!=y&&(g=g*hr+(x[1]||0)),c=g/A|0,c>1?(c>=hr&&(c=hr-1),f=t(k,c),p=f.length,y=x.length,s=e(f,x,p,y),s==1&&(c--,n(f,T<p?R:k,p))):(c==0&&(s=c=1),f=k.slice()),p=f.length,p<y&&f.unshift(0),n(x,f,y),s==-1&&(y=x.length,s=e(k,x,T,y),s<1&&(c++,n(x,T<y?R:k,y))),y=x.length):s===0&&(c++,x=[0]),v[u++]=c,s&&x[0]?x[y++]=L[M]||0:(x=[L[M]],y=1);while((M++<w||x[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,hn(m,a?o+Yn(m)+1:o)}}();function Rz(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Yn(t)>16)throw Error(wP+Yn(t));if(!t.s)return new c(Oi);for(En=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Bl(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Oi),c.precision=s;;){if(i=hn(i.times(t),s),n=n.times(++l),a=o.plus(ja(i,n,s)),ea(a.d).slice(0,s)===ea(o.d).slice(0,s)){for(;u--;)o=hn(o.times(o),s);return c.precision=f,e==null?(En=!0,hn(o,f)):o}o=a}}function Yn(t){for(var e=t.e*_n,n=t.d[0];n>=10;n/=10)e++;return e}function D1(t,e,n){if(e>t.LN10.sd())throw En=!0,n&&(t.precision=n),Error(so+"LN10 precision limit exceeded");return hn(new t(t.LN10),e)}function Ts(t){for(var e="";t--;)e+="0";return e}function wp(t,e){var n,r,i,o,a,s,l,u,c,f=1,p=10,m=t,v=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(so+(m.s?"NaN":"-Infinity"));if(m.eq(Oi))return new x(0);if(e==null?(En=!1,u=y):u=e,m.eq(10))return e==null&&(En=!0),D1(x,u);if(u+=p,x.precision=u,n=ea(v),r=n.charAt(0),o=Yn(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ea(m.d),r=n.charAt(0),f++;o=Yn(m),r>1?(m=new x("0."+n),o++):m=new x(r+"."+n.slice(1))}else return l=D1(x,u+2,y).times(o+""),m=wp(new x(r+"."+n.slice(1)),u-p).plus(l),x.precision=y,e==null?(En=!0,hn(m,y)):m;for(s=a=m=ja(m.minus(Oi),m.plus(Oi),u),c=hn(m.times(m),u),i=3;;){if(a=hn(a.times(c),u),l=s.plus(ja(a,new x(i),u)),ea(l.d).slice(0,u)===ea(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(D1(x,u+2,y).times(o+""))),s=ja(s,new x(f),u),x.precision=y,e==null?(En=!0,hn(s,y)):s;s=l,i+=2}}function E3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ah(n/_n),t.d=[],r=(n+1)%_n,n<0&&(r+=_n),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_n;r<i;)t.d.push(+e.slice(r,r+=_n));e=e.slice(r),r=_n-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),En&&(t.e>w0||t.e<-w0))throw Error(wP+n)}else t.s=0,t.e=0,t.d=[0];return t}function hn(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=_n,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/_n),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=_n,i=r-_n+a}if(n!==void 0&&(o=Bl(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Bl(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Yn(t),f.length=1,e=e-o-1,f[0]=Bl(10,(_n-e%_n)%_n),t.e=ah(-e/_n)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Bl(10,_n-r),f[c]=i>0?(u/Bl(10,a-i)%Bl(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==hr&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=hr)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(En&&(t.e>w0||t.e<-w0))throw Error(wP+Yn(t));return t}function Iz(t,e){var n,r,i,o,a,s,l,u,c,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),En?hn(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/_n),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=hr-1;--l[o],l[i]+=hr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,En?hn(e,m):e):new p(0)}function yu(t,e,n){var r,i=Yn(t),o=ea(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ts(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ts(-i-1)+o,n&&(r=n-a)>0&&(o+=Ts(r))):i>=a?(o+=Ts(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ts(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ts(r))),t.s<0?"-"+o:o}function A3(t,e){if(t.length>e)return t.length=e,!0}function Lz(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ou+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return E3(a,o.toString())}else if(typeof o!="string")throw Error(ou+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Qae.test(o))E3(a,o);else throw Error(ou+o)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Lz,i.config=i.set=ese,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ese(t){if(!t||typeof t!="object")throw Error(so+"Object expected");var e,n,r,i=["precision",1,oh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ah(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ou+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ou+n+": "+r);return this}var MP=Lz(Jae);Oi=new MP(1);const sn=MP;function tse(t){return ose(t)||ise(t)||rse(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t,e){if(t){if(typeof t=="string")return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}}function ise(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ose(t){if(Array.isArray(t))return _E(t)}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ase=function(e){return e},Nz={},Dz=function(e){return e===Nz},T3=function(e){return function n(){return arguments.length===0||arguments.length===1&&Dz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},sse=function t(e,n){return e===1?n:T3(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==Nz}).length;return a>=e?n.apply(void 0,i):t(e-a,T3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return Dz(f)?l.shift():f});return n.apply(void 0,tse(c).concat(l))}))})},F_=function(e){return sse(e.length,e)},SE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lse=F_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),use=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ase;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},bE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},kz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function cse(t){var e;return t===0?e=1:e=Math.floor(new sn(t).abs().log(10).toNumber())+1,e}function fse(t,e,n){for(var r=new sn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var hse=F_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dse=F_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pse=F_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const B_={rangeStep:fse,getDigitCount:cse,interpolateNumber:hse,uninterpolateNumber:dse,uninterpolateTruncation:pse};function wE(t){return vse(t)||gse(t)||Uz(t)||mse()}function mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vse(t){if(Array.isArray(t))return ME(t)}function Mp(t,e){return _se(t)||xse(t,e)||Uz(t,e)||yse()}function yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uz(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function _se(t){if(Array.isArray(t))return t}function Fz(t){var e=Mp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Bz(t,e,n){if(t.lte(0))return new sn(0);var r=B_.getDigitCount(t.toNumber()),i=new sn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new sn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new sn(Math.ceil(l))}function Sse(t,e,n){var r=1,i=new sn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new sn(10).pow(B_.getDigitCount(t)-1),i=new sn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new sn(Math.floor(t)))}else t===0?i=new sn(Math.floor((e-1)/2)):n||(i=new sn(Math.floor(t)));var a=Math.floor((e-1)/2),s=use(lse(function(l){return i.add(new sn(l-a).mul(r)).toNumber()}),SE);return s(0,e)}function zz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var o=Bz(new sn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new sn(0):(a=new sn(t).add(e).div(2),a=a.sub(new sn(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new sn(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?zz(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new sn(s).mul(o)),tickMax:a.add(new sn(l).mul(o))})}function bse(t){var e=Mp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=Fz([n,r]),l=Mp(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(wE(SE(0,i-1).map(function(){return 1/0}))):[].concat(wE(SE(0,i-1).map(function(){return-1/0})),[c]);return n>r?bE(f):f}if(u===c)return Sse(u,i,o);var p=zz(u,c,a,o),m=p.step,v=p.tickMin,x=p.tickMax,y=B_.rangeStep(v,x.add(new sn(.1).mul(m)),m);return n>r?bE(y):y}function wse(t,e){var n=Mp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Fz([r,i]),s=Mp(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=Bz(new sn(u).sub(l).div(c-1),o,0),p=[].concat(wE(B_.rangeStep(new sn(l),new sn(u).sub(new sn(.99).mul(f)),f)),[u]);return r>i?bE(p):p}var Mse=kz(bse),Ese=kz(wse),Ase="Invariant failed";function xu(t,e){throw new Error(Ase)}var Tse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function Pse(t,e){return Ise(t)||Rse(t,e)||Ose(t,e)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(t,e){if(t){if(typeof t=="string")return P3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P3(t,e)}}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ise(t){if(Array.isArray(t))return t}function Lse(t,e){if(t==null)return{};var n=Nse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hz(r.key),r)}}function Use(t,e,n){return e&&kse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fse(t,e,n){return e=E0(e),Bse(t,Vz()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function Bse(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(t)}function zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function Vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function jz(t,e,n){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t){var e=jse(t,"string");return Sf(e)=="symbol"?e:e+""}function jse(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z_=function(t){function e(){return Dse(this,e),Fse(this,e,arguments)}return Vse(e,t),Use(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=Lse(r,Tse),m=rn(p,!1);this.props.direction==="x"&&c.type!=="number"&&xu();var v=l.map(function(x){var y=u(x,s),g=y.x,_=y.y,S=y.value,M=y.errorVal;if(!M)return null;var w=[],A,T;if(Array.isArray(M)){var R=Pse(M,2);A=R[0],T=R[1]}else A=T=M;if(o==="vertical"){var P=c.scale,O=_+i,L=O+a,k=O-a,F=P(S-A),X=P(S+T);w.push({x1:X,y1:L,x2:X,y2:k}),w.push({x1:F,y1:O,x2:X,y2:O}),w.push({x1:F,y1:L,x2:F,y2:k})}else if(o==="horizontal"){var G=f.scale,q=g+i,W=q-a,D=q+a,V=G(S-A),z=G(S+T);w.push({x1:W,y1:z,x2:D,y2:z}),w.push({x1:q,y1:V,x2:q,y2:z}),w.push({x1:W,y1:V,x2:D,y2:V})}return le.createElement(pr,M0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),w.map(function(Q){return le.createElement("line",M0({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return le.createElement(pr,{className:"recharts-errorBars"},v)}}])}(le.Component);jz(z_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jz(z_,"displayName","ErrorBar");function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){Hse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hse(t,e,n){return e=$se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $se(t){var e=Gse(t,"string");return Ep(e)=="symbol"?e:e+""}function Gse(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $z=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ci(n,ef);if(!a)return null;var s=ef.defaultProps,l=s!==void 0?_l(_l({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,m=f.props,v=m.sectors||m.data||[];return c.concat(v.map(function(x){return{type:a.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,m=p!==void 0?_l(_l({},p),f.props):{},v=m.dataKey,x=m.name,y=m.legendType,g=m.hide;return{inactive:g,dataKey:v,type:l.iconType||y||"square",color:EP(f),value:x||v,payload:m}}),_l(_l(_l({},l),ef.getWithHeight(a,i)),{},{payload:u,item:a})};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function O3(t){return qse(t)||Yse(t)||Xse(t)||Wse()}function Wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xse(t,e){if(t){if(typeof t=="string")return AE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AE(t,e)}}function Yse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qse(t){if(Array.isArray(t))return AE(t)}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){nf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nf(t,e,n){return e=Kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kse(t){var e=Zse(t,"string");return Ap(e)=="symbol"?e:e+""}function Zse(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ca(t,e,n){return Qt(t)||Qt(e)?n:rr(e)?ro(t,e,n):jt(e)?e(t):n}function Dd(t,e,n,r){var i=Yae(t,function(s){return ca(s,e)});if(n==="number"){var o=i.filter(function(s){return Qe(s)||parseFloat(s)});return o.length?[U_(o),k_(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Qt(s)}):i;return a.map(function(s){return rr(s)||s instanceof Date?s:""})}var Jse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Oo(f-c)!==Oo(p-f)){var v=[];if(Oo(p-f)===Oo(l[1]-l[0])){m=p;var x=f+l[1]-l[0];v[0]=Math.min(x,(x+c)/2),v[1]=Math.max(x,(x+c)/2)}else{m=c;var y=p+l[1]-l[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var _=Math.min(c,p),S=Math.max(c,p);if(e>(_+f)/2&&e<=(S+f)/2){a=i[u].index;break}}}else for(var M=0;M<s;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){a=r[M].index;break}return a},EP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Qse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),p=0,m=f.length;p<m;p++){var v=c[f[p]],x=v.items,y=v.cateAxisId,g=x.filter(function(T){return Va(T.type).indexOf("Bar")>=0});if(g&&g.length){var _=g[0].type.defaultProps,S=_!==void 0?Dn(Dn({},_),g[0].props):g[0].props,M=S.barSize,w=S[y];a[w]||(a[w]=[]);var A=Qt(M)?n:M;a[w].push({item:g[0],stackList:g.slice(1),barSize:Qt(A)?void 0:vu(A,r,0)})}}return a},ele=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=vu(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var p=!1,m=i/l,v=a.reduce(function(M,w){return M+w.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&m>0&&(p=!0,m*=.9,v=l*m);var x=(i-v)/2>>0,y={offset:x-u,size:0};c=a.reduce(function(M,w){var A={item:w.item,position:{offset:y.offset+y.size+u,size:p?m:w.barSize}},T=[].concat(O3(M),[A]);return y=T[T.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(R){T.push({item:R,position:y})}),T},f)}else{var g=vu(r,i,0,!0);i-2*g-(l-1)*u<=0&&(u=0);var _=(i-2*g-(l-1)*u)/l;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;c=a.reduce(function(M,w,A){var T=[].concat(O3(M),[{item:w.item,position:{offset:g+(_+u)*A+(_-S)/2,size:S}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(R){T.push({item:R,position:T[T.length-1].position})}),T},f)}return c},tle=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=$z({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,m=u.align,v=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&Qe(e[m]))return Dn(Dn({},e),{},nf({},m,e[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&Qe(e[v]))return Dn(Dn({},e),{},nf({},v,e[v]+(p||0)))}return e},nle=function(e,n,r){return Qt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Gz=function(e,n,r,i,o){var a=n.props.children,s=No(a,z_).filter(function(u){return nle(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=ca(c,r);if(Qt(f))return u;var p=Array.isArray(f)?[U_(f),k_(f)]:[f,f],m=l.reduce(function(v,x){var y=ca(c,x,0),g=p[0]-Math.abs(Array.isArray(y)?y[0]:y),_=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},rle=function(e,n,r,i,o){var a=n.map(function(s){return Gz(e,s,r,o,i)}).filter(function(s){return!Qt(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Wz=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&Gz(e,l,u,i)||Dd(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},Xz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Kl=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Oo(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=o?o.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!ym(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:o?o[f]:f,index:p,offset:u}})},k1=new WeakMap,ov=function(e,n){if(typeof n!="function")return e;k1.has(e)||k1.set(e,new WeakMap);var r=k1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ile=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:yp(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:x0(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Nd(),realScaleType:"point"}:o==="category"?{scale:yp(),realScaleType:"band"}:{scale:x0(),realScaleType:"linear"};if(gu(i)){var l="scale".concat(b_(i));return{scale:(M3[l]||Nd)(),realScaleType:M3[l]?l:"point"}}return jt(i)?{scale:i}:{scale:Nd(),realScaleType:"point"}},I3=1e-4,ole=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-I3,a=Math.max(i[0],i[1])+I3,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},ale=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},sle=function(e,n){if(!n||n.length!==2||!Qe(n[0])||!Qe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(o[0]=r),(!Qe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},lle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=ym(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},ule=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=ym(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},cle={sign:lle,expand:MY,none:df,silhouette:EY,wiggle:AY,positive:ule},fle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=cle[r],a=wY().keys(i).value(function(s,l){return+ca(s,l,0)}).order(ZM).offset(o);return a(e)},hle=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,p){var m,v=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Dn(Dn({},p.type.defaultProps),p.props):p.props,x=v.stackId,y=v.hide;if(y)return f;var g=v[r],_=f[g]||{hasStack:!1,stackGroups:{}};if(rr(x)){var S=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),_.hasStack=!0,_.stackGroups[x]=S}else _.stackGroups[S_("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Dn(Dn({},f),{},nf({},g,_))},l),c={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,y){var g=m.stackGroups[y];return Dn(Dn({},x),{},nf({},y,{numericAxisId:r,cateAxisId:i,items:g.items,stackedData:fle(e,g.items,o)}))},v)}return Dn(Dn({},f),{},nf({},p,m))},c)},dle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Mse(u,o,s);return e.domain([U_(c),k_(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),p=Ese(f,o,s);return{niceTicks:p}}return null},L3=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ca(a,n.dataKey,n.domain[s]);return Qt(l)?null:n.scale(l)-o/2+i},ple=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},mle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(rr(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},gle=function(e){return e.reduce(function(n,r){return[U_(r.concat([n[0]]).filter(Qe)),k_(r.concat([n[1]]).filter(Qe))]},[1/0,-1/0])},Yz=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=gle(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},N3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TE=function(e,n,r){if(jt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Qe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(N3.test(e[0])){var o=+N3.exec(e[0])[1];i[0]=n[0]-o}else jt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Qe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(D3.test(e[1])){var a=+D3.exec(e[1])[1];i[1]=n[1]+a}else jt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},A0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=JT(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},k3=function(e,n,r){return!e||!e.length||bP(e,ro(r,"type.defaultProps.domain"))?n:e},qz=function(e,n){var r=e.type.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Dn(Dn({},rn(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:EP(e),value:ca(n,i),type:l,payload:n,chartType:u,hide:c})};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return e=yle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=xle(t,"string");return Tp(e)=="symbol"?e:e+""}function xle(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T0=Math.PI/180,_le=function(e){return e*180/Math.PI},_r=function(e,n,r,i){return{x:e+Math.cos(-T0*i)*r,y:n+Math.sin(-T0*i)*r}},Sle=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},ble=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Sle({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:_le(u),angleInRadian:u}},wle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Mle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},B3=function(e,n){var r=e.x,i=e.y,o=ble({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=wle(n),f=c.startAngle,p=c.endAngle,m=s,v;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;v=m>=p&&m<=f}return v?F3(F3({},n),{},{radius:a,angle:Mle(m,n)}):null};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}var Ele=["offset"];function Ale(t){return Ole(t)||Cle(t)||Ple(t)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(t,e){if(t){if(typeof t=="string")return PE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(t,e)}}function Cle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ole(t){if(Array.isArray(t))return PE(t)}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rle(t,e){if(t==null)return{};var n=Ile(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ile(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Dle(t,"string");return Pp(e)=="symbol"?e:e+""}function Dle(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(this,arguments)}var kle=function(e){var n=e.value,r=e.formatter,i=Qt(e.children)?n:e.children;return jt(r)?r(i):i},Ule=function(e,n){var r=Oo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Fle=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,v=l.endAngle,x=l.clockWise,y=(f+p)/2,g=Ule(m,v),_=g>=0?1:-1,S,M;i==="insideStart"?(S=m+_*a,M=x):i==="insideEnd"?(S=v-_*a,M=!x):i==="end"&&(S=v+_*a,M=x),M=g<=0?M:!M;var w=_r(u,c,y,S),A=_r(u,c,y,S+(M?1:-1)*359),T="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(A.x,",").concat(A.y),R=Qt(e.id)?S_("recharts-radial-line-"):e.id;return le.createElement("text",Cp({},r,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",s)}),le.createElement("defs",null,le.createElement("path",{id:R,d:T})),le.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Ble=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,p=(c+f)/2;if(i==="outside"){var m=_r(a,s,u+r,p),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,g=_r(a,s,y,p),_=g.x,S=g.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},zle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,p=f*i,m=f>0?"end":"start",v=f>0?"start":"end",x=u>=0?1:-1,y=x*i,g=x>0?"end":"start",_=x>0?"start":"end";if(o==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return er(er({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var M={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:v};return er(er({},M),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var w={x:s-y,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return er(er({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+u+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return er(er({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?er({x:s+y,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideRight"?er({x:s+u-y,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},T):o==="insideTop"?er({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},T):o==="insideBottom"?er({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},T):o==="insideTopLeft"?er({x:s+y,y:l+p,textAnchor:_,verticalAnchor:v},T):o==="insideTopRight"?er({x:s+u-y,y:l+p,textAnchor:g,verticalAnchor:v},T):o==="insideBottomLeft"?er({x:s+y,y:l+c-p,textAnchor:_,verticalAnchor:m},T):o==="insideBottomRight"?er({x:s+u-y,y:l+c-p,textAnchor:g,verticalAnchor:m},T):Kf(o)&&(Qe(o.x)||Xl(o.x))&&(Qe(o.y)||Xl(o.y))?er({x:s+vu(o.x,u),y:l+vu(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):er({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Vle=function(e){return"cx"in e&&Qe(e.cx)};function Ur(t){var e=t.offset,n=e===void 0?5:e,r=Rle(t,Ele),i=er({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!o||Qt(s)&&Qt(l)&&!j.isValidElement(u)&&!jt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var m;if(jt(u)){if(m=j.createElement(u,i),j.isValidElement(m))return m}else m=kle(i);var v=Vle(o),x=rn(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Fle(i,m,x);var y=v?Ble(i):zle(i);return le.createElement(f0,Cp({className:Jt("recharts-label",f)},x,y,{breakAll:p}),m)}Ur.displayName="Label";var Kz=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,m=e.top,v=e.left,x=e.width,y=e.height,g=e.clockWise,_=e.labelViewBox;if(_)return _;if(Qe(x)&&Qe(y)){if(Qe(f)&&Qe(p))return{x:f,y:p,width:x,height:y};if(Qe(m)&&Qe(v))return{x:m,y:v,width:x,height:y}}return Qe(f)&&Qe(p)?{x:f,y:p,width:0,height:0}:Qe(n)&&Qe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},jle=function(e,n){return e?e===!0?le.createElement(Ur,{key:"label-implicit",viewBox:n}):rr(e)?le.createElement(Ur,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Ur?j.cloneElement(e,{key:"label-implicit",viewBox:n}):le.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):jt(e)?le.createElement(Ur,{key:"label-implicit",content:e,viewBox:n}):Kf(e)?le.createElement(Ur,Cp({viewBox:n},e,{key:"label-implicit"})):null:null},Hle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Kz(e),a=No(i,Ur).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=jle(e.label,n||o);return[s].concat(Ale(a))};Ur.parseViewBox=Kz;Ur.renderCallByParent=Hle;function $le(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Gle=$le;const Wle=dn(Gle);function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}var Xle=["valueAccessor"],Yle=["data","dataKey","clockWise","id","textBreakAll"];function qle(t){return Qle(t)||Jle(t)||Zle(t)||Kle()}function Kle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function Jle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qle(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return Op(e)=="symbol"?e:e+""}function nue(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H3(t,e){if(t==null)return{};var n=rue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iue=function(e){return Array.isArray(e.value)?Wle(e.value):e.value};function au(t){var e=t.valueAccessor,n=e===void 0?iue:e,r=H3(t,Xle),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=H3(r,Yle);return!i||!i.length?null:le.createElement(pr,{className:"recharts-label-list"},i.map(function(c,f){var p=Qt(o)?n(c,f):ca(c&&c.payload,o),m=Qt(s)?{}:{id:"".concat(s,"-").concat(f)};return le.createElement(Ur,P0({},rn(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:Ur.parseViewBox(Qt(a)?c:j3(j3({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}au.displayName="LabelList";function oue(t,e){return t?t===!0?le.createElement(au,{key:"labelList-implicit",data:e}):le.isValidElement(t)||jt(t)?le.createElement(au,{key:"labelList-implicit",data:e,content:t}):Kf(t)?le.createElement(au,P0({data:e},t,{key:"labelList-implicit"})):null:null}function aue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=No(r,au).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=oue(t.label,e);return[o].concat(qle(i))}au.renderCallByParent=aue;function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return e=lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return Rp(e)=="symbol"?e:e+""}function uue(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cue=function(e,n){var r=Oo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},av=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/T0,p=u?o:o+a*f,m=_r(n,r,c,p),v=_r(n,r,i,p),x=u?o-a*f:o,y=_r(n,r,c*Math.cos(f*T0),x);return{center:m,circleTangency:v,lineTangency:y,theta:f}},Zz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=cue(a,s),u=a+l,c=_r(n,r,o,a),f=_r(n,r,o,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=_r(n,r,i,a),v=_r(n,r,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},fue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Oo(c-u),p=av({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=p.circleTangency,v=p.lineTangency,x=p.theta,y=av({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),g=y.circleTangency,_=y.lineTangency,S=y.theta,M=l?Math.abs(u-c):Math.abs(u-c)-x-S;if(M<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Zz({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=av({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=A.circleTangency,R=A.lineTangency,P=A.theta,O=av({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),L=O.circleTangency,k=O.lineTangency,F=O.theta,X=l?Math.abs(u-c):Math.abs(u-c)-P-F;if(X<0&&a===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},hue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jz=function(e){var n=G3(G3({},hue),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(a<o||c===f)return null;var m=Jt("recharts-sector",p),v=a-o,x=vu(s,v,0,!0),y;return x>0&&Math.abs(c-f)<360?y=fue({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=Zz({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),le.createElement("path",OE({},rn(n,!0),{className:m,d:y,role:"img"}))};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){due(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function due(t,e,n){return e=pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t){var e=mue(t,"string");return Ip(e)=="symbol"?e:e+""}function mue(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y3={curveBasisClosed:hY,curveBasisOpen:dY,curveBasis:fY,curveBumpX:ZX,curveBumpY:JX,curveLinearClosed:pY,curveLinear:M_,curveMonotoneX:mY,curveMonotoneY:gY,curveNatural:vY,curveStep:yY,curveStepAfter:_Y,curveStepBefore:xY},sv=function(e){return e.x===+e.x&&e.y===+e.y},qh=function(e){return e.x},Kh=function(e){return e.y},gue=function(e,n){if(jt(e))return e;var r="curve".concat(b_(e));return(r==="curveMonotone"||r==="curveBump")&&n?Y3["".concat(r).concat(n==="vertical"?"Y":"X")]:Y3[r]||M_},vue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=gue(r,s),f=u?o.filter(function(x){return sv(x)}):o,p;if(Array.isArray(a)){var m=u?a.filter(function(x){return sv(x)}):a,v=f.map(function(x,y){return X3(X3({},x),{},{base:m[y]})});return s==="vertical"?p=Zg().y(Kh).x1(qh).x0(function(x){return x.base.x}):p=Zg().x(qh).y1(Kh).y0(function(x){return x.base.y}),p.defined(sv).curve(c),p(v)}return s==="vertical"&&Qe(a)?p=Zg().y(Kh).x1(qh).x0(a):Qe(a)?p=Zg().x(qh).y1(Kh).y0(a):p=tB().x(qh).y(Kh),p.defined(sv).curve(c),p(f)},q3=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?vue(e):i;return j.createElement("path",RE({},rn(e,!1),Ky(e),{className:Jt("recharts-curve",n),d:a,ref:o}))},Qz={exports:{}},yue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xue=yue,_ue=xue;function e4(){}function t4(){}t4.resetWarningCache=e4;var Sue=function(){function t(r,i,o,a,s,l){if(l!==_ue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:t4,resetWarningCache:e4};return n.PropTypes=n,n};Qz.exports=Sue();var bue=Qz.exports;const tn=dn(bue),{getOwnPropertyNames:wue,getOwnPropertySymbols:Mue}=Object,{hasOwnProperty:Eue}=Object.prototype;function U1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function lv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Aue(t){return t!=null?t[Symbol.toStringTag]:void 0}function K3(t){return wue(t).concat(Mue(t))}const Tue=Object.hasOwn||((t,e)=>Eue.call(t,e));function Ru(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Pue="__v",Cue="__o",Oue="_owner",{getOwnPropertyDescriptor:Z3,keys:J3}=Object;function Rue(t,e){return t.byteLength===e.byteLength&&C0(new Uint8Array(t),new Uint8Array(e))}function Iue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Lue(t,e){return t.byteLength===e.byteLength&&C0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Nue(t,e){return Ru(t.getTime(),e.getTime())}function Due(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kue(t,e){return t===e}function Q3(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const p=a.value,m=s.value;if(n.equals(p[0],m[0],l,f,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Uue=Ru;function Fue(t,e,n){const r=J3(t);let i=r.length;if(J3(e).length!==i)return!1;for(;i-- >0;)if(!n4(t,e,n,r[i]))return!1;return!0}function Zh(t,e,n){const r=K3(t);let i=r.length;if(K3(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!n4(t,e,n,o)||(a=Z3(t,o),s=Z3(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Bue(t,e){return Ru(t.valueOf(),e.valueOf())}function zue(t,e){return t.source===e.source&&t.flags===e.flags}function eL(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function C0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function n4(t,e,n,r){return(r===Oue||r===Cue||r===Pue)&&(t.$$typeof||e.$$typeof)?!0:Tue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const jue="[object ArrayBuffer]",Hue="[object Arguments]",$ue="[object Boolean]",Gue="[object DataView]",Wue="[object Date]",Xue="[object Error]",Yue="[object Map]",que="[object Number]",Kue="[object Object]",Zue="[object RegExp]",Jue="[object Set]",Que="[object String]",ece={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},tce="[object URL]",nce=Object.prototype.toString;function rce({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:m,unknownTagComparators:v}){return function(y,g,_){if(y===g)return!0;if(y==null||g==null)return!1;const S=typeof y;if(S!==typeof g)return!1;if(S!=="object")return S==="number"?s(y,g,_):S==="function"?o(y,g,_):!1;const M=y.constructor;if(M!==g.constructor)return!1;if(M===Object)return l(y,g,_);if(Array.isArray(y))return e(y,g,_);if(M===Date)return r(y,g,_);if(M===RegExp)return c(y,g,_);if(M===Map)return a(y,g,_);if(M===Set)return f(y,g,_);const w=nce.call(y);if(w===Wue)return r(y,g,_);if(w===Zue)return c(y,g,_);if(w===Yue)return a(y,g,_);if(w===Jue)return f(y,g,_);if(w===Kue)return typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,_);if(w===tce)return m(y,g,_);if(w===Xue)return i(y,g,_);if(w===Hue)return l(y,g,_);if(ece[w])return p(y,g,_);if(w===jue)return t(y,g,_);if(w===Gue)return n(y,g,_);if(w===$ue||w===que||w===Que)return u(y,g,_);if(v){let A=v[w];if(!A){const T=Aue(y);T&&(A=v[T])}if(A)return A(y,g,_)}return!1}}function ice({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Rue,areArraysEqual:n?Zh:Iue,areDataViewsEqual:Lue,areDatesEqual:Nue,areErrorsEqual:Due,areFunctionsEqual:kue,areMapsEqual:n?U1(Q3,Zh):Q3,areNumbersEqual:Uue,areObjectsEqual:n?Zh:Fue,arePrimitiveWrappersEqual:Bue,areRegExpsEqual:zue,areSetsEqual:n?U1(eL,Zh):eL,areTypedArraysEqual:n?U1(C0,Zh):C0,areUrlsEqual:Vue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=lv(r.areArraysEqual),o=lv(r.areMapsEqual),a=lv(r.areObjectsEqual),s=lv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function oce(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function ace({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const sce=il();il({strict:!0});il({circular:!0});il({circular:!0,strict:!0});il({createInternalComparator:()=>Ru});il({strict:!0,createInternalComparator:()=>Ru});il({circular:!0,createInternalComparator:()=>Ru});il({circular:!0,createInternalComparator:()=>Ru,strict:!0});function il(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=ice(t),a=rce(o),s=n?n(a):oce(a);return ace({circular:e,comparator:a,createState:r,equals:s,strict:i})}function lce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function tL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):lce(i)};requestAnimationFrame(r)}function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}function uce(t){return dce(t)||hce(t)||fce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dce(t){if(Array.isArray(t))return t}function pce(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=uce(a),l=s[0],u=s.slice(1);if(typeof l=="number"){tL(i.bind(null,u),l);return}i(l),tL(i.bind(null,u));return}IE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return Lp(e)==="symbol"?e:String(e)}function gce(t,e){if(Lp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},yce=function(e){return e},xce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kd=function(e,n){return Object.keys(n).reduce(function(r,i){return iL(iL({},r),{},r4({},i,e(i,n[i])))},{})},oL=function(e,n,r){return e.map(function(i){return"".concat(xce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _ce(t,e){return wce(t)||bce(t,e)||i4(t,e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wce(t){if(Array.isArray(t))return t}function Mce(t){return Tce(t)||Ace(t)||i4(t)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function Ace(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tce(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O0=1e-4,o4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},a4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},aL=function(e,n){return function(r){var i=o4(e,n);return a4(i,r)}},Pce=function(e,n){return function(r){var i=o4(e,n),o=[].concat(Mce(i.map(function(a,s){return a*s}).slice(1)),[0]);return a4(o,r)}},sL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=_ce(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=aL(i,a),p=aL(o,s),m=Pce(i,a),v=function(g){return g>1?1:g<0?0:g},x=function(g){for(var _=g>1?1:g,S=_,M=0;M<8;++M){var w=f(S)-_,A=m(S);if(Math.abs(w-_)<O0||A<O0)return p(S);S=v(S-w/A)}return p(S)};return x.isStepper=!1,x},Cce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,p){var m=-(c-f)*r,v=p*o,x=p+(m-v)*s/1e3,y=p*s/1e3+c;return Math.abs(y-f)<O0&&Math.abs(x)<O0?[f,0]:[y,x]};return l.isStepper=!0,l.dt=s,l},Oce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sL(i);case"spring":return Cce();default:if(i.split("(")[0]==="cubic-bezier")return sL(i)}return typeof i=="function"?i:null};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function lL(t){return Lce(t)||Ice(t)||s4(t)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lce(t){if(Array.isArray(t))return DE(t)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){NE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NE(t,e,n){return e=Nce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Dce(t,"string");return Np(e)==="symbol"?e:String(e)}function Dce(t,e){if(Np(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t,e){return Bce(t)||Fce(t,e)||s4(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Bce(t){if(Array.isArray(t))return t}var R0=function(e,n,r){return e+(n-e)*r},kE=function(e){var n=e.from,r=e.to;return n!==r},zce=function t(e,n,r){var i=kd(function(o,a){if(kE(a)){var s=e(a.from,a.to,a.velocity),l=kce(s,2),u=l[0],c=l[1];return yr(yr({},a),{},{from:u,velocity:c})}return a},n);return r<1?kd(function(o,a){return kE(a)?yr(yr({},a),{},{velocity:R0(a.velocity,i[o].velocity,r),from:R0(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Vce=function(t,e,n,r,i){var o=vce(t,e),a=o.reduce(function(y,g){return yr(yr({},y),{},NE({},g,[t[g],e[g]]))},{}),s=o.reduce(function(y,g){return yr(yr({},y),{},NE({},g,{from:t[g],velocity:0,to:e[g]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return kd(function(g,_){return _.from},s)},m=function(){return!Object.values(s).filter(kE).length},v=function(g){u||(u=g);var _=g-u,S=_/n.dt;s=zce(n,s,S),i(yr(yr(yr({},t),e),p())),u=g,m()||(l=requestAnimationFrame(f))},x=function(g){c||(c=g);var _=(g-c)/r,S=kd(function(w,A){return R0.apply(void 0,lL(A).concat([n(_)]))},a);if(i(yr(yr(yr({},t),e),S)),_<1)l=requestAnimationFrame(f);else{var M=kd(function(w,A){return R0.apply(void 0,lL(A).concat([n(1)]))},a);i(yr(yr(yr({},t),e),M))}};return f=n.isStepper?v:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var jce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hce(t,e){if(t==null)return{};var n=$ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F1(t){return Yce(t)||Xce(t)||Wce(t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wce(t,e){if(t){if(typeof t=="string")return UE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UE(t,e)}}function Xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yce(t){if(Array.isArray(t))return UE(t)}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){xd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xd(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function Zce(t,e,n){return e&&Kce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l4(t){var e=Jce(t,"string");return bf(e)==="symbol"?e:String(e)}function Jce(t,e){if(bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function efe(t){var e=tfe();return function(){var r=I0(t),i;if(e){var o=I0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return BE(this,i)}}function BE(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zE(t)}function zE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}var Ys=function(t){Qce(n,t);var e=efe(n);function n(r,i){var o;qce(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,p=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(zE(o)),o.changeStyle=o.changeStyle.bind(zE(o)),!s||m<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:c}),BE(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof p=="function")return o.state={style:u},BE(o);o.state={style:l?xd({},l,u):u}}else o.state={style:{}};return o}return Zce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,p=this.state.style;if(s){if(!a){var m={style:l?xd({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(sce(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||u?f:i.to;if(this.state&&p){var y={style:l?xd({},l,x):x};(l&&p[l]!==x||!l&&p!==x)&&this.setState(y)}this.runAnimation(xo(xo({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,m=Vce(a,s,Oce(u),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([p,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,p=f===void 0?0:f,m=function(x,y,g){if(g===0)return x;var _=y.duration,S=y.easing,M=S===void 0?"ease":S,w=y.style,A=y.properties,T=y.onAnimationEnd,R=g>0?a[g-1]:y,P=A||Object.keys(w);if(typeof M=="function"||M==="spring")return[].concat(F1(x),[o.runJSAnimation.bind(o,{from:R.style,to:w,duration:_,easing:M}),_]);var O=oL(P,_,M),L=xo(xo(xo({},R.style),w),{},{transition:O});return[].concat(F1(x),[L,_,T]).filter(yce)};return this.manager.start([l].concat(F1(a.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pce());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=s?xd({},s,l):l,y=oL(Object.keys(x),a,u);v.start([c,o,xo(xo({},x),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Hce(i,jce),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var v=m.props,x=v.style,y=x===void 0?{}:x,g=v.className,_=j.cloneElement(m,xo(xo({},l),{},{style:xo(xo({},y),c),className:g}));return _};return u===1?f(j.Children.only(o)):le.createElement("div",null,j.Children.map(o,function(p){return f(p)}))}}]),n}(j.PureComponent);Ys.displayName="Animate";Ys.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ys.propTypes={from:tn.oneOfType([tn.object,tn.string]),to:tn.oneOfType([tn.object,tn.string]),attributeName:tn.string,duration:tn.number,begin:tn.number,easing:tn.oneOfType([tn.string,tn.func]),steps:tn.arrayOf(tn.shape({duration:tn.number.isRequired,style:tn.object.isRequired,easing:tn.oneOfType([tn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tn.func]),properties:tn.arrayOf("string"),onAnimationEnd:tn.func})),children:tn.oneOfType([tn.node,tn.func]),isActive:tn.bool,canBegin:tn.bool,onAnimationEnd:tn.func,shouldReAnimate:tn.bool,onAnimationStart:tn.func,onAnimationReStart:tn.func};function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function nfe(t,e){return afe(t)||ofe(t,e)||ife(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(t,e){if(t){if(typeof t=="string")return fL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fL(t,e)}}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ofe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function afe(t){if(Array.isArray(t))return t}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sfe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=ufe(t,"string");return Dp(e)=="symbol"?e:e+""}function ufe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pL=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=o[p]>a?a:o[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},cfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),p=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},ffe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AP=function(e){var n=dL(dL({},ffe),e),r=j.useRef(),i=j.useState(-1),o=nfe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&s(M)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,m=n.className,v=n.animationEasing,x=n.animationDuration,y=n.animationBegin,g=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Jt("recharts-rectangle",m);return _?le.createElement(Ys,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:v,isActive:_},function(M){var w=M.width,A=M.height,T=M.x,R=M.y;return le.createElement(Ys,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:g,easing:v},le.createElement("path",L0({},rn(n,!0),{className:S,d:pL(T,R,w,A,p),ref:r})))}):le.createElement("path",L0({},rn(n,!0),{className:S,d:pL(l,u,c,f,p)}))};function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(this,arguments)}var u4=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Jt("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",jE({},rn(e,!1),Ky(e),{className:a,cx:n,cy:r,r:i})):null};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var hfe=["x","y","top","left","width","height","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return kp(e)=="symbol"?e:e+""}function gfe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vfe(t,e){if(t==null)return{};var n=yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xfe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},_fe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,m=p===void 0?0:p,v=e.className,x=vfe(e,hfe),y=dfe({x:r,y:o,top:s,left:u,width:f,height:m},x);return!Qe(r)||!Qe(o)||!Qe(f)||!Qe(m)||!Qe(s)||!Qe(u)?null:le.createElement("path",HE({},rn(y,!0),{className:Jt("recharts-cross",v),d:xfe(r,o,f,m,s,u)}))},Sfe=EB,bfe=Sfe(Object.getPrototypeOf,Object),wfe=bfe,Mfe=rs,Efe=wfe,Afe=is,Tfe="[object Object]",Pfe=Function.prototype,Cfe=Object.prototype,c4=Pfe.toString,Ofe=Cfe.hasOwnProperty,Rfe=c4.call(Object);function Ife(t){if(!Afe(t)||Mfe(t)!=Tfe)return!1;var e=Efe(t);if(e===null)return!0;var n=Ofe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&c4.call(n)==Rfe}var Lfe=Ife;const Nfe=dn(Lfe);var Dfe=rs,kfe=is,Ufe="[object Boolean]";function Ffe(t){return t===!0||t===!1||kfe(t)&&Dfe(t)==Ufe}var Bfe=Ffe;const zfe=dn(Bfe);function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function Vfe(t,e){return Gfe(t)||$fe(t,e)||Hfe(t,e)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hfe(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $fe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Gfe(t){if(Array.isArray(t))return t}function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return e=Xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Yfe(t,"string");return Up(e)=="symbol"?e:e+""}function Yfe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},qfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kfe=function(e){var n=yL(yL({},qfe),e),r=j.useRef(),i=j.useState(-1),o=Vfe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,v=n.animationEasing,x=n.animationDuration,y=n.animationBegin,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var _=Jt("recharts-trapezoid",m);return g?le.createElement(Ys,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:x,animationEasing:v,isActive:g},function(S){var M=S.upperWidth,w=S.lowerWidth,A=S.height,T=S.x,R=S.y;return le.createElement(Ys,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:v},le.createElement("path",N0({},rn(n,!0),{className:_,d:xL(T,R,M,w,A),ref:r})))}):le.createElement("g",null,le.createElement("path",N0({},rn(n,!0),{className:_,d:xL(l,u,c,f,p)})))},Zfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function Jfe(t,e){if(t==null)return{};var n=Qfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return e=the(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return Fp(e)=="symbol"?e:e+""}function nhe(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rhe(t,e){return D0(D0({},e),t)}function ihe(t,e){return t==="symbols"}function SL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return le.createElement(AP,n);case"trapezoid":return le.createElement(Kfe,n);case"sector":return le.createElement(Jz,n);case"symbols":if(ihe(e))return le.createElement(HT,n);break;default:return null}}function ohe(t){return j.isValidElement(t)?t.props:t}function ahe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rhe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Jfe(t,Zfe),u;if(j.isValidElement(e))u=j.cloneElement(e,D0(D0({},l),ohe(e)));else if(jt(e))u=e(l);else if(Nfe(e)&&!zfe(e)){var c=i(e,l);u=le.createElement(SL,{shapeType:n,elementProps:c})}else{var f=l;u=le.createElement(SL,{shapeType:n,elementProps:f})}return s?le.createElement(pr,{className:a},u):u}function V_(t,e){return e!=null&&"trapezoids"in t.props}function j_(t,e){return e!=null&&"sectors"in t.props}function Bp(t,e){return e!=null&&"points"in t.props}function she(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function lhe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function uhe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function che(t,e){var n;return V_(t,e)?n=she:j_(t,e)?n=lhe:Bp(t,e)&&(n=uhe),n}function fhe(t,e){var n;return V_(t,e)?n="trapezoids":j_(t,e)?n="sectors":Bp(t,e)&&(n="points"),n}function hhe(t,e){if(V_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(j_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Bp(t,e)?e.payload:{}}function dhe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=fhe(n,e),o=hhe(n,e),a=r.filter(function(l,u){var c=bP(o,l),f=n.props[i].filter(function(v){var x=che(n,e);return x(v,e)}),p=n.props[i].indexOf(f[f.length-1]),m=u===p;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var phe=Math.ceil,mhe=Math.max;function ghe(t,e,n,r){for(var i=-1,o=mhe(phe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var vhe=ghe,yhe=HB,bL=1/0,xhe=17976931348623157e292;function _he(t){if(!t)return t===0?t:0;if(t=yhe(t),t===bL||t===-bL){var e=t<0?-1:1;return e*xhe}return t===t?t:0}var She=_he,bhe=vhe,whe=P_,B1=She;function Mhe(t){return function(e,n,r){return r&&typeof r!="number"&&whe(e,n,r)&&(n=r=void 0),e=B1(e),n===void 0?(n=e,e=0):n=B1(n),r=r===void 0?e<n?1:-1:B1(r),bhe(e,n,r,t)}}var Ehe=Mhe,Ahe=Ehe,The=Ahe(),Phe=The;const k0=dn(Phe);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){f4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4(t,e,n){return e=Che(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=Ohe(t,"string");return zp(e)=="symbol"?e:e+""}function Ohe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rhe=["Webkit","Moz","O","ms"],Ihe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Rhe.reduce(function(o,a){return ML(ML({},o),{},f4({},a+r,n))},{});return i[e]=n,i};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d4(r.key),r)}}function Nhe(t,e,n){return e&&AL(t.prototype,e),n&&AL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dhe(t,e,n){return e=F0(e),khe(t,h4()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function khe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uhe(t)}function Uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(t)}function Fhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function Ti(t,e,n){return e=d4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d4(t){var e=Bhe(t,"string");return wf(e)=="symbol"?e:e+""}function Bhe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Nd().domain(k0(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},TL=function(e){return e.changedTouches&&!!e.changedTouches.length},Mf=function(t){function e(n){var r;return Lhe(this,e),r=Dhe(this,e,[n]),Ti(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ti(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ti(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ti(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ti(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ti(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ti(r,"handleSlideDragStart",function(i){var o=TL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Fhe(e,t),Nhe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),p=Math.max(i,o),m=e.getIndexInRange(a,f),v=e.getIndexInRange(a,p);return{startIndex:m-m%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=ca(o[r],s,r);return jt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,v=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,u+c-f-s,u+c-f-a):x<0&&(x=Math.max(x,u-a,u-s));var y=this.getIndex({startX:a+x,endX:s+x});(y.startIndex!==p||y.endIndex!==m)&&v&&v(y),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=TL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,p=c.width,m=c.travellerWidth,v=c.onChange,x=c.gap,y=c.data,g={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+p-m-u):_<0&&(_=Math.max(_,f-u)),g[a]=u+_;var S=this.getIndex(g),M=S.startIndex,w=S.endIndex,A=function(){var R=y.length-1;return a==="startX"&&(s>l?M%x===0:w%x===0)||s<l&&w===R||a==="endX"&&(s>l?w%x===0:M%x===0)||s>l&&w===R};this.setState(Ti(Ti({},a,u+_),"brushMoveStartX",r.pageX),function(){v&&A()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ti({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return le.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?le.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,v=l.data,x=l.startIndex,y=l.endIndex,g=Math.max(r,this.props.x),_=z1(z1({},rn(this.props,!1)),{},{x:g,y:u,width:c,height:f}),S=m||"Min value: ".concat((o=v[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[y])===null||a===void 0?void 0:a.name);return le.createElement(pr,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,m=5,v={pointerEvents:"none",fill:u};return le.createElement(pr,{className:"recharts-brush-texts"},le.createElement(f0,U0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:a+s/2},v),this.getTextOfTick(i)),le.createElement(f0,U0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,m=p.startX,v=p.endX,x=p.isTextActive,y=p.isSlideMoving,g=p.isTravellerMoving,_=p.isTravellerFocused;if(!i||!i.length||!Qe(s)||!Qe(l)||!Qe(u)||!Qe(c)||u<=0||c<=0)return null;var S=Jt("recharts-brush",o),M=le.Children.count(a)===1,w=Ihe("userSelect","none");return le.createElement(pr,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||y||g||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):jt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return z1({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?zhe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(j.PureComponent);Ti(Mf,"displayName","Brush");Ti(Mf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vhe=ZT;function jhe(t,e){var n;return Vhe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Hhe=jhe,$he=vB,Ghe=rh,Whe=Hhe,Xhe=xi,Yhe=P_;function qhe(t,e,n){var r=Xhe(t)?$he:Whe;return n&&Yhe(t,e,n)&&(e=void 0),r(t,Ghe(e))}var Khe=qhe;const Zhe=dn(Khe);var aa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},PL=FB;function Jhe(t,e,n){e=="__proto__"&&PL?PL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qhe=Jhe,ede=Qhe,tde=kB,nde=rh;function rde(t,e){var n={};return e=nde(e),tde(t,function(r,i,o){ede(n,i,e(r,i,o))}),n}var ide=rde;const ode=dn(ide);function ade(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var sde=ade,lde=ZT;function ude(t,e){var n=!0;return lde(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var cde=ude,fde=sde,hde=cde,dde=rh,pde=xi,mde=P_;function gde(t,e,n){var r=pde(t)?fde:hde;return n&&mde(t,e,n)&&(e=void 0),r(t,dde(e))}var vde=gde;const yde=dn(vde);var xde=["x","y"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return e=Sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sde(t){var e=bde(t,"string");return Vp(e)=="symbol"?e:e+""}function bde(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wde(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ede(t,e){var n=t.x,r=t.y,i=wde(t,xde),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Jh(Jh(Jh(Jh(Jh({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function OL(t){return le.createElement(ahe,GE({shapeType:"rectangle",propTransformer:Ede,activeClassName:"recharts-active-bar"},t))}var Ade=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Qe(r)||U7(r);return o?e(r,i):(o||xu(),n)}},Tde=["value","background"],p4;function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Pde(t,e){if(t==null)return{};var n=Cde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){Ls(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g4(r.key),r)}}function Rde(t,e,n){return e&&IL(t.prototype,e),n&&IL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ide(t,e,n){return e=z0(e),Lde(t,m4()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function Lde(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nde(t)}function Nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function Dde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function Ls(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=kde(t,"string");return Ef(e)=="symbol"?e:e+""}function kde(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ol=function(t){function e(){var n;Ode(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ide(this,e,[].concat(i)),Ls(n,"state",{isAnimationFinished:!1}),Ls(n,"id",S_("recharts-bar-")),Ls(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ls(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Dde(e,t),Rde(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=rn(this.props,!1);return r&&r.map(function(f,p){var m=p===l,v=m?u:a,x=Wn(Wn(Wn({},c),f),{},{isActive:m,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(pr,B0({className:"recharts-bar-rectangle"},Zy(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),le.createElement(OL,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return le.createElement(Ys,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=o.map(function(y,g){var _=p&&p[g];if(_){var S=Qu(_.x,y.x),M=Qu(_.y,y.y),w=Qu(_.width,y.width),A=Qu(_.height,y.height);return Wn(Wn({},y),{},{x:S(v),y:M(v),width:w(v),height:A(v)})}if(a==="horizontal"){var T=Qu(0,y.height),R=T(v);return Wn(Wn({},y),{},{y:y.y+y.height-R,height:R})}var P=Qu(0,y.width),O=P(v);return Wn(Wn({},y),{},{width:O})});return le.createElement(pr,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!bP(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=rn(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,p=Pde(u,Tde);if(!f)return null;var m=Wn(Wn(Wn(Wn(Wn({},p),{},{fill:"#eee"},f),l),Zy(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return le.createElement(OL,B0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=No(c,z_);if(!f)return null;var p=u==="vertical"?a[0].height/2:a[0].width/2,m=function(y,g){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:ca(y,g)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(pr,v,f.map(function(x){return le.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,m=r.isAnimationActive,v=r.background,x=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,g=Jt("recharts-bar",a),_=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,M=_||S,w=Qt(x)?this.id:x;return le.createElement(pr,{className:g},_||S?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(w)},le.createElement("rect",{x:_?u:u-f/2,y:S?c:c-p/2,width:_?f:f*2,height:S?p:p*2}))):null,le.createElement(pr,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,w),(!m||y)&&au.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);p4=ol;Ls(ol,"displayName","Bar");Ls(ol,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ls(ol,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,m=ale(r,n);if(!m)return null;var v=e.layout,x=n.type.defaultProps,y=x!==void 0?Wn(Wn({},x),n.props):n.props,g=y.dataKey,_=y.children,S=y.minPointSize,M=v==="horizontal"?a:o,w=u?M.scale.domain():null,A=ple({numericAxis:M}),T=No(_,C_),R=f.map(function(P,O){var L,k,F,X,G,q;u?L=sle(u[c+O],w):(L=ca(P,g),Array.isArray(L)||(L=[A,L]));var W=Ade(S,p4.defaultProps.minPointSize)(L[1],O);if(v==="horizontal"){var D,V=[a.scale(L[0]),a.scale(L[1])],z=V[0],Q=V[1];k=L3({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:P,index:O}),F=(D=Q??z)!==null&&D!==void 0?D:void 0,X=m.size;var ne=z-Q;if(G=Number.isNaN(ne)?0:ne,q={x:k,y:a.y,width:X,height:a.height},Math.abs(W)>0&&Math.abs(G)<Math.abs(W)){var de=Oo(G||W)*(Math.abs(W)-Math.abs(G));F-=de,G+=de}}else{var Fe=[o.scale(L[0]),o.scale(L[1])],et=Fe[0],se=Fe[1];if(k=et,F=L3({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:P,index:O}),X=se-et,G=m.size,q={x:o.x,y:F,width:o.width,height:G},Math.abs(W)>0&&Math.abs(X)<Math.abs(W)){var xe=Oo(X||W)*(Math.abs(W)-Math.abs(X));X+=xe}}return Wn(Wn(Wn({},P),{},{x:k,y:F,width:X,height:G,value:u?L:L[1],payload:P,background:q},T&&T[O]&&T[O].props),{},{tooltipPayload:[qz(n,P)],tooltipPosition:{x:k+X/2,y:F+G/2}})});return Wn({data:R,layout:v},p)});function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function Fde(t,e,n){return e&&LL(t.prototype,e),n&&LL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){H_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=Bde(t,"string");return jp(e)=="symbol"?e:e+""}function Bde(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Ci(u,ol);return c.reduce(function(m,v){var x=n[v],y=x.orientation,g=x.domain,_=x.padding,S=_===void 0?{}:_,M=x.mirror,w=x.reversed,A="".concat(y).concat(M?"Mirror":""),T,R,P,O,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var k=g[1]-g[0],F=1/0,X=x.categoricalDomain.sort(z7);if(X.forEach(function(Fe,et){et>0&&(F=Math.min((Fe||0)-(X[et-1]||0),F))}),Number.isFinite(F)){var G=F/k,q=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(T=G*q/2),x.padding==="no-gap"){var W=vu(e.barCategoryGap,G*q),D=G*q/2;T=D-W-(D-W)/q*W}}}i==="xAxis"?R=[r.left+(S.left||0)+(T||0),r.left+r.width-(S.right||0)-(T||0)]:i==="yAxis"?R=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(T||0),r.top+r.height-(S.bottom||0)-(T||0)]:R=x.range,w&&(R=[R[1],R[0]]);var V=ile(x,o,p),z=V.scale,Q=V.realScaleType;z.domain(g).range(R),ole(z);var ne=dle(z,Ao(Ao({},x),{},{realScaleType:Q}));i==="xAxis"?(L=y==="top"&&!M||y==="bottom"&&M,P=r.left,O=f[A]-L*x.height):i==="yAxis"&&(L=y==="left"&&!M||y==="right"&&M,P=f[A]-L*x.width,O=r.top);var de=Ao(Ao(Ao({},x),ne),{},{realScaleType:Q,x:P,y:O,scale:z,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return de.bandSize=A0(de,ne),!x.hide&&i==="xAxis"?f[A]+=(L?-1:1)*de.height:x.hide||(f[A]+=(L?-1:1)*de.width),Ao(Ao({},m),{},H_({},v,de))},{})},y4=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Vde=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return y4({x:n,y:r},{x:i,y:o})},x4=function(){function t(e){Ude(this,t),this.scale=e}return Fde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();H_(x4,"EPS",1e-4);var TP=function(e){var n=Object.keys(e).reduce(function(r,i){return Ao(Ao({},r),{},H_({},i,x4.create(e[i])))},{});return Ao(Ao({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return ode(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return yde(i,function(o,a){return n[a].isInRange(o)})}})};function jde(t){return(t%180+180)%180}var Hde=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jde(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},$de=H9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_4=j.createContext(void 0),S4=j.createContext(void 0),b4=j.createContext(void 0),Gde=j.createContext({}),w4=j.createContext(void 0),M4=j.createContext(0),E4=j.createContext(0),DL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=$de(o);return le.createElement(_4.Provider,{value:r},le.createElement(S4.Provider,{value:i},le.createElement(Gde.Provider,{value:o},le.createElement(b4.Provider,{value:c},le.createElement(w4.Provider,{value:a},le.createElement(M4.Provider,{value:u},le.createElement(E4.Provider,{value:l},s)))))))},Wde=function(){return j.useContext(w4)},A4=function(e){var n=j.useContext(_4);n==null&&xu();var r=n[e];return r==null&&xu(),r},T4=function(e){var n=j.useContext(S4);n==null&&xu();var r=n[e];return r==null&&xu(),r},Xde=function(){var e=j.useContext(b4);return e},P4=function(){return j.useContext(E4)},C4=function(){return j.useContext(M4)};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function Yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R4(r.key),r)}}function Kde(t,e,n){return e&&qde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zde(t,e,n){return e=V0(e),Jde(t,O4()?Reflect.construct(e,n||[],V0(t).constructor):e.apply(t,n))}function Jde(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qde(t)}function Qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(t)}function epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){PP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PP(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=tpe(t,"string");return Af(e)=="symbol"?e:e+""}function tpe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function npe(t,e){return ape(t)||ope(t,e)||ipe(t,e)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,e){if(t){if(typeof t=="string")return FL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FL(t,e)}}function FL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ope(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ape(t){if(Array.isArray(t))return t}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}var spe=function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):jt(e)?r=e(n):r=le.createElement("line",YE({},n,{className:"recharts-reference-line-line"})),r},lpe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,p=o.width,m=o.height;if(r){var v=u.y,x=e.y.apply(v,{position:a});if(aa(u,"discard")&&!e.y.isInRange(x))return null;var y=[{x:c+p,y:x},{x:c,y:x}];return l==="left"?y.reverse():y}if(n){var g=u.x,_=e.x.apply(g,{position:a});if(aa(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+m},{x:_,y:f}];return s==="top"?S.reverse():S}if(i){var M=u.segment,w=M.map(function(A){return e.apply(A,{position:a})});return aa(u,"discard")&&Zhe(w,function(A){return!e.isInRange(A)})?null:w}return null};function upe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Wde(),c=A4(i),f=T4(o),p=Xde();if(!u||!p)return null;ru(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=TP({x:c.scale,y:f.scale}),v=rr(e),x=rr(n),y=r&&r.length===2,g=lpe(m,v,x,y,p,t.position,c.orientation,f.orientation,t);if(!g)return null;var _=npe(g,2),S=_[0],M=S.x,w=S.y,A=_[1],T=A.x,R=A.y,P=aa(t,"hidden")?"url(#".concat(u,")"):void 0,O=UL(UL({clipPath:P},rn(t,!0)),{},{x1:M,y1:w,x2:T,y2:R});return le.createElement(pr,{className:Jt("recharts-reference-line",s)},spe(a,O),Ur.renderCallByParent(t,Vde({x1:M,y1:w,x2:T,y2:R})))}var CP=function(t){function e(){return Yde(this,e),Zde(this,e,arguments)}return epe(e,t),Kde(e,[{key:"render",value:function(){return le.createElement(upe,this.props)}}])}(le.Component);PP(CP,"displayName","ReferenceLine");PP(CP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function hpe(t,e,n){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dpe(t,e,n){return e=j0(e),ppe(t,I4()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function ppe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mpe(t)}function mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function gpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function $_(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=vpe(t,"string");return Tf(e)=="symbol"?e:e+""}function vpe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ype=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=TP({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return aa(e,"discard")&&!a.isInRange(s)?null:s},G_=function(t){function e(){return cpe(this,e),dpe(this,e,arguments)}return gpe(e,t),hpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=rr(i),c=rr(o);if(ru(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=ype(this.props);if(!f)return null;var p=f.x,m=f.y,v=this.props,x=v.shape,y=v.className,g=aa(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=zL(zL({clipPath:g},rn(this.props,!0)),{},{cx:p,cy:m});return le.createElement(pr,{className:Jt("recharts-reference-dot",y)},e.renderDot(x,_),Ur.renderCallByParent(this.props,{x:p-a,y:m-a,width:2*a,height:2*a}))}}])}(le.Component);$_(G_,"displayName","ReferenceDot");$_(G_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$_(G_,"renderDot",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):jt(t)?n=t(e):n=le.createElement(u4,qE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){W_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function Spe(t,e,n){return e&&_pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bpe(t,e,n){return e=H0(e),wpe(t,N4()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function wpe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mpe(t)}function Mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JE(t,e)}function JE(t,e){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JE(t,e)}function W_(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=Ape(t,"string");return Pf(e)=="symbol"?e:e+""}function Ape(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tpe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var p=TP({x:c.scale,y:f.scale}),m={x:e?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return aa(o,"discard")&&(!p.isInRange(m)||!p.isInRange(v))?null:y4(m,v)},X_=function(t){function e(){return xpe(this,e),bpe(this,e,arguments)}return Epe(e,t),Spe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ru(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rr(i),p=rr(o),m=rr(a),v=rr(s),x=this.props.shape;if(!f&&!p&&!m&&!v&&!x)return null;var y=Tpe(f,p,m,v,this.props);if(!y&&!x)return null;var g=aa(this.props,"hidden")?"url(#".concat(c,")"):void 0;return le.createElement(pr,{className:Jt("recharts-reference-area",l)},e.renderRect(x,jL(jL({clipPath:g},rn(this.props,!0)),y)),Ur.renderCallByParent(this.props,y))}}])}(le.Component);W_(X_,"displayName","ReferenceArea");W_(X_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});W_(X_,"renderRect",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):jt(t)?n=t(e):n=le.createElement(AP,ZE({},e,{className:"recharts-reference-area-rect"})),n});function k4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ppe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hde(r,n)}function Cpe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function $0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Ope(t,e){return k4(t,e+1)}function Rpe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:k4(r,u)};var x=l,y,g=function(){return y===void 0&&(y=n(v,x)),y},_=v.coordinate,S=l===0||$0(t,_,g,c,s);S||(l=0,c=a,u+=1),S&&(c=_+t*(g()/2+i),l+=u)},p;u<=o.length;)if(p=f(),p)return p.v;return[]}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){Ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ipe(t,e,n){return e=Lpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lpe(t){var e=Npe(t,"string");return Hp(e)=="symbol"?e:e+""}function Npe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dpe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(p){var m=o[p],v,x=function(){return v===void 0&&(v=n(m,p)),v};if(p===a-1){var y=t*(m.coordinate+t*x()/2-l);o[p]=m=Dr(Dr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else o[p]=m=Dr(Dr({},m),{},{tickCoord:m.coordinate});var g=$0(t,m.tickCoord,x,s,l);g&&(l=m.tickCoord-t*(x()/2+i),o[p]=Dr(Dr({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function kpe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);a[s-1]=c=Dr(Dr({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=$0(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Dr(Dr({},c),{},{isShow:!0}))}for(var v=o?s-1:s,x=function(_){var S=a[_],M,w=function(){return M===void 0&&(M=n(S,_)),M};if(_===0){var A=t*(S.coordinate-t*w()/2-l);a[_]=S=Dr(Dr({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else a[_]=S=Dr(Dr({},S),{},{tickCoord:S.coordinate});var T=$0(t,S.tickCoord,w,l,u);T&&(l=S.tickCoord+t*(w()/2+i),a[_]=Dr(Dr({},S),{},{isShow:!0}))},y=0;y<v;y++)x(y);return a}function Upe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Qe(l)||xm.isSsr)return Ope(i,typeof l=="number"&&Qe(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",v=c&&m==="width"?Ld(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(S,M){var w=jt(u)?u(S.value,M):S.value;return m==="width"?Ppe(Ld(w,{fontSize:e,letterSpacing:n}),v,f):Ld(w,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Oo(i[1].coordinate-i[0].coordinate):1,g=Cpe(o,y,m);return l==="equidistantPreserveStart"?Rpe(y,g,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=kpe(y,g,x,i,a,l==="preserveStartEnd"):p=Dpe(y,g,x,i,a),p.filter(function(_){return _.isShow}))}var Fpe=["viewBox"],Bpe=["viewBox"],zpe=["ticks"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){OP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e){if(t==null)return{};var n=Vpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function Hpe(t,e,n){return e&&GL(t.prototype,e),n&&GL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $pe(t,e,n){return e=G0(e),Gpe(t,U4()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function Gpe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wpe(t)}function Wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function OP(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=Ype(t,"string");return Cf(e)=="symbol"?e:e+""}function Ype(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y_=function(t){function e(n){var r;return jpe(this,e),r=$pe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Xpe(e,t),Hpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=V1(r,Fpe),s=this.props,l=s.viewBox,u=V1(s,Bpe);return!Qc(o,l)||!Qc(a,u)||!Qc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,m,v,x,y,g,_,S=f?-1:1,M=r.tickSize||c,w=Qe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,y=a+ +!f*l,x=y-S*M,_=x-S*p,g=w;break;case"left":x=y=r.coordinate,v=o+ +!f*s,m=v-S*M,g=m-S*p,_=w;break;case"right":x=y=r.coordinate,v=o+ +f*s,m=v+S*M,g=m+S*p,_=w;break;default:m=v=r.coordinate,y=a+ +f*l,x=y+S*M,_=x+S*p,g=w;break}return{line:{x1:m,y1:x,x2:v,y2:y},tick:{x:g,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Qn(Qn(Qn({},rn(this.props,!1)),rn(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=Qn(Qn({},f),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Qn(Qn({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return le.createElement("line",Vc({},f,{className:Jt("recharts-cartesian-axis-line",ro(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,m=Upe(Qn(Qn({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=rn(this.props,!1),g=rn(c,!1),_=Qn(Qn({},y),{},{fill:"none"},rn(l,!1)),S=m.map(function(M,w){var A=a.getTickLineCoord(M),T=A.line,R=A.tick,P=Qn(Qn(Qn(Qn({textAnchor:v,verticalAnchor:x},y),{},{stroke:"none",fill:u},g),R),{},{index:w,payload:M,visibleTicksCount:m.length,tickFormatter:f});return le.createElement(pr,Vc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Zy(a.props,M,w)),l&&le.createElement("line",Vc({},_,T,{className:Jt("recharts-cartesian-axis-tick-line",ro(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(jt(f)?f(M.value,w):M.value).concat(p||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,m=V1(f,zpe),v=p;return jt(l)&&(v=p&&p.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:le.createElement(pr,{className:Jt("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Jt(i.className,"recharts-cartesian-axis-tick-value");return le.isValidElement(r)?a=le.cloneElement(r,Qn(Qn({},i),{},{className:s})):jt(r)?a=r(Qn(Qn({},i),{},{className:s})):a=le.createElement(f0,Vc({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(j.Component);OP(Y_,"displayName","CartesianAxis");OP(Y_,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function Zpe(t,e,n){return e&&Kpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jpe(t,e,n){return e=W0(e),Qpe(t,B4()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function Qpe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(t)}function eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eA(t,e)}function z4(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=nme(t,"string");return Of(e)=="symbol"?e:e+""}function nme(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tA.apply(this,arguments)}function rme(t){var e=t.xAxisId,n=P4(),r=C4(),i=A4(e);return i==null?null:j.createElement(Y_,tA({},i,{className:Jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Kl(a,!0)}}))}var Mm=function(t){function e(){return qpe(this,e),Jpe(this,e,arguments)}return tme(e,t),Zpe(e,[{key:"render",value:function(){return j.createElement(rme,this.props)}}])}(j.Component);z4(Mm,"displayName","XAxis");z4(Mm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ome(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$4(r.key),r)}}function ame(t,e,n){return e&&ome(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=X0(e),lme(t,j4()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function lme(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nA(t,e)}function H4(t,e,n){return e=$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4(t){var e=fme(t,"string");return Rf(e)=="symbol"?e:e+""}function fme(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(this,arguments)}var hme=function(e){var n=e.yAxisId,r=P4(),i=C4(),o=T4(n);return o==null?null:j.createElement(Y_,rA({},o,{className:Jt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Kl(s,!0)}}))},Em=function(t){function e(){return ime(this,e),sme(this,e,arguments)}return cme(e,t),ame(e,[{key:"render",value:function(){return j.createElement(hme,this.props)}}])}(j.Component);H4(Em,"displayName","YAxis");H4(Em,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WL(t){return gme(t)||mme(t)||pme(t)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function mme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gme(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oA=function(e,n,r,i,o){var a=No(e,CP),s=No(e,G_),l=[].concat(WL(a),WL(s)),u=No(e,X_),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(x,y){if(y.props[c]===r&&aa(y.props,"extendDomain")&&Qe(y.props[f])){var g=y.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},p)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(x,y){if(y.props[c]===r&&aa(y.props,"extendDomain")&&Qe(y.props[m])&&Qe(y.props[v])){var g=y.props[m],_=y.props[v];return[Math.min(x[0],g,_),Math.max(x[1],g,_)]}return x},p)}return o&&o.length&&(p=o.reduce(function(x,y){return Qe(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},p)),p},G4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,m,v){var x=n?n+u:u;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,_,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,p),!0;case 5:return y.fn.call(y.context,c,f,p,m),!0;case 6:return y.fn.call(y.context,c,f,p,m,v),!0}for(S=1,_=new Array(g-1);S<g;S++)_[S-1]=arguments[S];y.fn.apply(y.context,_)}else{var M=y.length,w;for(S=0;S<M;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),g){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,f);break;case 4:y[S].fn.call(y[S].context,c,f,p);break;default:if(!_)for(w=1,_=new Array(g-1);w<g;w++)_[w-1]=arguments[w];y[S].fn.apply(y[S].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!p||v.once)&&(!f||v.context===f)&&a(this,m);else{for(var x=0,y=[],g=v.length;x<g;x++)(v[x].fn!==c||p&&!v[x].once||f&&v[x].context!==f)&&y.push(v[x]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(G4);var vme=G4.exports;const yme=dn(vme);var j1=new yme,H1="recharts.syncMouseEvents";function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W4(r.key),r)}}function Sme(t,e,n){return e&&_me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $1(t,e,n){return e=W4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t){var e=bme(t,"string");return $p(e)=="symbol"?e:e+""}function bme(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wme=function(){function t(){xme(this,t),$1(this,"activeIndex",0),$1(this,"coordinateList",[]),$1(this,"layout","horizontal")}return Sme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,p=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Mme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Qe(r)&&Qe(i))return!0}return!1}function Eme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function X4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=_r(e,n,r,i),s=_r(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Ame(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=_r(s,l,u,f),m=_r(s,l,c,f);r=p.x,i=p.y,o=m.x,a=m.y}else return X4(e);return[{x:r,y:i},{x:o,y:a}]}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return e=Pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Cme(t,"string");return Gp(e)=="symbol"?e:e+""}function Cme(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ome(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var v,x=q3;if(p==="ScatterChart")v=a,x=_fe;else if(p==="BarChart")v=Eme(f,a,l,c),x=AP;else if(f==="radial"){var y=X4(a),g=y.cx,_=y.cy,S=y.radius,M=y.startAngle,w=y.endAngle;v={cx:g,cy:_,startAngle:M,endAngle:w,innerRadius:S,outerRadius:S},x=Jz}else v={points:Ame(f,a,l)},x=q3;var A=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},l),v),rn(m,!1)),{},{payload:s,payloadIndex:u,className:Jt("recharts-tooltip-cursor",m.className)});return j.isValidElement(m)?j.cloneElement(m,A):j.createElement(x,A)}var Rme=["item"],Ime=["children","className","width","height","style","compact","title","desc"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function YL(t,e){return Dme(t)||Nme(t,e)||q4(t,e)||Lme()}function Lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dme(t){if(Array.isArray(t))return t}function qL(t,e){if(t==null)return{};var n=kme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K4(r.key),r)}}function Bme(t,e,n){return e&&Fme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zme(t,e,n){return e=Y0(e),Vme(t,Y4()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function Vme(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jme(t)}function jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function Hme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function Lf(t){return Wme(t)||Gme(t)||q4(t)||$me()}function $me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function Gme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wme(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wt(t,e,n){return e=K4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K4(t){var e=Xme(t,"string");return If(e)=="symbol"?e:e+""}function Xme(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yme={xAxis:["bottom","top"],yAxis:["left","right"]},qme={width:"100%",height:"100%"},Z4={x:0,y:0};function cv(t){return t}var Kme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Zme=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return be(be(be({},i),_r(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return be(be(be({},i),_r(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Z4},q_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Lf(s),Lf(u)):s},[]);return a.length>0?a:e&&e.length&&Qe(i)&&Qe(o)?e.slice(i,o+1):[]};function J4(t){return t==="number"?[0,"auto"]:void 0}var lA=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=q_(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;p=zM(m,a.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(Lf(l),[qz(u,p)]):l},[])},ZL=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Kme(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Jse(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=lA(e,n,c,f),m=Zme(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},Jme=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,m=Xz(c,o);return r.reduce(function(v,x){var y,g=x.type.defaultProps!==void 0?be(be({},x.type.defaultProps),x.props):x.props,_=g.type,S=g.dataKey,M=g.allowDataOverflow,w=g.allowDuplicatedCategory,A=g.scale,T=g.ticks,R=g.includeHidden,P=g[a];if(v[P])return v;var O=q_(e.data,{graphicalItems:i.filter(function(ne){var de,Fe=a in ne.props?ne.props[a]:(de=ne.type.defaultProps)===null||de===void 0?void 0:de[a];return Fe===P}),dataStartIndex:l,dataEndIndex:u}),L=O.length,k,F,X;Mme(g.domain,M,_)&&(k=TE(g.domain,null,M),m&&(_==="number"||A!=="auto")&&(X=Dd(O,S,"category")));var G=J4(_);if(!k||k.length===0){var q,W=(q=g.domain)!==null&&q!==void 0?q:G;if(S){if(k=Dd(O,S,_),_==="category"&&m){var D=B7(k);w&&D?(F=k,k=k0(0,L)):w||(k=k3(W,k,x).reduce(function(ne,de){return ne.indexOf(de)>=0?ne:[].concat(Lf(ne),[de])},[]))}else if(_==="category")w?k=k.filter(function(ne){return ne!==""&&!Qt(ne)}):k=k3(W,k,x).reduce(function(ne,de){return ne.indexOf(de)>=0||de===""||Qt(de)?ne:[].concat(Lf(ne),[de])},[]);else if(_==="number"){var V=rle(O,i.filter(function(ne){var de,Fe,et=a in ne.props?ne.props[a]:(de=ne.type.defaultProps)===null||de===void 0?void 0:de[a],se="hide"in ne.props?ne.props.hide:(Fe=ne.type.defaultProps)===null||Fe===void 0?void 0:Fe.hide;return et===P&&(R||!se)}),S,o,c);V&&(k=V)}m&&(_==="number"||A!=="auto")&&(X=Dd(O,S,"category"))}else m?k=k0(0,L):s&&s[P]&&s[P].hasStack&&_==="number"?k=p==="expand"?[0,1]:Yz(s[P].stackGroups,l,u):k=Wz(O,i.filter(function(ne){var de=a in ne.props?ne.props[a]:ne.type.defaultProps[a],Fe="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return de===P&&(R||!Fe)}),_,c,!0);if(_==="number")k=oA(f,k,P,o,T),W&&(k=TE(W,k,M));else if(_==="category"&&W){var z=W,Q=k.every(function(ne){return z.indexOf(ne)>=0});Q&&(k=z)}}return be(be({},v),{},wt({},P,be(be({},g),{},{axisType:o,domain:k,categoricalDomain:X,duplicateDomain:F,originalDomain:(y=g.domain)!==null&&y!==void 0?y:G,isCategorical:m,layout:c})))},{})},Qme=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=q_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,v=Xz(c,o),x=-1;return r.reduce(function(y,g){var _=g.type.defaultProps!==void 0?be(be({},g.type.defaultProps),g.props):g.props,S=_[a],M=J4("number");if(!y[S]){x++;var w;return v?w=k0(0,m):s&&s[S]&&s[S].hasStack?(w=Yz(s[S].stackGroups,l,u),w=oA(f,w,S,o)):(w=TE(M,Wz(p,r.filter(function(A){var T,R,P=a in A.props?A.props[a]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[a],O="hide"in A.props?A.props.hide:(R=A.type.defaultProps)===null||R===void 0?void 0:R.hide;return P===S&&!O}),"number",c),i.defaultProps.allowDataOverflow),w=oA(f,w,S,o)),be(be({},y),{},wt({},S,be(be({axisType:o},i.defaultProps),{},{hide:!0,orientation:ro(Yme,"".concat(o,".").concat(x%2),null),domain:w,originalDomain:M,isCategorical:v,layout:c})))}return y},{})},ege=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=No(c,o),m={};return p&&p.length?m=Jme(e,{axes:p,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=Qme(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},tge=function(e){var n=Ec(e),r=Kl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:JT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:A0(n,r)}},JL=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ci(n,Mf),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},nge=function(e){return!e||!e.length?!1:e.some(function(n){var r=Va(n&&n.type);return r&&r.indexOf("Bar")>=0})},QL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},m=Ci(f,Mf),v=Ci(f,ef),x=Object.keys(l).reduce(function(w,A){var T=l[A],R=T.orientation;return!T.mirror&&!T.hide?be(be({},w),{},wt({},R,w[R]+T.width)):w},{left:p.left||0,right:p.right||0}),y=Object.keys(a).reduce(function(w,A){var T=a[A],R=T.orientation;return!T.mirror&&!T.hide?be(be({},w),{},wt({},R,ro(w,"".concat(R))+T.height)):w},{top:p.top||0,bottom:p.bottom||0}),g=be(be({},y),x),_=g.bottom;m&&(g.bottom+=m.props.height||Mf.defaultProps.height),v&&n&&(g=tle(g,i,r,n));var S=u-g.left-g.right,M=c-g.top-g.bottom;return be(be({brushBottom:_},g),{},{width:Math.max(S,0),height:Math.max(M,0)})},ige=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},oge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(g,_){var S=_.graphicalItems,M=_.stackGroups,w=_.offset,A=_.updateId,T=_.dataStartIndex,R=_.dataEndIndex,P=g.barSize,O=g.layout,L=g.barGap,k=g.barCategoryGap,F=g.maxBarSize,X=QL(O),G=X.numericAxisName,q=X.cateAxisName,W=nge(S),D=[];return S.forEach(function(V,z){var Q=q_(g.data,{graphicalItems:[V],dataStartIndex:T,dataEndIndex:R}),ne=V.type.defaultProps!==void 0?be(be({},V.type.defaultProps),V.props):V.props,de=ne.dataKey,Fe=ne.maxBarSize,et=ne["".concat(G,"Id")],se=ne["".concat(q,"Id")],xe={},je=l.reduce(function(pt,Re){var B=_["".concat(Re.axisType,"Map")],N=ne["".concat(Re.axisType,"Id")];B&&B[N]||Re.axisType==="zAxis"||xu();var ee=B[N];return be(be({},pt),{},wt(wt({},Re.axisType,ee),"".concat(Re.axisType,"Ticks"),Kl(ee)))},xe),_e=je[q],Ee=je["".concat(q,"Ticks")],Be=M&&M[et]&&M[et].hasStack&&mle(V,M[et].stackGroups),ve=Va(V.type).indexOf("Bar")>=0,$e=A0(_e,Ee),ce=[],Me=W&&Qse({barSize:P,stackGroups:M,totalSize:ige(je,q)});if(ve){var Se,Le,$=Qt(Fe)?F:Fe,ct=(Se=(Le=A0(_e,Ee,!0))!==null&&Le!==void 0?Le:$)!==null&&Se!==void 0?Se:0;ce=ele({barGap:L,barCategoryGap:k,bandSize:ct!==$e?ct:$e,sizeList:Me[se],maxBarSize:$}),ct!==$e&&(ce=ce.map(function(pt){return be(be({},pt),{},{position:be(be({},pt.position),{},{offset:pt.position.offset-ct/2})})}))}var Ge=V&&V.type&&V.type.getComposedData;Ge&&D.push({props:be(be({},Ge(be(be({},je),{},{displayedData:Q,props:g,dataKey:de,item:V,bandSize:$e,barPosition:ce,offset:w,stackedData:Be,layout:O,dataStartIndex:T,dataEndIndex:R}))),{},wt(wt(wt({key:V.key||"item-".concat(z)},G,je[G]),q,je[q]),"animationId",A)),childIndex:Z7(V,g.children),item:V})}),D},m=function(g,_){var S=g.props,M=g.dataStartIndex,w=g.dataEndIndex,A=g.updateId;if(!OR({props:S}))return null;var T=S.children,R=S.layout,P=S.stackOffset,O=S.data,L=S.reverseStackOrder,k=QL(R),F=k.numericAxisName,X=k.cateAxisName,G=No(T,r),q=hle(O,G,"".concat(F,"Id"),"".concat(X,"Id"),P,L),W=l.reduce(function(ne,de){var Fe="".concat(de.axisType,"Map");return be(be({},ne),{},wt({},Fe,ege(S,be(be({},de),{},{graphicalItems:G,stackGroups:de.axisType===F&&q,dataStartIndex:M,dataEndIndex:w}))))},{}),D=rge(be(be({},W),{},{props:S,graphicalItems:G}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(ne){W[ne]=c(S,W[ne],D,ne.replace("Map",""),n)});var V=W["".concat(X,"Map")],z=tge(V),Q=p(S,be(be({},W),{},{dataStartIndex:M,dataEndIndex:w,updateId:A,graphicalItems:G,stackGroups:q,offset:D}));return be(be({formattedGraphicalItems:Q,graphicalItems:G,offset:D,stackGroups:q},z),W)},v=function(y){function g(_){var S,M,w;return Ume(this,g),w=zme(this,g,[_]),wt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(w,"accessibilityManager",new wme),wt(w,"handleLegendBBoxUpdate",function(A){if(A){var T=w.state,R=T.dataStartIndex,P=T.dataEndIndex,O=T.updateId;w.setState(be({legendBBox:A},m({props:w.props,dataStartIndex:R,dataEndIndex:P,updateId:O},be(be({},w.state),{},{legendBBox:A}))))}}),wt(w,"handleReceiveSyncEvent",function(A,T,R){if(w.props.syncId===A){if(R===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(T)}}),wt(w,"handleBrushChange",function(A){var T=A.startIndex,R=A.endIndex;if(T!==w.state.dataStartIndex||R!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return be({dataStartIndex:T,dataEndIndex:R},m({props:w.props,dataStartIndex:T,dataEndIndex:R,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:T,dataEndIndex:R})}}),wt(w,"handleMouseEnter",function(A){var T=w.getMouseInfo(A);if(T){var R=be(be({},T),{},{isTooltipActive:!0});w.setState(R),w.triggerSyncEvent(R);var P=w.props.onMouseEnter;jt(P)&&P(R,A)}}),wt(w,"triggeredAfterMouseMove",function(A){var T=w.getMouseInfo(A),R=T?be(be({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(R),w.triggerSyncEvent(R);var P=w.props.onMouseMove;jt(P)&&P(R,A)}),wt(w,"handleItemMouseEnter",function(A){w.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),wt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),wt(w,"handleMouseMove",function(A){A.persist(),w.throttleTriggeredAfterMouseMove(A)}),wt(w,"handleMouseLeave",function(A){w.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var R=w.props.onMouseLeave;jt(R)&&R(T,A)}),wt(w,"handleOuterEvent",function(A){var T=K7(A),R=ro(w.props,"".concat(T));if(T&&jt(R)){var P,O;/.*touch.*/i.test(T)?O=w.getMouseInfo(A.changedTouches[0]):O=w.getMouseInfo(A),R((P=O)!==null&&P!==void 0?P:{},A)}}),wt(w,"handleClick",function(A){var T=w.getMouseInfo(A);if(T){var R=be(be({},T),{},{isTooltipActive:!0});w.setState(R),w.triggerSyncEvent(R);var P=w.props.onClick;jt(P)&&P(R,A)}}),wt(w,"handleMouseDown",function(A){var T=w.props.onMouseDown;if(jt(T)){var R=w.getMouseInfo(A);T(R,A)}}),wt(w,"handleMouseUp",function(A){var T=w.props.onMouseUp;if(jt(T)){var R=w.getMouseInfo(A);T(R,A)}}),wt(w,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),wt(w,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseDown(A.changedTouches[0])}),wt(w,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&w.handleMouseUp(A.changedTouches[0])}),wt(w,"handleDoubleClick",function(A){var T=w.props.onDoubleClick;if(jt(T)){var R=w.getMouseInfo(A);T(R,A)}}),wt(w,"handleContextMenu",function(A){var T=w.props.onContextMenu;if(jt(T)){var R=w.getMouseInfo(A);T(R,A)}}),wt(w,"triggerSyncEvent",function(A){w.props.syncId!==void 0&&j1.emit(H1,w.props.syncId,A,w.eventEmitterSymbol)}),wt(w,"applySyncEvent",function(A){var T=w.props,R=T.layout,P=T.syncMethod,O=w.state.updateId,L=A.dataStartIndex,k=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)w.setState(be({dataStartIndex:L,dataEndIndex:k},m({props:w.props,dataStartIndex:L,dataEndIndex:k,updateId:O},w.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,X=A.chartY,G=A.activeTooltipIndex,q=w.state,W=q.offset,D=q.tooltipTicks;if(!W)return;if(typeof P=="function")G=P(D,A);else if(P==="value"){G=-1;for(var V=0;V<D.length;V++)if(D[V].value===A.activeLabel){G=V;break}}var z=be(be({},W),{},{x:W.left,y:W.top}),Q=Math.min(F,z.x+z.width),ne=Math.min(X,z.y+z.height),de=D[G]&&D[G].value,Fe=lA(w.state,w.props.data,G),et=D[G]?{x:R==="horizontal"?D[G].coordinate:Q,y:R==="horizontal"?ne:D[G].coordinate}:Z4;w.setState(be(be({},A),{},{activeLabel:de,activeCoordinate:et,activePayload:Fe,activeTooltipIndex:G}))}else w.setState(A)}),wt(w,"renderCursor",function(A){var T,R=w.state,P=R.isTooltipActive,O=R.activeCoordinate,L=R.activePayload,k=R.offset,F=R.activeTooltipIndex,X=R.tooltipAxisBandSize,G=w.getTooltipEventType(),q=(T=A.props.active)!==null&&T!==void 0?T:P,W=w.props.layout,D=A.key||"_recharts-cursor";return le.createElement(Ome,{key:D,activeCoordinate:O,activePayload:L,activeTooltipIndex:F,chartName:n,element:A,isActive:q,layout:W,offset:k,tooltipAxisBandSize:X,tooltipEventType:G})}),wt(w,"renderPolarAxis",function(A,T,R){var P=ro(A,"type.axisType"),O=ro(w.state,"".concat(P,"Map")),L=A.type.defaultProps,k=L!==void 0?be(be({},L),A.props):A.props,F=O&&O[k["".concat(P,"Id")]];return j.cloneElement(A,be(be({},F),{},{className:Jt(P,F.className),key:A.key||"".concat(T,"-").concat(R),ticks:Kl(F,!0)}))}),wt(w,"renderPolarGrid",function(A){var T=A.props,R=T.radialLines,P=T.polarAngles,O=T.polarRadius,L=w.state,k=L.radiusAxisMap,F=L.angleAxisMap,X=Ec(k),G=Ec(F),q=G.cx,W=G.cy,D=G.innerRadius,V=G.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(P)?P:Kl(G,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(O)?O:Kl(X,!0).map(function(z){return z.coordinate}),cx:q,cy:W,innerRadius:D,outerRadius:V,key:A.key||"polar-grid",radialLines:R})}),wt(w,"renderLegend",function(){var A=w.state.formattedGraphicalItems,T=w.props,R=T.children,P=T.width,O=T.height,L=w.props.margin||{},k=P-(L.left||0)-(L.right||0),F=$z({children:R,formattedGraphicalItems:A,legendWidth:k,legendContent:u});if(!F)return null;var X=F.item,G=qL(F,Rme);return j.cloneElement(X,be(be({},G),{},{chartWidth:P,chartHeight:O,margin:L,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),wt(w,"renderTooltip",function(){var A,T=w.props,R=T.children,P=T.accessibilityLayer,O=Ci(R,Eo);if(!O)return null;var L=w.state,k=L.isTooltipActive,F=L.activeCoordinate,X=L.activePayload,G=L.activeLabel,q=L.offset,W=(A=O.props.active)!==null&&A!==void 0?A:k;return j.cloneElement(O,{viewBox:be(be({},q),{},{x:q.left,y:q.top}),active:W,label:G,payload:W?X:[],coordinate:F,accessibilityLayer:P})}),wt(w,"renderBrush",function(A){var T=w.props,R=T.margin,P=T.data,O=w.state,L=O.offset,k=O.dataStartIndex,F=O.dataEndIndex,X=O.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ov(w.handleBrushChange,A.props.onChange),data:P,x:Qe(A.props.x)?A.props.x:L.left,y:Qe(A.props.y)?A.props.y:L.top+L.height+L.brushBottom-(R.bottom||0),width:Qe(A.props.width)?A.props.width:L.width,startIndex:k,endIndex:F,updateId:"brush-".concat(X)})}),wt(w,"renderReferenceElement",function(A,T,R){if(!A)return null;var P=w,O=P.clipPathId,L=w.state,k=L.xAxisMap,F=L.yAxisMap,X=L.offset,G=A.type.defaultProps||{},q=A.props,W=q.xAxisId,D=W===void 0?G.xAxisId:W,V=q.yAxisId,z=V===void 0?G.yAxisId:V;return j.cloneElement(A,{key:A.key||"".concat(T,"-").concat(R),xAxis:k[D],yAxis:F[z],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:O})}),wt(w,"renderActivePoints",function(A){var T=A.item,R=A.activePoint,P=A.basePoint,O=A.childIndex,L=A.isRange,k=[],F=T.props.key,X=T.item.type.defaultProps!==void 0?be(be({},T.item.type.defaultProps),T.item.props):T.item.props,G=X.activeDot,q=X.dataKey,W=be(be({index:O,dataKey:q,cx:R.x,cy:R.y,r:4,fill:EP(T.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},rn(G,!1)),Ky(G));return k.push(g.renderActiveDot(G,W,"".concat(F,"-activePoint-").concat(O))),P?k.push(g.renderActiveDot(G,be(be({},W),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(O))):L&&k.push(null),k}),wt(w,"renderGraphicChild",function(A,T,R){var P=w.filterFormatItem(A,T,R);if(!P)return null;var O=w.getTooltipEventType(),L=w.state,k=L.isTooltipActive,F=L.tooltipAxis,X=L.activeTooltipIndex,G=L.activeLabel,q=w.props.children,W=Ci(q,Eo),D=P.props,V=D.points,z=D.isRange,Q=D.baseLine,ne=P.item.type.defaultProps!==void 0?be(be({},P.item.type.defaultProps),P.item.props):P.item.props,de=ne.activeDot,Fe=ne.hide,et=ne.activeBar,se=ne.activeShape,xe=!!(!Fe&&k&&W&&(de||et||se)),je={};O!=="axis"&&W&&W.props.trigger==="click"?je={onClick:ov(w.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(je={onMouseLeave:ov(w.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ov(w.handleItemMouseEnter,A.props.onMouseEnter)});var _e=j.cloneElement(A,be(be({},P.props),je));function Ee(Re){return typeof F.dataKey=="function"?F.dataKey(Re.payload):null}if(xe)if(X>=0){var Be,ve;if(F.dataKey&&!F.allowDuplicatedCategory){var $e=typeof F.dataKey=="function"?Ee:"payload.".concat(F.dataKey.toString());Be=zM(V,$e,G),ve=z&&Q&&zM(Q,$e,G)}else Be=V==null?void 0:V[X],ve=z&&Q&&Q[X];if(se||et){var ce=A.props.activeIndex!==void 0?A.props.activeIndex:X;return[j.cloneElement(A,be(be(be({},P.props),je),{},{activeIndex:ce})),null,null]}if(!Qt(Be))return[_e].concat(Lf(w.renderActivePoints({item:P,activePoint:Be,basePoint:ve,childIndex:X,isRange:z})))}else{var Me,Se=(Me=w.getItemByXY(w.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:_e},Le=Se.graphicalItem,$=Le.item,ct=$===void 0?A:$,Ge=Le.childIndex,pt=be(be(be({},P.props),je),{},{activeIndex:Ge});return[j.cloneElement(ct,pt),null,null]}return z?[_e,null,null]:[_e,null]}),wt(w,"renderCustomized",function(A,T,R){return j.cloneElement(A,be(be({key:"recharts-customized-".concat(R)},w.props),w.state))}),wt(w,"renderMap",{CartesianGrid:{handler:cv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:cv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:cv},YAxis:{handler:cv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:S_("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=$B(w.triggeredAfterMouseMove,(M=_.throttleDelay)!==null&&M!==void 0?M:1e3/60),w.state={},w}return Hme(g,y),Bme(g,[{key:"componentDidMount",value:function(){var S,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,M=S.children,w=S.data,A=S.height,T=S.layout,R=Ci(M,Eo);if(R){var P=R.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,L=lA(this.state,w,P,O),k=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+A)/2,X=T==="horizontal",G=X?{x:k,y:F}:{y:k,x:F},q=this.state.formattedGraphicalItems.find(function(D){var V=D.item;return V.type.name==="Scatter"});q&&(G=be(be({},G),q.props.points[P].tooltipPosition),L=q.props.points[P].tooltipPayload);var W={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:L,activeCoordinate:G};this.setState(W),this.renderCursor(R),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var w,A;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){jM([Ci(S.children,Eo)],[Ci(this.props.children,Eo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ci(this.props.children,Eo);if(S&&typeof S.props.shared=="boolean"){var M=S.props.shared?"axis":"item";return s.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var M=this.container,w=M.getBoundingClientRect(),A=Mre(w),T={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},R=w.width/M.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,R);if(!P)return null;var O=this.state,L=O.xAxisMap,k=O.yAxisMap,F=this.getTooltipEventType(),X=ZL(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&L&&k){var G=Ec(L).scale,q=Ec(k).scale,W=G&&G.invert?G.invert(T.chartX):null,D=q&&q.invert?q.invert(T.chartY):null;return be(be({},T),{},{xValue:W,yValue:D},X)}return X?be(be({},T),X):null}},{key:"inRange",value:function(S,M){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=S/w,R=M/w;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=T>=P.left&&T<=P.left+P.width&&R>=P.top&&R<=P.top+P.height;return O?{x:T,y:R}:null}var L=this.state,k=L.angleAxisMap,F=L.radiusAxisMap;if(k&&F){var X=Ec(k);return B3({x:T,y:R},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,M=this.getTooltipEventType(),w=Ci(S,Eo),A={};w&&M==="axis"&&(w.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ky(this.props,this.handleOuterEvent);return be(be({},T),A)}},{key:"addListener",value:function(){j1.on(H1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j1.removeListener(H1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,M,w){for(var A=this.state.formattedGraphicalItems,T=0,R=A.length;T<R;T++){var P=A[T];if(P.item===S||P.props.key===S.key||M===Va(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,M=this.state.offset,w=M.left,A=M.top,T=M.height,R=M.width;return le.createElement("defs",null,le.createElement("clipPath",{id:S},le.createElement("rect",{x:w,y:A,height:T,width:R})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(M,w){var A=YL(w,2),T=A[0],R=A[1];return be(be({},M),{},wt({},T,R.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(M,w){var A=YL(w,2),T=A[0],R=A[1];return be(be({},M),{},wt({},T,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[S])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(S){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[S])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(S){var M=this.state,w=M.formattedGraphicalItems,A=M.activeItem;if(w&&w.length)for(var T=0,R=w.length;T<R;T++){var P=w[T],O=P.props,L=P.item,k=L.type.defaultProps!==void 0?be(be({},L.type.defaultProps),L.props):L.props,F=Va(L.type);if(F==="Bar"){var X=(O.data||[]).find(function(D){return cfe(S,D)});if(X)return{graphicalItem:P,payload:X}}else if(F==="RadialBar"){var G=(O.data||[]).find(function(D){return B3(S,D)});if(G)return{graphicalItem:P,payload:G}}else if(V_(P,A)||j_(P,A)||Bp(P,A)){var q=dhe({graphicalItem:P,activeTooltipItem:A,itemData:k.data}),W=k.activeIndex===void 0?q:k.activeIndex;return{graphicalItem:be(be({},P),{},{childIndex:W}),payload:Bp(P,A)?k.data[q]:P.props.data[q]}}}return null}},{key:"render",value:function(){var S=this;if(!OR(this))return null;var M=this.props,w=M.children,A=M.className,T=M.width,R=M.height,P=M.style,O=M.compact,L=M.title,k=M.desc,F=qL(M,Ime),X=rn(F,!1);if(O)return le.createElement(DL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement($M,jc({},X,{width:T,height:R,title:L,desc:k}),this.renderClipPath(),IR(w,this.renderMap)));if(this.props.accessibilityLayer){var G,q;X.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,X.role=(q=this.props.role)!==null&&q!==void 0?q:"application",X.onKeyDown=function(D){S.accessibilityManager.keyboardEvent(D)},X.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return le.createElement(DL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",jc({className:Jt("recharts-wrapper",A),style:be({position:"relative",cursor:"default",width:T,height:R},P)},W,{ref:function(V){S.container=V}}),le.createElement($M,jc({},X,{width:T,height:R,title:L,desc:k,style:qme}),this.renderClipPath(),IR(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);wt(v,"displayName",n),wt(v,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),wt(v,"getDerivedStateFromProps",function(y,g){var _=y.dataKey,S=y.data,M=y.children,w=y.width,A=y.height,T=y.layout,R=y.stackOffset,P=y.margin,O=g.dataStartIndex,L=g.dataEndIndex;if(g.updateId===void 0){var k=JL(y);return be(be(be({},k),{},{updateId:0},m(be(be({props:y},k),{},{updateId:0}),g)),{},{prevDataKey:_,prevData:S,prevWidth:w,prevHeight:A,prevLayout:T,prevStackOffset:R,prevMargin:P,prevChildren:M})}if(_!==g.prevDataKey||S!==g.prevData||w!==g.prevWidth||A!==g.prevHeight||T!==g.prevLayout||R!==g.prevStackOffset||!Qc(P,g.prevMargin)){var F=JL(y),X={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},G=be(be({},ZL(g,S,T)),{},{updateId:g.updateId+1}),q=be(be(be({},F),X),G);return be(be(be({},q),m(be({props:y},q),g)),{},{prevDataKey:_,prevData:S,prevWidth:w,prevHeight:A,prevLayout:T,prevStackOffset:R,prevMargin:P,prevChildren:M})}if(!jM(M,g.prevChildren)){var W,D,V,z,Q=Ci(M,Mf),ne=Q&&(W=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&W!==void 0?W:O,de=Q&&(V=(z=Q.props)===null||z===void 0?void 0:z.endIndex)!==null&&V!==void 0?V:L,Fe=ne!==O||de!==L,et=!Qt(S),se=et&&!Fe?g.updateId:g.updateId+1;return be(be({updateId:se},m(be(be({props:y},g),{},{updateId:se,dataStartIndex:ne,dataEndIndex:de}),g)),{},{prevChildren:M,dataStartIndex:ne,dataEndIndex:de})}return null}),wt(v,"renderActiveDot",function(y,g,_){var S;return j.isValidElement(y)?S=j.cloneElement(y,g):jt(y)?S=y(g):S=le.createElement(u4,g),le.createElement(pr,{className:"recharts-active-dot",key:_},S)});var x=j.forwardRef(function(g,_){return le.createElement(v,jc({},g,{ref:_}))});return x.displayName=v.displayName,x},Q4=oge({chartName:"BarChart",GraphicalChild:ol,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mm},{axisType:"yAxis",AxisComp:Em}],formatAxisMap:zde});const eN={population:"Population",territory:"Territory",power:"Power",influence:"Influence",cohesion:"Cohesion"};function Qh({factions:t,stat:e}){const n=t.map(r=>({name:r.shortName,value:r.stats[e],color:r.color}));return K.jsxs("div",{className:"stat-chart",children:[K.jsx("h3",{className:"chart-title",children:eN[e]}),K.jsx(GB,{width:"100%",height:260,children:K.jsxs(Q4,{data:n,layout:"vertical",margin:{top:0,right:16,left:0,bottom:0},children:[K.jsx(Mm,{type:"number",stroke:"var(--text-muted)",fontSize:11,tickLine:!1}),K.jsx(Em,{type:"category",dataKey:"name",stroke:"var(--text-muted)",fontSize:12,width:72,tickLine:!1}),K.jsx(Eo,{contentStyle:{background:"var(--bg-elevated)",border:"1px solid var(--border)",borderRadius:"var(--radius)"},labelStyle:{color:"var(--text)"},formatter:r=>[r.toLocaleString(),eN[e]]}),K.jsx(ol,{dataKey:"value",radius:[0,4,4,0],maxBarSize:28,children:n.map((r,i)=>K.jsx(C_,{fill:r.color},i))})]})}),K.jsx("style",{children:`
        .stat-chart { background: var(--bg-panel); border: 1px solid var(--border); border-radius: var(--radius); padding: 1rem; }
        .chart-title { margin: 0 0 0.5rem 0; font-size: 0.9rem; font-weight: 600; color: var(--text-muted); }
      `})]})}const age=[{value:"population",label:"Population"},{value:"territory",label:"Territory"},{value:"power",label:"Power"},{value:"influence",label:"Influence"},{value:"cohesion",label:"Cohesion"}],sge=[{value:"set",label:"Set to"},{value:"add",label:"Add"},{value:"subtract",label:"Subtract"}];function lge({factions:t,onUpdate:e,disabled:n}){var p;const[r,i]=j.useState(((p=t[0])==null?void 0:p.id)??""),[o,a]=j.useState("power"),[s,l]=j.useState("set"),[u,c]=j.useState(""),f=m=>{m.preventDefault();const v=Number(u);!r||Number.isNaN(v)||(e({factionId:r,stat:o,value:v,mode:s}),c(""))};return K.jsxs("form",{className:"update-form",onSubmit:f,children:[K.jsx("h3",{className:"form-title",children:"Update standing"}),K.jsxs("div",{className:"form-row",children:[K.jsxs("label",{children:["Faction",K.jsx("select",{value:r,onChange:m=>i(m.target.value),disabled:n,children:t.map(m=>K.jsx("option",{value:m.id,children:m.name},m.id))})]}),K.jsxs("label",{children:["Stat",K.jsx("select",{value:o,onChange:m=>a(m.target.value),disabled:n,children:age.map(m=>K.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),K.jsxs("div",{className:"form-row",children:[K.jsxs("label",{children:["Operation",K.jsx("select",{value:s??"set",onChange:m=>l(m.target.value||"set"),disabled:n,children:sge.map(m=>K.jsx("option",{value:m.value??"set",children:m.label},m.value))})]}),K.jsxs("label",{children:["Value",K.jsx("input",{type:"text",inputMode:"numeric",placeholder:"e.g. 100",value:u,onChange:m=>c(m.target.value),disabled:n})]})]}),K.jsx("button",{type:"submit",className:"submit-btn",disabled:n||!u.trim(),children:"Apply"}),K.jsx("style",{children:`
        .update-form { background: var(--bg-panel); border: 1px solid var(--border); border-radius: var(--radius); padding: 1.25rem; }
        .form-title { margin: 0 0 1rem 0; font-size: 0.9rem; font-weight: 600; color: var(--text-muted); }
        .form-row { display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 0.75rem; }
        .update-form label { display: flex; flex-direction: column; gap: 0.35rem; font-size: 0.8rem; color: var(--text-muted); }
        .update-form select, .update-form input { padding: 0.5rem 0.65rem; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-family: var(--font-mono); min-width: 120px; }
        .update-form input { min-width: 80px; }
        .submit-btn { margin-top: 0.5rem; padding: 0.5rem 1rem; background: var(--accent); color: var(--bg-deep); border: none; border-radius: 6px; font-weight: 600; cursor: pointer; font-family: var(--font-sans); }
        .submit-btn:hover:not(:disabled) { filter: brightness(1.1); }
        .submit-btn:disabled { opacity: 0.5; cursor: not-allowed; }
      `})]})}const tN={population:"population",power:"power",territory:"territory",influence:"influence",cohesion:"cohesion"};function uge(t,e){const n=t.trim().toLowerCase();if(!n)return null;const r=n.match(/set\s+(.+?)\s+(population|power|territory|influence|cohesion)\s+to\s+(\d+)/i);if(r){const[,o,a,s]=r,l=tN[a.toLowerCase()],u=o.trim(),c=e.find(f=>f.name.toLowerCase().includes(u)||f.shortName.toLowerCase()===u);return c?{factionId:c.id,stat:l,value:parseInt(s,10),mode:"set"}:{error:`Unknown faction: ${u}`}}const i=n.match(/(add|subtract)\s+(\d+)\s+(population|power|territory|influence|cohesion)\s+(?:to|from)\s+(.+)/i);if(i){const[,o,a,s,l]=i,u=tN[s.toLowerCase()],c=l.trim(),f=e.find(m=>m.name.toLowerCase().includes(c)||m.shortName.toLowerCase()===c);if(!f)return{error:`Unknown faction: ${c}`};const p=parseInt(a,10);return{factionId:f.id,stat:u,value:p,mode:o.toLowerCase()==="subtract"?"subtract":"add"}}return{error:'Use: "add N power to Faction" or "set Faction territory to N" (stats: population, power, territory, influence, cohesion)'}}function cge({factions:t,onUpdate:e,disabled:n}){const[r,i]=j.useState(""),[o,a]=j.useState(null),s=l=>{l.preventDefault(),a(null);const u=uge(r,t);if(!u){i("");return}if("error"in u){a({type:"err",text:u.error});return}e(u),a({type:"ok",text:"Updated."}),i("")};return K.jsxs("form",{className:"text-command-form",onSubmit:s,children:[K.jsxs("label",{className:"text-command-label",children:[K.jsx("span",{children:"Text command"}),K.jsx("input",{type:"text",placeholder:'e.g. "add 5 power to Earth" or "set Fire territory to 60"',value:r,onChange:l=>i(l.target.value),disabled:n})]}),K.jsx("button",{type:"submit",className:"text-command-btn",disabled:n||!r.trim(),children:"Run"}),o&&K.jsx("p",{className:`text-command-msg ${o.type}`,children:o.text}),K.jsx("style",{children:`
        .text-command-form { display: flex; flex-wrap: wrap; align-items: flex-end; gap: 0.75rem; }
        .text-command-label { display: flex; flex-direction: column; gap: 0.35rem; flex: 1; min-width: 200px; font-size: 0.8rem; color: var(--text-muted); }
        .text-command-label input { padding: 0.6rem 0.75rem; background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-family: var(--font-mono); }
        .text-command-btn { padding: 0.6rem 1rem; background: var(--accent-dim); color: white; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; white-space: nowrap; }
        .text-command-btn:hover:not(:disabled) { filter: brightness(1.1); }
        .text-command-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .text-command-msg { margin: 0; font-size: 0.85rem; width: 100%; }
        .text-command-msg.ok { color: var(--success); }
        .text-command-msg.err { color: var(--danger); }
      `})]})}function fge({factions:t}){const[e,n]=j.useState(!0);return K.jsxs("section",{className:"faction-summaries",children:[K.jsxs("button",{type:"button",className:"summaries-toggle",onClick:()=>n(r=>!r),"aria-expanded":e,children:[K.jsx("h2",{className:"summaries-title",children:"Five Factions of the Island"}),K.jsx("span",{className:"summaries-chevron","aria-hidden":!0,children:e?"":""})]}),e&&K.jsxs(K.Fragment,{children:[K.jsxs("p",{className:"summaries-intro",children:["The Island (Vantheon-verse) is governed by five factions in a rough equilibrium: no one thrives or fails outright. Rank is determined by ",K.jsx("strong",{children:"Faction Standing"})," (the weighted composite score below)."]}),K.jsx("div",{className:"summaries-grid",children:t.map(r=>K.jsxs("article",{className:"faction-card",style:{borderLeftColor:r.color},children:[K.jsx("h3",{className:"faction-card-name",children:r.name}),r.summary&&K.jsx("p",{className:"faction-card-summary",children:r.summary}),r.extended&&K.jsxs("dl",{className:"faction-card-metrics",children:[K.jsxs("div",{children:[K.jsx("dt",{children:"Income (0100)"}),K.jsx("dd",{children:r.extended.income})]}),K.jsxs("div",{children:[K.jsx("dt",{children:"Avg beauty (0100)"}),K.jsx("dd",{children:r.extended.avgBeauty})]}),K.jsxs("div",{children:[K.jsx("dt",{children:"Avg height"}),K.jsx("dd",{children:r.extended.avgHeight})]})]})]},r.id))})]}),K.jsx("style",{children:`
        .faction-summaries { margin-bottom: 2rem; }
        .summaries-toggle { display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 0; margin: 0 0 0.5rem 0; background: none; border: none; cursor: pointer; color: inherit; font: inherit; text-align: left; }
        .summaries-toggle:hover { color: var(--accent, #888); }
        .summaries-title { margin: 0; font-size: 1.1rem; font-weight: 600; color: var(--text); }
        .summaries-chevron { font-size: 0.75rem; color: var(--text-muted); }
        .summaries-intro { margin: 0 0 1rem 0; font-size: 0.9rem; color: var(--text-muted); line-height: 1.5; }
        .summaries-intro strong { color: var(--text); }
        .summaries-grid { display: grid; gap: 1rem; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }
        .faction-card { background: var(--bg-panel); border: 1px solid var(--border); border-left-width: 4px; border-radius: var(--radius); padding: 1rem 1.25rem; }
        .faction-card-name { margin: 0 0 0.5rem 0; font-size: 1rem; font-weight: 600; color: var(--text); }
        .faction-card-summary { margin: 0 0 0.75rem 0; font-size: 0.85rem; color: var(--text-muted); line-height: 1.5; }
        .faction-card-metrics { margin: 0; display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem 1rem; font-size: 0.8rem; }
        .faction-card-metrics dt { color: var(--text-muted); font-weight: 500; }
        .faction-card-metrics dd { margin: 0; font-family: var(--font-mono); color: var(--text); }
      `})]})}function hge({factions:t}){const e=t.map(n=>({name:n.shortName,value:BM(n.stats),color:n.color})).sort((n,r)=>r.value-n.value);return K.jsxs("section",{className:"faction-standing-section",children:[K.jsx("h2",{className:"standing-section-title",children:"Faction Standing"}),K.jsx("p",{className:"standing-section-desc",children:"Composite score (0100): Population 0.2, Territory 0.75, Power 0.75, Influence 1.5, Cohesion 1."}),K.jsx("div",{className:"standing-chart-wrap",children:K.jsx(GB,{width:"100%",height:280,children:K.jsxs(Q4,{data:e,layout:"vertical",margin:{top:0,right:16,left:0,bottom:0},children:[K.jsx(Mm,{type:"number",domain:[0,100],stroke:"var(--text-muted)",fontSize:11,tickLine:!1}),K.jsx(Em,{type:"category",dataKey:"name",stroke:"var(--text-muted)",fontSize:12,width:72,tickLine:!1}),K.jsx(Eo,{contentStyle:{background:"var(--bg-elevated)",border:"1px solid var(--border)",borderRadius:"var(--radius)"},labelStyle:{color:"var(--text)"},formatter:n=>[n.toFixed(1),"Faction Standing"]}),K.jsx(ol,{dataKey:"value",radius:[0,4,4,0],maxBarSize:32,children:e.map((n,r)=>K.jsx(C_,{fill:n.color},r))})]})})}),K.jsx("style",{children:`
        .faction-standing-section { margin-bottom: 2rem; }
        .standing-section-title { margin: 0 0 0.35rem 0; font-size: 1.1rem; font-weight: 600; color: var(--text); }
        .standing-section-desc { margin: 0 0 1rem 0; font-size: 0.85rem; color: var(--text-muted); line-height: 1.4; }
        .standing-chart-wrap { background: var(--bg-panel); border: 1px solid var(--border); border-radius: var(--radius); padding: 1rem; }
      `})]})}const dge={population:"Population",territory:"Territory",power:"Power",influence:"Influence",cohesion:"Cohesion"};function pge(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState(null),[a,s]=j.useState("power"),l=iG(),u=j.useCallback(async()=>{r(!0),o(null);try{const f=await nG(l);e(f)}catch(f){o(f instanceof Error?f.message:"Failed to load standings")}finally{r(!1)}},[]);j.useEffect(()=>{u()},[u]);const c=j.useCallback(async f=>{try{const p=await rG(f,t,l);e(p)}catch(p){o(p instanceof Error?p.message:"Update failed")}},[t]);return n&&t.length===0?K.jsxs("div",{className:"app-shell",children:[K.jsx("header",{className:"app-header",children:K.jsxs("div",{className:"app-header-row",children:[K.jsxs("div",{children:[K.jsx("h1",{children:"Vantheon Codex"}),K.jsx("p",{className:"tagline",children:"The Island  Faction Standings"})]}),K.jsx(cp,{to:"/island",className:"btn-island-3d",children:"View 3D Island"})]})}),K.jsx("main",{className:"app-main",children:K.jsx("p",{className:"loading",children:"Loading standings"})})]}):K.jsxs("div",{className:"app-shell",children:[K.jsx("header",{className:"app-header",children:K.jsxs("div",{className:"app-header-row",children:[K.jsxs("div",{children:[K.jsx("h1",{children:"Vantheon Codex"}),K.jsx("p",{className:"tagline",children:"The Island  Faction Standings"})]}),K.jsx(cp,{to:"/island",className:"btn-island-3d",children:"View 3D Island"})]})}),K.jsxs("main",{className:"app-main",children:[i&&K.jsxs("div",{className:"banner error",children:[i,K.jsx("button",{type:"button",onClick:()=>o(null),"aria-label":"Dismiss",children:""})]}),K.jsx(fge,{factions:t}),K.jsx(hge,{factions:t}),K.jsxs("section",{className:"controls",children:[K.jsx("div",{className:"control-block",children:K.jsx(cge,{factions:t,onUpdate:c,disabled:n})}),K.jsx("div",{className:"control-block form-block",children:K.jsx(lge,{factions:t,onUpdate:c,disabled:n})})]}),K.jsx("section",{className:"stat-tabs",children:["population","territory","power","influence","cohesion"].map(f=>K.jsx("button",{type:"button",className:`tab ${a===f?"active":""}`,onClick:()=>s(f),children:dge[f]},f))}),K.jsx("section",{className:"standings-section",children:K.jsx(aG,{factions:t,stat:a})}),K.jsxs("section",{className:"charts-section",children:[K.jsx(Qh,{factions:t,stat:"population"}),K.jsx(Qh,{factions:t,stat:"territory"}),K.jsx(Qh,{factions:t,stat:"power"}),K.jsx(Qh,{factions:t,stat:"influence"}),K.jsx(Qh,{factions:t,stat:"cohesion"})]})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const K_="182",zl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Vl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e5=0,uA=1,t5=2,mge=3,n5=0,rf=1,Ud=2,Zl=3,Qa=0,ti=1,Fr=2,sa=0,su=1,cA=2,fA=3,hA=4,r5=5,Os=100,i5=101,o5=102,a5=103,s5=104,l5=200,u5=201,c5=202,f5=203,q0=204,K0=205,h5=206,d5=207,p5=208,m5=209,g5=210,v5=211,y5=212,x5=213,_5=214,Z0=0,J0=1,Q0=2,_u=3,ex=4,tx=5,nx=6,rx=7,Am=0,S5=1,b5=2,io=0,RP=1,IP=2,LP=3,Z_=4,NP=5,DP=6,kP=7,dA="attached",w5="detached",J_=300,fa=301,qs=302,Wp=303,Xp=304,sh=306,Yp=1e3,mi=1001,qp=1002,Vn=1003,UP=1004,gge=1004,Hc=1005,vge=1005,bn=1006,Fd=1007,yge=1007,ta=1008,xge=1008,Kr=1009,FP=1010,BP=1011,Nf=1012,Q_=1013,lo=1014,Qr=1015,ha=1016,eS=1017,tS=1018,Df=1020,zP=35902,VP=35899,jP=1021,HP=1022,Br=1023,da=1026,Ns=1027,nS=1028,Tm=1029,Su=1030,rS=1031,_ge=1032,iS=1033,Bd=33776,zd=33777,Vd=33778,jd=33779,ix=35840,ox=35841,ax=35842,sx=35843,lx=36196,ux=37492,cx=37496,fx=37488,hx=37489,dx=37490,px=37491,mx=37808,gx=37809,vx=37810,yx=37811,xx=37812,_x=37813,Sx=37814,bx=37815,wx=37816,Mx=37817,Ex=37818,Ax=37819,Tx=37820,Px=37821,Cx=36492,Ox=36494,Rx=36495,Ix=36283,Lx=36284,Nx=36285,Dx=36286,M5=2200,E5=2201,A5=2202,Kp=2300,kx=2301,Sy=2302,Jl=2400,Ql=2401,Zp=2402,oS=2500,$P=2501,Sge=0,bge=1,wge=2,T5=3200,Mge=3201,Ege=3202,Age=3203,al=0,P5=1,La="",ci="srgb",bu="srgb-linear",Jp="linear",nn="srgb",Tge="",Pge="rg",Cge="ga",Oge=0,jl=7680,Rge=7681,Ige=7682,Lge=7683,Nge=34055,Dge=34056,kge=5386,Uge=512,Fge=513,Bge=514,zge=515,Vge=516,jge=517,Hge=518,pA=519,C5=512,O5=513,R5=514,aS=515,I5=516,L5=517,sS=518,N5=519,Qp=35044,$ge=35048,Gge=35040,Wge=35045,Xge=35049,Yge=35041,qge=35046,Kge=35050,Zge=35042,Jge="100",mA="300 es",Ii=2e3,kf=2001,Qge={COMPUTE:"compute",RENDER:"render"},eve={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},tve={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function D5(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const nve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $c(t,e){return new nve[t](e)}function k5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function em(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function U5(){const t=em("canvas");return t.style.display="block",t}const nN={};let Ks=null;function rve(t){Ks=t}function ive(){return Ks}function tm(...t){const e="THREE."+t.shift();Ks?Ks("log",e,...t):console.log(e,...t)}function qe(...t){const e="THREE."+t.shift();Ks?Ks("warn",e,...t):console.warn(e,...t)}function gt(...t){const e="THREE."+t.shift();Ks?Ks("error",e,...t):console.error(e,...t)}function Uf(...t){const e=t.join(" ");e in nN||(nN[e]=!0,qe(...t))}function ove(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}let ma=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const Ir=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rN=1234567;const lu=Math.PI/180,Ff=180/Math.PI;function Ni(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ir[t&255]+Ir[t>>8&255]+Ir[t>>16&255]+Ir[t>>24&255]+"-"+Ir[e&255]+Ir[e>>8&255]+"-"+Ir[e>>16&15|64]+Ir[e>>24&255]+"-"+Ir[n&63|128]+Ir[n>>8&255]+"-"+Ir[n>>16&255]+Ir[n>>24&255]+Ir[r&255]+Ir[r>>8&255]+Ir[r>>16&255]+Ir[r>>24&255]).toLowerCase()}function Mt(t,e,n){return Math.max(e,Math.min(n,t))}function GP(t,e){return(t%e+e)%e}function ave(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function sve(t,e,n){return t!==e?(n-t)/(e-t):0}function Hd(t,e,n){return(1-n)*t+n*e}function lve(t,e,n,r){return Hd(t,e,1-Math.exp(-n*r))}function uve(t,e=1){return e-Math.abs(GP(t,e*2)-e)}function cve(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function fve(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function hve(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dve(t,e){return t+Math.random()*(e-t)}function pve(t){return t*(.5-Math.random())}function mve(t){t!==void 0&&(rN=t);let e=rN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gve(t){return t*lu}function vve(t){return t*Ff}function yve(t){return(t&t-1)===0&&t!==0}function xve(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _ve(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Sve(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((e+r)/2),c=a((e+r)/2),f=o((e-r)/2),p=a((e-r)/2),m=o((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*p,s*u);break;case"YZY":t.set(l*p,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*p,s*c,s*u);break;case"XZX":t.set(s*c,l*v,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*v,s*u);break;case"ZYZ":t.set(l*v,l*m,s*c,s*u);break;default:qe("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Zr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Rt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const bve={DEG2RAD:lu,RAD2DEG:Ff,generateUUID:Ni,clamp:Mt,euclideanModulo:GP,mapLinear:ave,inverseLerp:sve,lerp:Hd,damp:lve,pingpong:uve,smoothstep:cve,smootherstep:fve,randInt:hve,randFloat:dve,randFloatSpread:pve,seededRandom:mve,degToRad:gve,radToDeg:vve,isPowerOfTwo:yve,ceilPowerOfTwo:xve,floorPowerOfTwo:_ve,setQuaternionFromProperEuler:Sve,normalize:Rt,denormalize:Zr};class we{constructor(e=0,n=0){we.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Mt(this.x,e.x,n.x),this.y=Mt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Mt(this.x,e,n),this.y=Mt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Mt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3],p=o[a+0],m=o[a+1],v=o[a+2],x=o[a+3];if(s<=0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s>=1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=x;return}if(f!==x||l!==p||u!==m||c!==v){let y=l*p+u*m+c*v+f*x;y<0&&(p=-p,m=-m,v=-v,x=-x,y=-y);let g=1-s;if(y<.9995){const _=Math.acos(y),S=Math.sin(_);g=Math.sin(g*_)/S,s=Math.sin(s*_)/S,l=l*g+p*s,u=u*g+m*s,c=c*g+v*s,f=f*g+x*s}else{l=l*g+p*s,u=u*g+m*s,c=c*g+v*s,f=f*g+x*s;const _=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=_,u*=_,c*=_,f*=_}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=o[a],p=o[a+1],m=o[a+2],v=o[a+3];return e[n]=s*v+c*f+l*m-u*p,e[n+1]=l*v+c*p+u*f-s*m,e[n+2]=u*v+c*m+s*p-l*f,e[n+3]=c*v-s*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(o/2),p=l(r/2),m=l(i/2),v=l(o/2);switch(a){case"XYZ":this._x=p*c*f+u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f-p*m*v;break;case"YXZ":this._x=p*c*f+u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f+p*m*v;break;case"ZXY":this._x=p*c*f-u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f-p*m*v;break;case"ZYX":this._x=p*c*f-u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f+p*m*v;break;case"YZX":this._x=p*c*f+u*m*v,this._y=u*m*f+p*c*v,this._z=u*c*v-p*m*f,this._w=u*c*f-p*m*v;break;case"XZY":this._x=p*c*f-u*m*v,this._y=u*m*f-p*c*v,this._z=u*c*v+p*m*f,this._w=u*c*f+p*m*v;break;default:qe("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],p=r+s+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,o=e._z,a=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,o=-o,a=-a,s=-s);let l=1-n;if(s<.9995){const u=Math.acos(s),c=Math.sin(u);l=Math.sin(l*u)/c,n=Math.sin(n*u)/c,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+o*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(iN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(iN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=2*(a*i-s*r),c=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*u+a*f-s*c,this.y=r+l*c+s*u-o*f,this.z=i+l*f+o*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Mt(this.x,e.x,n.x),this.y=Mt(this.y,e.y,n.y),this.z=Mt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Mt(this.x,e,n),this.y=Mt(this.y,e,n),this.z=Mt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return G1.copy(this).projectOnVector(e),this.sub(G1)}reflect(e){return this.sub(G1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Mt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const G1=new H,iN=new zr;class Ot{constructor(e,n,r,i,o,a,s,l,u){Ot.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u)}set(e,n,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],p=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],_=i[1],S=i[4],M=i[7],w=i[2],A=i[5],T=i[8];return o[0]=a*x+s*_+l*w,o[3]=a*y+s*S+l*A,o[6]=a*g+s*M+l*T,o[1]=u*x+c*_+f*w,o[4]=u*y+c*S+f*A,o[7]=u*g+c*M+f*T,o[2]=p*x+m*_+v*w,o[5]=p*y+m*S+v*A,o[8]=p*g+m*M+v*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*a*c-n*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,p=s*l-c*o,m=u*o-a*l,v=n*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=f*x,e[1]=(i*u-c*r)*x,e[2]=(s*r-i*a)*x,e[3]=p*x,e[4]=(c*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=m*x,e[7]=(r*l-u*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(W1.makeScale(e,n)),this}rotate(e){return this.premultiply(W1.makeRotation(-e)),this}translate(e,n){return this.premultiply(W1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const W1=new Ot,oN=new Ot().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),aN=new Ot().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function wve(){const t={enabled:!0,workingColorSpace:bu,spaces:{},convert:function(i,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===nn&&(i.r=Ha(i.r),i.g=Ha(i.g),i.b=Ha(i.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===nn&&(i.r=of(i.r),i.g=of(i.g),i.b=of(i.b))),i},workingToColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},colorSpaceToWorking:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===La?Jp:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,a){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,o){return Uf("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,o)},toWorkingColorSpace:function(i,o){return Uf("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,o)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[bu]:{primaries:e,whitePoint:r,transfer:Jp,toXYZ:oN,fromXYZ:aN,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ci},outputColorSpaceConfig:{drawingBufferColorSpace:ci}},[ci]:{primaries:e,whitePoint:r,transfer:nn,toXYZ:oN,fromXYZ:aN,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ci}}}),t}const Vt=wve();function Ha(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function of(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let nc;class F5{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{nc===void 0&&(nc=em("canvas")),nc.width=e.width,nc.height=e.height;const i=nc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=nc}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=em("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Ha(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ha(n[r]/255)*255):n[r]=Ha(n[r]);return{data:n,width:e.width,height:e.height}}else return qe("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Mve=0;class Ds{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Mve++}),this.uuid=Ni(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(X1(i[a].image)):o.push(X1(i[a]))}else o=X1(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function X1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?F5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(qe("Texture: Unable to serialize Texture."),{})}let Eve=0;const Y1=new H;class kn extends ma{constructor(e=kn.DEFAULT_IMAGE,n=kn.DEFAULT_MAPPING,r=mi,i=mi,o=bn,a=ta,s=Br,l=Kr,u=kn.DEFAULT_ANISOTROPY,c=La){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Eve++}),this.uuid=Ni(),this.name="",this.source=new Ds(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Y1).x}get height(){return this.source.getSize(Y1).y}get depth(){return this.source.getSize(Y1).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){qe(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){qe(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yp:e.x=e.x-Math.floor(e.x);break;case mi:e.x=e.x<0?0:1;break;case qp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yp:e.y=e.y-Math.floor(e.y);break;case mi:e.y=e.y<0?0:1;break;case qp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}kn.DEFAULT_IMAGE=null;kn.DEFAULT_MAPPING=J_;kn.DEFAULT_ANISOTROPY=1;class fn{constructor(e=0,n=0,r=0,i=1){fn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],f=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(c-p)<.01&&Math.abs(f-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(c+p)<.1&&Math.abs(f+x)<.1&&Math.abs(v+y)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,M=(m+1)/2,w=(g+1)/2,A=(c+p)/4,T=(f+x)/4,R=(v+y)/4;return S>M&&S>w?S<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(S),i=A/r,o=T/r):M>w?M<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(M),r=A/i,o=R/i):w<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(w),r=T/o,i=R/o),this.set(r,i,o,n),this}let _=Math.sqrt((y-v)*(y-v)+(f-x)*(f-x)+(p-c)*(p-c));return Math.abs(_)<.001&&(_=1),this.x=(y-v)/_,this.y=(f-x)/_,this.z=(p-c)/_,this.w=Math.acos((u+m+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Mt(this.x,e.x,n.x),this.y=Mt(this.y,e.y,n.y),this.z=Mt(this.z,e.z,n.z),this.w=Mt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Mt(this.x,e,n),this.y=Mt(this.y,e,n),this.z=Mt(this.z,e,n),this.w=Mt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WP extends ma{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:bn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new fn(0,0,e,n),this.scissorTest=!1,this.viewport=new fn(0,0,e,n);const i={width:e,height:n,depth:r.depth},o=new kn(i);this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:bn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Ds(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Di extends WP{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class lS extends kn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ave extends Di{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new lS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class uS extends kn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Vn,this.minFilter=Vn,this.wrapR=mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tve extends Di{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new uS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Vr{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(_o.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(_o.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_o.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,_o):_o.fromBufferAttribute(o,a),_o.applyMatrix4(e.matrixWorld),this.expandByPoint(_o);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),fv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),fv.copy(r.boundingBox)),fv.applyMatrix4(e.matrixWorld),this.union(fv)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_o),_o.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ed),hv.subVectors(this.max,ed),rc.subVectors(e.a,ed),ic.subVectors(e.b,ed),oc.subVectors(e.c,ed),vs.subVectors(ic,rc),ys.subVectors(oc,ic),Sl.subVectors(rc,oc);let n=[0,-vs.z,vs.y,0,-ys.z,ys.y,0,-Sl.z,Sl.y,vs.z,0,-vs.x,ys.z,0,-ys.x,Sl.z,0,-Sl.x,-vs.y,vs.x,0,-ys.y,ys.x,0,-Sl.y,Sl.x,0];return!q1(n,rc,ic,oc,hv)||(n=[1,0,0,0,1,0,0,0,1],!q1(n,rc,ic,oc,hv))?!1:(dv.crossVectors(vs,ys),n=[dv.x,dv.y,dv.z],q1(n,rc,ic,oc,hv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_o).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_o).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ea[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ea[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ea[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ea[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ea[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ea[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ea[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ea[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ea),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ea=[new H,new H,new H,new H,new H,new H,new H,new H],_o=new H,fv=new Vr,rc=new H,ic=new H,oc=new H,vs=new H,ys=new H,Sl=new H,ed=new H,hv=new H,dv=new H,bl=new H;function q1(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){bl.fromArray(t,o);const s=i.x*Math.abs(bl.x)+i.y*Math.abs(bl.y)+i.z*Math.abs(bl.z),l=e.dot(bl),u=n.dot(bl),c=r.dot(bl);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Pve=new Vr,td=new H,K1=new H;class br{constructor(e=new H,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Pve.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;td.subVectors(e,this.center);const n=td.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(td,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(K1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(td.copy(e.center).add(K1)),this.expandByPoint(td.copy(e.center).sub(K1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Aa=new H,Z1=new H,pv=new H,xs=new H,J1=new H,mv=new H,Q1=new H;class Iu{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Aa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Aa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Aa.copy(this.origin).addScaledVector(this.direction,n),Aa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Z1.copy(e).add(n).multiplyScalar(.5),pv.copy(n).sub(e).normalize(),xs.copy(this.origin).sub(Z1);const o=e.distanceTo(n)*.5,a=-this.direction.dot(pv),s=xs.dot(this.direction),l=-xs.dot(pv),u=xs.lengthSq(),c=Math.abs(1-a*a);let f,p,m,v;if(c>0)if(f=a*l-s,p=a*s-l,v=o*c,f>=0)if(p>=-v)if(p<=v){const x=1/c;f*=x,p*=x,m=f*(f+a*p+2*s)+p*(a*f+p+2*l)+u}else p=o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;else p=-o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;else p<=-v?(f=Math.max(0,-(-a*o+s)),p=f>0?-o:Math.min(Math.max(-o,-l),o),m=-f*f+p*(p+2*l)+u):p<=v?(f=0,p=Math.min(Math.max(-o,-l),o),m=p*(p+2*l)+u):(f=Math.max(0,-(a*o+s)),p=f>0?o:Math.min(Math.max(-o,-l),o),m=-f*f+p*(p+2*l)+u);else p=a>0?-o:o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Z1).addScaledVector(pv,p),m}intersectSphere(e,n){Aa.subVectors(e.center,this.origin);const r=Aa.dot(this.direction),i=Aa.dot(Aa)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(o=(e.min.y-p.y)*c,a=(e.max.y-p.y)*c):(o=(e.max.y-p.y)*c,a=(e.min.y-p.y)*c),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(s=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Aa)!==null}intersectTriangle(e,n,r,i,o){J1.subVectors(n,e),mv.subVectors(r,e),Q1.crossVectors(J1,mv);let a=this.direction.dot(Q1),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;xs.subVectors(this.origin,e);const l=s*this.direction.dot(mv.crossVectors(xs,mv));if(l<0)return null;const u=s*this.direction.dot(J1.cross(xs));if(u<0||l+u>a)return null;const c=-s*xs.dot(Q1);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Et{constructor(e,n,r,i,o,a,s,l,u,c,f,p,m,v,x,y){Et.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u,c,f,p,m,v,x,y)}set(e,n,r,i,o,a,s,l,u,c,f,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=a,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Et().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/ac.setFromMatrixColumn(e,0).length(),o=1/ac.setFromMatrixColumn(e,1).length(),a=1/ac.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const p=a*c,m=a*f,v=s*c,x=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+v*u,n[5]=p-x*u,n[9]=-s*l,n[2]=x-p*u,n[6]=v+m*u,n[10]=a*l}else if(e.order==="YXZ"){const p=l*c,m=l*f,v=u*c,x=u*f;n[0]=p+x*s,n[4]=v*s-m,n[8]=a*u,n[1]=a*f,n[5]=a*c,n[9]=-s,n[2]=m*s-v,n[6]=x+p*s,n[10]=a*l}else if(e.order==="ZXY"){const p=l*c,m=l*f,v=u*c,x=u*f;n[0]=p-x*s,n[4]=-a*f,n[8]=v+m*s,n[1]=m+v*s,n[5]=a*c,n[9]=x-p*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const p=a*c,m=a*f,v=s*c,x=s*f;n[0]=l*c,n[4]=v*u-m,n[8]=p*u+x,n[1]=l*f,n[5]=x*u+p,n[9]=m*u-v,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const p=a*l,m=a*u,v=s*l,x=s*u;n[0]=l*c,n[4]=x-p*f,n[8]=v*f+m,n[1]=f,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*f+v,n[10]=p-x*f}else if(e.order==="XZY"){const p=a*l,m=a*u,v=s*l,x=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=p*f+x,n[5]=a*c,n[9]=m*f-v,n[2]=v*f-m,n[6]=s*c,n[10]=x*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cve,e,Ove)}lookAt(e,n,r){const i=this.elements;return Ei.subVectors(e,n),Ei.lengthSq()===0&&(Ei.z=1),Ei.normalize(),_s.crossVectors(r,Ei),_s.lengthSq()===0&&(Math.abs(r.z)===1?Ei.x+=1e-4:Ei.z+=1e-4,Ei.normalize(),_s.crossVectors(r,Ei)),_s.normalize(),gv.crossVectors(Ei,_s),i[0]=_s.x,i[4]=gv.x,i[8]=Ei.x,i[1]=_s.y,i[5]=gv.y,i[9]=Ei.y,i[2]=_s.z,i[6]=gv.z,i[10]=Ei.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],p=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],_=r[3],S=r[7],M=r[11],w=r[15],A=i[0],T=i[4],R=i[8],P=i[12],O=i[1],L=i[5],k=i[9],F=i[13],X=i[2],G=i[6],q=i[10],W=i[14],D=i[3],V=i[7],z=i[11],Q=i[15];return o[0]=a*A+s*O+l*X+u*D,o[4]=a*T+s*L+l*G+u*V,o[8]=a*R+s*k+l*q+u*z,o[12]=a*P+s*F+l*W+u*Q,o[1]=c*A+f*O+p*X+m*D,o[5]=c*T+f*L+p*G+m*V,o[9]=c*R+f*k+p*q+m*z,o[13]=c*P+f*F+p*W+m*Q,o[2]=v*A+x*O+y*X+g*D,o[6]=v*T+x*L+y*G+g*V,o[10]=v*R+x*k+y*q+g*z,o[14]=v*P+x*F+y*W+g*Q,o[3]=_*A+S*O+M*X+w*D,o[7]=_*T+S*L+M*G+w*V,o[11]=_*R+S*k+M*q+w*z,o[15]=_*P+S*F+M*W+w*Q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15],_=l*m-u*p,S=s*m-u*f,M=s*p-l*f,w=a*m-u*c,A=a*p-l*c,T=a*f-s*c;return n*(x*_-y*S+g*M)-r*(v*_-y*w+g*A)+i*(v*S-x*w+g*T)-o*(v*M-x*A+y*T)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],_=f*y*u-x*p*u+x*l*m-s*y*m-f*l*g+s*p*g,S=v*p*u-c*y*u-v*l*m+a*y*m+c*l*g-a*p*g,M=c*x*u-v*f*u+v*s*m-a*x*m-c*s*g+a*f*g,w=v*f*l-c*x*l-v*s*p+a*x*p+c*s*y-a*f*y,A=n*_+r*S+i*M+o*w;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/A;return e[0]=_*T,e[1]=(x*p*o-f*y*o-x*i*m+r*y*m+f*i*g-r*p*g)*T,e[2]=(s*y*o-x*l*o+x*i*u-r*y*u-s*i*g+r*l*g)*T,e[3]=(f*l*o-s*p*o-f*i*u+r*p*u+s*i*m-r*l*m)*T,e[4]=S*T,e[5]=(c*y*o-v*p*o+v*i*m-n*y*m-c*i*g+n*p*g)*T,e[6]=(v*l*o-a*y*o-v*i*u+n*y*u+a*i*g-n*l*g)*T,e[7]=(a*p*o-c*l*o+c*i*u-n*p*u-a*i*m+n*l*m)*T,e[8]=M*T,e[9]=(v*f*o-c*x*o-v*r*m+n*x*m+c*r*g-n*f*g)*T,e[10]=(a*x*o-v*s*o+v*r*u-n*x*u-a*r*g+n*s*g)*T,e[11]=(c*s*o-a*f*o-c*r*u+n*f*u+a*r*m-n*s*m)*T,e[12]=w*T,e[13]=(c*x*i-v*f*i+v*r*p-n*x*p-c*r*y+n*f*y)*T,e[14]=(v*s*i-a*x*i-v*r*l+n*x*l+a*r*y-n*s*y)*T,e[15]=(a*f*i-c*s*i+c*r*l-n*f*l-a*r*p+n*s*p)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,f=s+s,p=o*u,m=o*c,v=o*f,x=a*c,y=a*f,g=s*f,_=l*u,S=l*c,M=l*f,w=r.x,A=r.y,T=r.z;return i[0]=(1-(x+g))*w,i[1]=(m+M)*w,i[2]=(v-S)*w,i[3]=0,i[4]=(m-M)*A,i[5]=(1-(p+g))*A,i[6]=(y+_)*A,i[7]=0,i[8]=(v+S)*T,i[9]=(y-_)*T,i[10]=(1-(p+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let o=ac.set(i[0],i[1],i[2]).length();const a=ac.set(i[4],i[5],i[6]).length(),s=ac.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),So.copy(this);const u=1/o,c=1/a,f=1/s;return So.elements[0]*=u,So.elements[1]*=u,So.elements[2]*=u,So.elements[4]*=c,So.elements[5]*=c,So.elements[6]*=c,So.elements[8]*=f,So.elements[9]*=f,So.elements[10]*=f,n.setFromRotationMatrix(So),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Ii,l=!1){const u=this.elements,c=2*o/(n-e),f=2*o/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let v,x;if(l)v=o/(a-o),x=a*o/(a-o);else if(s===Ii)v=-(a+o)/(a-o),x=-2*a*o/(a-o);else if(s===kf)v=-a/(a-o),x=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=f,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Ii,l=!1){const u=this.elements,c=2/(n-e),f=2/(r-i),p=-(n+e)/(n-e),m=-(r+i)/(r-i);let v,x;if(l)v=1/(a-o),x=a/(a-o);else if(s===Ii)v=-2/(a-o),x=-(a+o)/(a-o);else if(s===kf)v=-1/(a-o),x=-o/(a-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=p,u[1]=0,u[5]=f,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=v,u[14]=x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ac=new H,So=new Et,Cve=new H(0,0,0),Ove=new H(1,1,1),_s=new H,gv=new H,Ei=new H,sN=new Et,lN=new zr;class Ui{constructor(e=0,n=0,r=0,i=Ui.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Mt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Mt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Mt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Mt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Mt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-Mt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,m),this._y=0);break;default:qe("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return sN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return lN.setFromEuler(this),this.setFromQuaternion(lN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ui.DEFAULT_ORDER="XYZ";class uu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Rve=0;const uN=new H,sc=new zr,Ta=new Et,vv=new H,nd=new H,Ive=new H,Lve=new zr,cN=new H(1,0,0),fN=new H(0,1,0),hN=new H(0,0,1),dN={type:"added"},Nve={type:"removed"},lc={type:"childadded",child:null},ew={type:"childremoved",child:null};class Wt extends ma{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Rve++}),this.uuid=Ni(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DEFAULT_UP.clone();const e=new H,n=new Ui,r=new zr,i=new H(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Et},normalMatrix:{value:new Ot}}),this.matrix=new Et,this.matrixWorld=new Et,this.matrixAutoUpdate=Wt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new uu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return sc.setFromAxisAngle(e,n),this.quaternion.multiply(sc),this}rotateOnWorldAxis(e,n){return sc.setFromAxisAngle(e,n),this.quaternion.premultiply(sc),this}rotateX(e){return this.rotateOnAxis(cN,e)}rotateY(e){return this.rotateOnAxis(fN,e)}rotateZ(e){return this.rotateOnAxis(hN,e)}translateOnAxis(e,n){return uN.copy(e).applyQuaternion(this.quaternion),this.position.add(uN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(cN,e)}translateY(e){return this.translateOnAxis(fN,e)}translateZ(e){return this.translateOnAxis(hN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ta.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?vv.copy(e):vv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),nd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ta.lookAt(nd,vv,this.up):Ta.lookAt(vv,nd,this.up),this.quaternion.setFromRotationMatrix(Ta),i&&(Ta.extractRotation(i.matrixWorld),sc.setFromRotationMatrix(Ta),this.quaternion.premultiply(sc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(gt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(dN),lc.child=e,this.dispatchEvent(lc),lc.child=null):gt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Nve),ew.child=e,this.dispatchEvent(ew),ew.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ta.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ta.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ta),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(dN),lc.child=e,this.dispatchEvent(lc),lc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nd,e,Ive),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nd,Lve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),p=a(e.skeletons),m=a(e.animations),v=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Wt.DEFAULT_UP=new H(0,1,0);Wt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bo=new H,Pa=new H,tw=new H,Ca=new H,uc=new H,cc=new H,pN=new H,nw=new H,rw=new H,iw=new H,ow=new fn,aw=new fn,sw=new fn;class hi{constructor(e=new H,n=new H,r=new H){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),bo.subVectors(e,n),i.cross(bo);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){bo.subVectors(i,n),Pa.subVectors(r,n),tw.subVectors(e,n);const a=bo.dot(bo),s=bo.dot(Pa),l=bo.dot(tw),u=Pa.dot(Pa),c=Pa.dot(tw),f=a*u-s*s;if(f===0)return o.set(0,0,0),null;const p=1/f,m=(u*l-s*c)*p,v=(a*c-s*l)*p;return o.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ca)===null?!1:Ca.x>=0&&Ca.y>=0&&Ca.x+Ca.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Ca)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Ca.x),l.addScaledVector(a,Ca.y),l.addScaledVector(s,Ca.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return ow.setScalar(0),aw.setScalar(0),sw.setScalar(0),ow.fromBufferAttribute(e,n),aw.fromBufferAttribute(e,r),sw.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(ow,o.x),a.addScaledVector(aw,o.y),a.addScaledVector(sw,o.z),a}static isFrontFacing(e,n,r,i){return bo.subVectors(r,n),Pa.subVectors(e,n),bo.cross(Pa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bo.subVectors(this.c,this.b),Pa.subVectors(this.a,this.b),bo.cross(Pa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return hi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return hi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return hi.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return hi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return hi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;uc.subVectors(i,r),cc.subVectors(o,r),nw.subVectors(e,r);const l=uc.dot(nw),u=cc.dot(nw);if(l<=0&&u<=0)return n.copy(r);rw.subVectors(e,i);const c=uc.dot(rw),f=cc.dot(rw);if(c>=0&&f<=c)return n.copy(i);const p=l*f-c*u;if(p<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(r).addScaledVector(uc,a);iw.subVectors(e,o);const m=uc.dot(iw),v=cc.dot(iw);if(v>=0&&m<=v)return n.copy(o);const x=m*u-l*v;if(x<=0&&u>=0&&v<=0)return s=u/(u-v),n.copy(r).addScaledVector(cc,s);const y=c*v-m*f;if(y<=0&&f-c>=0&&m-v>=0)return pN.subVectors(o,i),s=(f-c)/(f-c+(m-v)),n.copy(i).addScaledVector(pN,s);const g=1/(y+x+p);return a=x*g,s=p*g,n.copy(r).addScaledVector(uc,a).addScaledVector(cc,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const B5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ss={h:0,s:0,l:0},yv={h:0,s:0,l:0};function lw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class nt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ci){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Vt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Vt.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Vt.workingColorSpace){if(e=GP(e,1),n=Mt(n,0,1),r=Mt(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=lw(a,o,e+1/3),this.g=lw(a,o,e),this.b=lw(a,o,e-1/3)}return Vt.colorSpaceToWorking(this,i),this}setStyle(e,n=ci){function r(o){o!==void 0&&parseFloat(o)<1&&qe("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:qe("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);qe("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ci){const r=B5[e.toLowerCase()];return r!==void 0?this.setHex(r,n):qe("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ha(e.r),this.g=Ha(e.g),this.b=Ha(e.b),this}copyLinearToSRGB(e){return this.r=of(e.r),this.g=of(e.g),this.b=of(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ci){return Vt.workingToColorSpace(Lr.copy(this),e),Math.round(Mt(Lr.r*255,0,255))*65536+Math.round(Mt(Lr.g*255,0,255))*256+Math.round(Mt(Lr.b*255,0,255))}getHexString(e=ci){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Vt.workingColorSpace){Vt.workingToColorSpace(Lr.copy(this),n);const r=Lr.r,i=Lr.g,o=Lr.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const f=a-s;switch(u=c<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Vt.workingColorSpace){return Vt.workingToColorSpace(Lr.copy(this),n),e.r=Lr.r,e.g=Lr.g,e.b=Lr.b,e}getStyle(e=ci){Vt.workingToColorSpace(Lr.copy(this),e);const n=Lr.r,r=Lr.g,i=Lr.b;return e!==ci?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ss),this.setHSL(Ss.h+e,Ss.s+n,Ss.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ss),e.getHSL(yv);const r=Hd(Ss.h,yv.h,n),i=Hd(Ss.s,yv.s,n),o=Hd(Ss.l,yv.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Lr=new nt;nt.NAMES=B5;let Dve=0;class Hr extends ma{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Dve++}),this.uuid=Ni(),this.name="",this.type="Material",this.blending=su,this.side=Qa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=q0,this.blendDst=K0,this.blendEquation=Os,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nt(0,0,0),this.blendAlpha=0,this.depthFunc=_u,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jl,this.stencilZFail=jl,this.stencilZPass=jl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){qe(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){qe(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==su&&(r.blending=this.blending),this.side!==Qa&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==q0&&(r.blendSrc=this.blendSrc),this.blendDst!==K0&&(r.blendDst=this.blendDst),this.blendEquation!==Os&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==_u&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==pA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sl extends Hr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Am,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Na=kve();function kve(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function ui(t){Math.abs(t)>65504&&qe("DataUtils.toHalfFloat(): Value out of range."),t=Mt(t,-65504,65504),Na.floatView[0]=t;const e=Na.uint32View[0],n=e>>23&511;return Na.baseTable[n]+((e&8388607)>>Na.shiftTable[n])}function _d(t){const e=t>>10;return Na.uint32View[0]=Na.mantissaTable[Na.offsetTable[e]+(t&1023)]+Na.exponentTable[e],Na.floatView[0]}class Uve{static toHalfFloat(e){return ui(e)}static fromHalfFloat(e){return _d(e)}}const Gn=new H,xv=new we;let Fve=0;class ln{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Fve++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Qp,this.updateRanges=[],this.gpuType=Qr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)xv.fromBufferAttribute(this,n),xv.applyMatrix3(e),this.setXY(n,xv.x,xv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyMatrix3(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyMatrix4(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.applyNormalMatrix(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Gn.fromBufferAttribute(this,n),Gn.transformDirection(e),this.setXYZ(n,Gn.x,Gn.y,Gn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Zr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Zr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Zr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Zr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Zr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qp&&(e.usage=this.usage),e}}class Bve extends ln{constructor(e,n,r){super(new Int8Array(e),n,r)}}class zve extends ln{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Vve extends ln{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class jve extends ln{constructor(e,n,r){super(new Int16Array(e),n,r)}}class XP extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Hve extends ln{constructor(e,n,r){super(new Int32Array(e),n,r)}}class YP extends ln{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class $ve extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=_d(this.array[e*this.itemSize]);return this.normalized&&(n=Zr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize]=ui(n),this}getY(e){let n=_d(this.array[e*this.itemSize+1]);return this.normalized&&(n=Zr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+1]=ui(n),this}getZ(e){let n=_d(this.array[e*this.itemSize+2]);return this.normalized&&(n=Zr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+2]=ui(n),this}getW(e){let n=_d(this.array[e*this.itemSize+3]);return this.normalized&&(n=Zr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.array[e*this.itemSize+3]=ui(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.array[e+0]=ui(n),this.array[e+1]=ui(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.array[e+0]=ui(n),this.array[e+1]=ui(r),this.array[e+2]=ui(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.array[e+0]=ui(n),this.array[e+1]=ui(r),this.array[e+2]=ui(i),this.array[e+3]=ui(o),this}}class ut extends ln{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Gve=0;const Zi=new Et,uw=new Wt,fc=new H,Ai=new Vr,rd=new Vr,fr=new H;class Tt extends ma{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Gve++}),this.uuid=Ni(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(D5(e)?YP:XP)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ot().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zi.makeRotationFromQuaternion(e),this.applyMatrix4(Zi),this}rotateX(e){return Zi.makeRotationX(e),this.applyMatrix4(Zi),this}rotateY(e){return Zi.makeRotationY(e),this.applyMatrix4(Zi),this}rotateZ(e){return Zi.makeRotationZ(e),this.applyMatrix4(Zi),this}translate(e,n,r){return Zi.makeTranslation(e,n,r),this.applyMatrix4(Zi),this}scale(e,n,r){return Zi.makeScale(e,n,r),this.applyMatrix4(Zi),this}lookAt(e){return uw.lookAt(e),uw.updateMatrix(),this.applyMatrix4(uw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fc).negate(),this.translate(fc.x,fc.y,fc.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new ut(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const o=e[i];n.setXYZ(i,o.x,o.y,o.z||0)}e.length>n.count&&qe("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){gt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Ai.setFromBufferAttribute(o),this.morphTargetsRelative?(fr.addVectors(this.boundingBox.min,Ai.min),this.boundingBox.expandByPoint(fr),fr.addVectors(this.boundingBox.max,Ai.max),this.boundingBox.expandByPoint(fr)):(this.boundingBox.expandByPoint(Ai.min),this.boundingBox.expandByPoint(Ai.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&gt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new br);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){gt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(Ai.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];rd.setFromBufferAttribute(s),this.morphTargetsRelative?(fr.addVectors(Ai.min,rd.min),Ai.expandByPoint(fr),fr.addVectors(Ai.max,rd.max),Ai.expandByPoint(fr)):(Ai.expandByPoint(rd.min),Ai.expandByPoint(rd.max))}Ai.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)fr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(fr));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)fr.fromBufferAttribute(s,u),l&&(fc.fromBufferAttribute(e,u),fr.add(fc)),i=Math.max(i,r.distanceToSquared(fr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&gt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){gt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let R=0;R<r.count;R++)s[R]=new H,l[R]=new H;const u=new H,c=new H,f=new H,p=new we,m=new we,v=new we,x=new H,y=new H;function g(R,P,O){u.fromBufferAttribute(r,R),c.fromBufferAttribute(r,P),f.fromBufferAttribute(r,O),p.fromBufferAttribute(o,R),m.fromBufferAttribute(o,P),v.fromBufferAttribute(o,O),c.sub(u),f.sub(u),m.sub(p),v.sub(p);const L=1/(m.x*v.y-v.x*m.y);isFinite(L)&&(x.copy(c).multiplyScalar(v.y).addScaledVector(f,-m.y).multiplyScalar(L),y.copy(f).multiplyScalar(m.x).addScaledVector(c,-v.x).multiplyScalar(L),s[R].add(x),s[P].add(x),s[O].add(x),l[R].add(y),l[P].add(y),l[O].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let R=0,P=_.length;R<P;++R){const O=_[R],L=O.start,k=O.count;for(let F=L,X=L+k;F<X;F+=3)g(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const S=new H,M=new H,w=new H,A=new H;function T(R){w.fromBufferAttribute(i,R),A.copy(w);const P=s[R];S.copy(P),S.sub(w.multiplyScalar(w.dot(P))).normalize(),M.crossVectors(A,P);const L=M.dot(l[R])<0?-1:1;a.setXYZW(R,S.x,S.y,S.z,L)}for(let R=0,P=_.length;R<P;++R){const O=_[R],L=O.start,k=O.count;for(let F=L,X=L+k;F<X;F+=3)T(e.getX(F+0)),T(e.getX(F+1)),T(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ln(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new H,o=new H,a=new H,s=new H,l=new H,u=new H,c=new H,f=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,y),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),s.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(v,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),o.fromBufferAttribute(n,p+1),a.fromBufferAttribute(n,p+2),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)fr.fromBufferAttribute(e,n),fr.normalize(),e.setXYZ(n,fr.x,fr.y,fr.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,p=new u.constructor(l.length*c);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){s.isInterleavedBufferAttribute?m=l[x]*s.data.stride+s.offset:m=l[x]*c;for(let g=0;g<c;g++)p[v++]=u[m++]}return new ln(p,c,f)}if(this.index===null)return qe("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Tt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,f=u.length;c<f;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let p=0,m=f.length;p<m;p++)c.push(f[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mN=new Et,wl=new Iu,_v=new br,gN=new H,Sv=new H,bv=new H,wv=new H,cw=new H,Mv=new H,vN=new H,Ev=new H;class qn extends Wt{constructor(e=new Tt,n=new sl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){Mv.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const c=s[l],f=o[l];c!==0&&(cw.fromBufferAttribute(f,e),a?Mv.addScaledVector(cw,c):Mv.addScaledVector(cw.sub(n),c))}n.add(Mv)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),_v.copy(r.boundingSphere),_v.applyMatrix4(o),wl.copy(e.ray).recast(e.near),!(_v.containsPoint(wl.origin)===!1&&(wl.intersectSphere(_v,gN)===null||wl.origin.distanceToSquared(gN)>(e.far-e.near)**2))&&(mN.copy(o).invert(),wl.copy(e.ray).applyMatrix4(mN),!(r.boundingBox!==null&&wl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,wl)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,p=o.groups,m=o.drawRange;if(s!==null)if(Array.isArray(a))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a[y.materialIndex],_=Math.max(y.start,m.start),S=Math.min(s.count,Math.min(y.start+y.count,m.start+m.count));for(let M=_,w=S;M<w;M+=3){const A=s.getX(M),T=s.getX(M+1),R=s.getX(M+2);i=Av(this,g,e,r,u,c,f,A,T,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(s.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const _=s.getX(y),S=s.getX(y+1),M=s.getX(y+2);i=Av(this,a,e,r,u,c,f,_,S,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a[y.materialIndex],_=Math.max(y.start,m.start),S=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=_,w=S;M<w;M+=3){const A=M,T=M+1,R=M+2;i=Av(this,g,e,r,u,c,f,A,T,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const _=y,S=y+1,M=y+2;i=Av(this,a,e,r,u,c,f,_,S,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Wve(t,e,n,r,i,o,a,s){let l;if(e.side===ti?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===Qa,s),l===null)return null;Ev.copy(s),Ev.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Ev);return u<n.near||u>n.far?null:{distance:u,point:Ev.clone(),object:t}}function Av(t,e,n,r,i,o,a,s,l,u){t.getVertexPosition(s,Sv),t.getVertexPosition(l,bv),t.getVertexPosition(u,wv);const c=Wve(t,e,n,r,Sv,bv,wv,vN);if(c){const f=new H;hi.getBarycoord(vN,Sv,bv,wv,f),i&&(c.uv=hi.getInterpolatedAttribute(i,s,l,u,f,new we)),o&&(c.uv1=hi.getInterpolatedAttribute(o,s,l,u,f,new we)),a&&(c.normal=hi.getInterpolatedAttribute(a,s,l,u,f,new H),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const p={a:s,b:l,c:u,normal:new H,materialIndex:0};hi.getNormal(Sv,bv,wv,p.normal),c.face=p,c.barycoord=f}return c}class Lu extends Tt{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,a,o,0),v("z","y","x",1,-1,r,n,-e,a,o,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,o,4),v("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new ut(u,3)),this.setAttribute("normal",new ut(c,3)),this.setAttribute("uv",new ut(f,2));function v(x,y,g,_,S,M,w,A,T,R,P){const O=M/T,L=w/R,k=M/2,F=w/2,X=A/2,G=T+1,q=R+1;let W=0,D=0;const V=new H;for(let z=0;z<q;z++){const Q=z*L-F;for(let ne=0;ne<G;ne++){const de=ne*O-k;V[x]=de*_,V[y]=Q*S,V[g]=X,u.push(V.x,V.y,V.z),V[x]=0,V[y]=0,V[g]=A>0?1:-1,c.push(V.x,V.y,V.z),f.push(ne/T),f.push(1-z/R),W+=1}}for(let z=0;z<R;z++)for(let Q=0;Q<T;Q++){const ne=p+Q+G*z,de=p+Q+G*(z+1),Fe=p+(Q+1)+G*(z+1),et=p+(Q+1)+G*z;l.push(ne,de,et),l.push(de,Fe,et),D+=6}s.addGroup(m,D,P),m+=D,p+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(qe("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Yr(t){const e={};for(let n=0;n<t.length;n++){const r=Bf(t[n]);for(const i in r)e[i]=r[i]}return e}function Xve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function z5(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Vt.workingColorSpace}const V5={clone:Bf,merge:Yr};var Yve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class uo extends Hr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Yve,this.fragmentShader=qve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bf(e.uniforms),this.uniformsGroups=Xve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Pm extends Wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Et,this.projectionMatrix=new Et,this.projectionMatrixInverse=new Et,this.coordinateSystem=Ii,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bs=new H,yN=new we,xN=new we;class zn extends Pm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Ff*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ff*2*Math.atan(Math.tan(lu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){bs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(bs.x,bs.y).multiplyScalar(-e/bs.z),bs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(bs.x,bs.y).multiplyScalar(-e/bs.z)}getViewSize(e,n){return this.getViewBounds(e,yN,xN),n.subVectors(xN,yN)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(lu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hc=-90,dc=1;class j5 extends Wt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new zn(hc,dc,e,n);i.layers=this.layers,this.add(i);const o=new zn(hc,dc,e,n);o.layers=this.layers,this.add(o);const a=new zn(hc,dc,e,n);a.layers=this.layers,this.add(a);const s=new zn(hc,dc,e,n);s.layers=this.layers,this.add(s);const l=new zn(hc,dc,e,n);l.layers=this.layers,this.add(l);const u=new zn(hc,dc,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const u of n)this.remove(u);if(e===Ii)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===kf)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,u,c]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Cm extends kn{constructor(e=[],n=fa,r,i,o,a,s,l,u,c){super(e,n,r,i,o,a,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qP extends Di{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Cm(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Lu(5,5,5),o=new uo({name:"CubemapFromEquirect",uniforms:Bf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ti,blending:sa});o.uniforms.tEquirect.value=n;const a=new qn(i,o),s=n.minFilter;return n.minFilter===ta&&(n.minFilter=bn),new j5(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}class Gc extends Wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Kve={type:"move"};class by{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Gc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Gc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Gc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(u,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=c.position.distanceTo(f.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Kve)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Gc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class cS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new nt(e),this.density=n}clone(){return new cS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class fS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new nt(e),this.near=n,this.far=r}clone(){return new fS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let KP=class extends Wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ui,this.environmentIntensity=1,this.environmentRotation=new Ui,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class hS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Qp,this.updateRanges=[],this.version=0,this.uuid=Ni()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ni()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xr=new H;class wu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.applyMatrix4(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.applyNormalMatrix(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Xr.fromBufferAttribute(this,n),Xr.transformDirection(e),this.setXYZ(n,Xr.x,Xr.y,Xr.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Zr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Rt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Zr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Zr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Zr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Zr(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rt(n,this.array),r=Rt(r,this.array),i=Rt(i,this.array),o=Rt(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){tm("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new wu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){tm("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ZP extends Hr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pc;const id=new H,mc=new H,gc=new H,vc=new we,od=new we,H5=new Et,Tv=new H,ad=new H,Pv=new H,_N=new we,fw=new we,SN=new we;class $5 extends Wt{constructor(e=new ZP){if(super(),this.isSprite=!0,this.type="Sprite",pc===void 0){pc=new Tt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new hS(n,5);pc.setIndex([0,1,2,0,2,3]),pc.setAttribute("position",new wu(r,3,0,!1)),pc.setAttribute("uv",new wu(r,2,3,!1))}this.geometry=pc,this.material=e,this.center=new we(.5,.5),this.count=1}raycast(e,n){e.camera===null&&gt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),mc.setFromMatrixScale(this.matrixWorld),H5.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&mc.multiplyScalar(-gc.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;Cv(Tv.set(-.5,-.5,0),gc,a,mc,i,o),Cv(ad.set(.5,-.5,0),gc,a,mc,i,o),Cv(Pv.set(.5,.5,0),gc,a,mc,i,o),_N.set(0,0),fw.set(1,0),SN.set(1,1);let s=e.ray.intersectTriangle(Tv,ad,Pv,!1,id);if(s===null&&(Cv(ad.set(-.5,.5,0),gc,a,mc,i,o),fw.set(0,1),s=e.ray.intersectTriangle(Tv,Pv,ad,!1,id),s===null))return;const l=e.ray.origin.distanceTo(id);l<e.near||l>e.far||n.push({distance:l,point:id.clone(),uv:hi.getInterpolation(id,Tv,ad,Pv,_N,fw,SN,new we),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Cv(t,e,n,r,i,o){vc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(od.x=o*vc.x-i*vc.y,od.y=i*vc.x+o*vc.y):od.copy(vc),t.copy(e),t.x+=od.x,t.y+=od.y,t.applyMatrix4(H5)}const Ov=new H,bN=new H;class G5 extends Wt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ov.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ov);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ov.setFromMatrixPosition(e.matrixWorld),bN.setFromMatrixPosition(this.matrixWorld);const r=Ov.distanceTo(bN)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const wN=new H,MN=new fn,EN=new fn,Zve=new H,AN=new Et,Rv=new H,hw=new br,TN=new Et,dw=new Iu;class W5 extends qn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=dA,this.bindMatrix=new Et,this.bindMatrixInverse=new Et,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Vr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Rv),this.boundingBox.expandByPoint(Rv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new br),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Rv),this.boundingSphere.expandByPoint(Rv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hw.copy(this.boundingSphere),hw.applyMatrix4(i),e.ray.intersectsSphere(hw)!==!1&&(TN.copy(i).invert(),dw.copy(e.ray).applyMatrix4(TN),!(this.boundingBox!==null&&dw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,dw)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new fn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===dA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===w5?this.bindMatrixInverse.copy(this.bindMatrix).invert():qe("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;MN.fromBufferAttribute(i.attributes.skinIndex,e),EN.fromBufferAttribute(i.attributes.skinWeight,e),wN.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=EN.getComponent(o);if(a!==0){const s=MN.getComponent(o);AN.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Zve.copy(wN).applyMatrix4(AN),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class JP extends Wt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Do extends kn{constructor(e=null,n=1,r=1,i,o,a,s,l,u=Vn,c=Vn,f,p){super(null,a,s,l,u,c,i,o,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const PN=new Et,Jve=new Et;class dS{constructor(e=[],n=[]){this.uuid=Ni(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){qe("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Et)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Et;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:Jve;PN.multiplyMatrices(s,n[o]),PN.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new dS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Do(n,e,e,Br,Qr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(qe("Skeleton: No bone found with UUID:",o),a=new JP),this.bones.push(a),this.boneInverses.push(new Et().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class zf extends ln{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yc=new Et,CN=new Et,Iv=[],ON=new Vr,Qve=new Et,sd=new qn,ld=new br;class X5 extends qn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new zf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Qve)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Vr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yc),ON.copy(e.boundingBox).applyMatrix4(yc),this.boundingBox.union(ON)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new br),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yc),ld.copy(e.boundingSphere).applyMatrix4(yc),this.boundingSphere.union(ld)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(sd.geometry=this.geometry,sd.material=this.material,sd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ld.copy(this.boundingSphere),ld.applyMatrix4(r),e.ray.intersectsSphere(ld)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,yc),CN.multiplyMatrices(r,yc),sd.matrixWorld=CN,sd.raycast(e,Iv);for(let a=0,s=Iv.length;a<s;a++){const l=Iv[a];l.instanceId=o,l.object=this,n.push(l)}Iv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new zf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Do(new Float32Array(i*this.count),i,this.count,nS,Qr));const o=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const pw=new H,eye=new H,tye=new Ot;class Zo{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=pw.subVectors(r,n).cross(eye.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(pw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||tye.getNormalMatrix(e),i=this.coplanarPoint(pw).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ml=new br,nye=new we(.5,.5),Lv=new H;class lh{constructor(e=new Zo,n=new Zo,r=new Zo,i=new Zo,o=new Zo,a=new Zo){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ii,r=!1){const i=this.planes,o=e.elements,a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],f=o[5],p=o[6],m=o[7],v=o[8],x=o[9],y=o[10],g=o[11],_=o[12],S=o[13],M=o[14],w=o[15];if(i[0].setComponents(u-a,m-c,g-v,w-_).normalize(),i[1].setComponents(u+a,m+c,g+v,w+_).normalize(),i[2].setComponents(u+s,m+f,g+x,w+S).normalize(),i[3].setComponents(u-s,m-f,g-x,w-S).normalize(),r)i[4].setComponents(l,p,y,M).normalize(),i[5].setComponents(u-l,m-p,g-y,w-M).normalize();else if(i[4].setComponents(u-l,m-p,g-y,w-M).normalize(),n===Ii)i[5].setComponents(u+l,m+p,g+y,w+M).normalize();else if(n===kf)i[5].setComponents(l,p,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ml.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ml.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ml)}intersectsSprite(e){Ml.center.set(0,0,0);const n=nye.distanceTo(e.center);return Ml.radius=.7071067811865476+n,Ml.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ml)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Lv.x=i.normal.x>0?e.max.x:e.min.x,Lv.y=i.normal.y>0?e.max.y:e.min.y,Lv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Lv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Xo=new Et,Yo=new lh;class pS{constructor(){this.coordinateSystem=Ii}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Yo.setFromProjectionMatrix(Xo,i.coordinateSystem,i.reversedDepth),Yo.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Yo.setFromProjectionMatrix(Xo,i.coordinateSystem,i.reversedDepth),Yo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Yo.setFromProjectionMatrix(Xo,i.coordinateSystem,i.reversedDepth),Yo.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Yo.setFromProjectionMatrix(Xo,i.coordinateSystem,i.reversedDepth),Yo.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Yo.setFromProjectionMatrix(Xo,i.coordinateSystem,i.reversedDepth),Yo.containsPoint(e))return!0}return!1}clone(){return new pS}}function mw(t,e){return t-e}function rye(t,e){return t.z-e.z}function iye(t,e){return e.z-t.z}class oye{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const li=new Et,aye=new nt(1,1,1),RN=new lh,sye=new pS,Nv=new Vr,El=new br,ud=new H,IN=new H,lye=new H,gw=new oye,Nr=new qn,Dv=[];function uye(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Al(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class Y5 extends qn{constructor(e,n,r=n*2,i){super(new Tt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Do(n,e,e,Br,Qr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Do(n,e,e,Tm,lo);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Do(n,e,e,Br,Qr);r.colorSpace=Vt.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:u}=a,c=new s.constructor(r*l),f=new ln(c,l,u);n.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new ln(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,li),this.getBoundingBoxAt(o,Nv).applyMatrix4(li),e.union(Nv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new br);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,li),this.getBoundingSphereAt(o,El).applyMatrix4(li),e.union(El)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(mw),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;li.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(aye.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(mw),l=this._availableGeometryIds.shift(),o[l]=i):(l=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._geometryInfo[e];if(i&&a.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const c in r.attributes){const f=n.getAttribute(c),p=r.getAttribute(c);uye(f,p,l);const m=f.itemSize;for(let v=f.count,x=u;v<x;v++){const y=l+v;for(let g=0;g<m;g++)p.setComponent(y,g,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,u*m)}if(i){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let p=0;p<a.count;p++)o.setX(c+p,l+a.getX(p));for(let p=a.count,m=f;p<m;p++)o.setX(c+p,l);o.needsUpdate=!0,o.addUpdateRange(c,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,s)=>s).sort((a,s)=>r[a].vertexStart-r[s].vertexStart),o=this.geometry;for(let a=0,s=r.length;a<s;a++){const l=i[a],u=r[l];if(u.active!==!1){if(o.index!==null){if(u.indexStart!==n){const{indexStart:c,vertexStart:f,reservedIndexCount:p}=u,m=o.index,v=m.array,x=e-f;for(let y=c;y<c+p;y++)v[y]=v[y]+x;m.array.copyWithin(n,c,c+p),m.addUpdateRange(n,p),m.needsUpdate=!0,u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,p=o.attributes;for(const m in p){const v=p[m],{array:x,itemSize:y}=v;x.copyWithin(e*y,c*y,(c+f)*y),v.addUpdateRange(e*y,f*y),v.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=o.index?u.indexStart:u.vertexStart,this._nextIndexStart=o.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new Vr,a=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;a&&(c=a.getX(c)),o.expandByPoint(ud.fromBufferAttribute(s,c))}i.boundingBox=o}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new br;this.getBoundingBoxAt(e,Nv),Nv.getCenter(o.center);const a=r.index,s=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;a&&(f=a.getX(f)),ud.fromBufferAttribute(s,f),l=Math.max(l,o.center.distanceToSquared(ud))}o.radius=Math.sqrt(l),i.boundingSphere=o}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(mw);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);Al(this._multiDrawCounts,i),Al(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Al(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Al(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Al(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Tt,this._initializeGeometry(o));const a=this.geometry;o.index&&Al(o.index.array,a.index.array);for(const s in o.attributes)Al(o.attributes[s].array,a.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,a=this.geometry;Nr.material=this.material,Nr.geometry.index=a.index,Nr.geometry.attributes=a.attributes,Nr.geometry.boundingBox===null&&(Nr.geometry.boundingBox=new Vr),Nr.geometry.boundingSphere===null&&(Nr.geometry.boundingSphere=new br);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,c=i[u];Nr.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,Nr.matrixWorld).premultiply(o),this.getBoundingBoxAt(u,Nr.geometry.boundingBox),this.getBoundingSphereAt(u,Nr.geometry.boundingSphere),Nr.raycast(e,Dv);for(let f=0,p=Dv.length;f<p;f++){const m=Dv[f];m.object=this,m.batchId=s,n.push(m)}Dv.length=0}Nr.material=null,Nr.geometry.index=null,Nr.geometry.attributes={},Nr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,x=r.isArrayCamera?sye:RN;p&&!r.isArrayCamera&&(li.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RN.setFromProjectionMatrix(li,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){li.copy(this.matrixWorld).invert(),ud.setFromMatrixPosition(r.matrixWorld).applyMatrix4(li),IN.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(li);for(let S=0,M=l.length;S<M;S++)if(l[S].visible&&l[S].active){const w=l[S].geometryIndex;this.getMatrixAt(S,li),this.getBoundingSphereAt(w,El).applyMatrix4(li);let A=!1;if(p&&(A=!x.intersectsSphere(El,r)),!A){const T=f[w],R=lye.subVectors(El.center,ud).dot(IN);gw.push(T.start,T.count,R,S)}}const g=gw.list,_=this.customSort;_===null?g.sort(o.transparent?iye:rye):_.call(this,g,r);for(let S=0,M=g.length;S<M;S++){const w=g[S];u[y]=w.start*s,c[y]=w.count,v[y]=w.index,y++}gw.reset()}else for(let g=0,_=l.length;g<_;g++)if(l[g].visible&&l[g].active){const S=l[g].geometryIndex;let M=!1;if(p&&(this.getMatrixAt(g,li),this.getBoundingSphereAt(S,El).applyMatrix4(li),M=!x.intersectsSphere(El,r)),!M){const w=f[S];u[y]=w.start*s,c[y]=w.count,v[y]=g,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class ii extends Hr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ux=new H,Fx=new H,LN=new Et,cd=new Iu,kv=new br,vw=new H,NN=new H;class Zs extends Wt{constructor(e=new Tt,n=new ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)Ux.fromBufferAttribute(n,i-1),Fx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Ux.distanceTo(Fx);e.setAttribute("lineDistance",new ut(r,1))}else qe("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kv.copy(r.boundingSphere),kv.applyMatrix4(i),kv.radius+=o,e.ray.intersectsSphere(kv)===!1)return;LN.copy(i).invert(),cd.copy(e.ray).applyMatrix4(LN);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,p=r.attributes.position;if(c!==null){const m=Math.max(0,a.start),v=Math.min(c.count,a.start+a.count);for(let x=m,y=v-1;x<y;x+=u){const g=c.getX(x),_=c.getX(x+1),S=Uv(this,e,cd,l,g,_,x);S&&n.push(S)}if(this.isLineLoop){const x=c.getX(v-1),y=c.getX(m),g=Uv(this,e,cd,l,x,y,v-1);g&&n.push(g)}}else{const m=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let x=m,y=v-1;x<y;x+=u){const g=Uv(this,e,cd,l,x,x+1,x);g&&n.push(g)}if(this.isLineLoop){const x=Uv(this,e,cd,l,v-1,m,v-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function Uv(t,e,n,r,i,o,a){const s=t.geometry.attributes.position;if(Ux.fromBufferAttribute(s,i),Fx.fromBufferAttribute(s,o),n.distanceSqToSegment(Ux,Fx,vw,NN)>r)return;vw.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(vw);if(!(u<e.near||u>e.far))return{distance:u,point:NN.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const DN=new H,kN=new H;class ga extends Zs{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)DN.fromBufferAttribute(n,i),kN.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+DN.distanceTo(kN);e.setAttribute("lineDistance",new ut(r,1))}else qe("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class q5 extends Zs{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class QP extends Hr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const UN=new Et,gA=new Iu,Fv=new br,Bv=new H;class K5 extends Wt{constructor(e=new Tt,n=new QP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Fv.copy(r.boundingSphere),Fv.applyMatrix4(i),Fv.radius+=o,e.ray.intersectsSphere(Fv)===!1)return;UN.copy(i).invert(),gA.copy(e.ray).applyMatrix4(UN);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let v=p,x=m;v<x;v++){const y=u.getX(v);Bv.fromBufferAttribute(f,y),FN(Bv,y,l,i,e,n,this)}}else{const p=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let v=p,x=m;v<x;v++)Bv.fromBufferAttribute(f,v),FN(Bv,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function FN(t,e,n,r,i,o,a){const s=gA.distanceSqToPoint(t);if(s<n){const l=new H;gA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Z5 extends kn{constructor(e,n,r,i,o=bn,a=bn,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class cye extends Z5{constructor(e,n,r,i,o,a,s,l){super({},e,n,r,i,o,a,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class fye extends kn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Vn,this.minFilter=Vn,this.generateMipmaps=!1,this.needsUpdate=!0}}class mS extends kn{constructor(e,n,r,i,o,a,s,l,u,c,f,p){super(null,a,s,l,u,c,i,o,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hye extends mS{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=mi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dye extends mS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,fa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class pye extends kn{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vf extends kn{constructor(e,n,r=lo,i,o,a,s=Vn,l=Vn,u,c=da,f=1){if(c!==da&&c!==Ns)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:n,depth:f};super(p,i,o,a,s,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ds(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class J5 extends Vf{constructor(e,n=lo,r=fa,i,o,a=Vn,s=Vn,l,u=da){const c={width:e,height:e,depth:1},f=[c,c,c,c,c,c];super(e,e,n,r,i,o,a,s,l,u),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class eC extends kn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class gS extends Tt{constructor(e=1,n=1,r=4,i=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:o},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),o=Math.max(1,Math.floor(o));const a=[],s=[],l=[],u=[],c=n/2,f=Math.PI/2*e,p=n,m=2*f+p,v=r*2+o,x=i+1,y=new H,g=new H;for(let _=0;_<=v;_++){let S=0,M=0,w=0,A=0;if(_<=r){const P=_/r,O=P*Math.PI/2;M=-c-e*Math.cos(O),w=e*Math.sin(O),A=-e*Math.cos(O),S=P*f}else if(_<=r+o){const P=(_-r)/o;M=-c+P*n,w=e,A=0,S=f+P*p}else{const P=(_-r-o)/r,O=P*Math.PI/2;M=c+e*Math.sin(O),w=e*Math.cos(O),A=e*Math.sin(O),S=f+p+P*f}const T=Math.max(0,Math.min(1,S/m));let R=0;_===0?R=.5/i:_===v&&(R=-.5/i);for(let P=0;P<=i;P++){const O=P/i,L=O*Math.PI*2,k=Math.sin(L),F=Math.cos(L);g.x=-w*F,g.y=M,g.z=w*k,s.push(g.x,g.y,g.z),y.set(-w*F,A,w*k),y.normalize(),l.push(y.x,y.y,y.z),u.push(O+R,T)}if(_>0){const P=(_-1)*x;for(let O=0;O<i;O++){const L=P+O,k=P+O+1,F=_*x+O,X=_*x+O+1;a.push(L,k,F),a.push(k,X,F)}}}this.setIndex(a),this.setAttribute("position",new ut(s,3)),this.setAttribute("normal",new ut(l,3)),this.setAttribute("uv",new ut(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class vS extends Tt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new H,c=new we;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[p]/e+1)/2,c.y=(a[p+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new ut(a,3)),this.setAttribute("normal",new ut(s,3)),this.setAttribute("uv",new ut(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Om extends Tt{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],p=[],m=[];let v=0;const x=[],y=r/2;let g=0;_(),a===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new ut(f,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function _(){const M=new H,w=new H;let A=0;const T=(n-e)/r;for(let R=0;R<=o;R++){const P=[],O=R/o,L=O*(n-e)+e;for(let k=0;k<=i;k++){const F=k/i,X=F*l+s,G=Math.sin(X),q=Math.cos(X);w.x=L*G,w.y=-O*r+y,w.z=L*q,f.push(w.x,w.y,w.z),M.set(G,T,q).normalize(),p.push(M.x,M.y,M.z),m.push(F,1-O),P.push(v++)}x.push(P)}for(let R=0;R<i;R++)for(let P=0;P<o;P++){const O=x[P][R],L=x[P+1][R],k=x[P+1][R+1],F=x[P][R+1];(e>0||P!==0)&&(c.push(O,L,F),A+=3),(n>0||P!==o-1)&&(c.push(L,k,F),A+=3)}u.addGroup(g,A,0),g+=A}function S(M){const w=v,A=new we,T=new H;let R=0;const P=M===!0?e:n,O=M===!0?1:-1;for(let k=1;k<=i;k++)f.push(0,y*O,0),p.push(0,O,0),m.push(.5,.5),v++;const L=v;for(let k=0;k<=i;k++){const X=k/i*l+s,G=Math.cos(X),q=Math.sin(X);T.x=P*q,T.y=y*O,T.z=P*G,f.push(T.x,T.y,T.z),p.push(0,O,0),A.x=G*.5+.5,A.y=q*.5*O+.5,m.push(A.x,A.y),v++}for(let k=0;k<i;k++){const F=w+k,X=L+k;M===!0?c.push(X,X+1,F):c.push(X+1,X,F),R+=3}u.addGroup(g,R,M===!0?1:2),g+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Om(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Rm extends Om{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new Rm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ll extends Tt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new ut(o,3)),this.setAttribute("normal",new ut(o.slice(),3)),this.setAttribute("uv",new ut(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const S=new H,M=new H,w=new H;for(let A=0;A<n.length;A+=3)m(n[A+0],S),m(n[A+1],M),m(n[A+2],w),l(S,M,w,_)}function l(_,S,M,w){const A=w+1,T=[];for(let R=0;R<=A;R++){T[R]=[];const P=_.clone().lerp(M,R/A),O=S.clone().lerp(M,R/A),L=A-R;for(let k=0;k<=L;k++)k===0&&R===A?T[R][k]=P:T[R][k]=P.clone().lerp(O,k/L)}for(let R=0;R<A;R++)for(let P=0;P<2*(A-R)-1;P++){const O=Math.floor(P/2);P%2===0?(p(T[R][O+1]),p(T[R+1][O]),p(T[R][O])):(p(T[R][O+1]),p(T[R+1][O+1]),p(T[R+1][O]))}}function u(_){const S=new H;for(let M=0;M<o.length;M+=3)S.x=o[M+0],S.y=o[M+1],S.z=o[M+2],S.normalize().multiplyScalar(_),o[M+0]=S.x,o[M+1]=S.y,o[M+2]=S.z}function c(){const _=new H;for(let S=0;S<o.length;S+=3){_.x=o[S+0],_.y=o[S+1],_.z=o[S+2];const M=y(_)/2/Math.PI+.5,w=g(_)/Math.PI+.5;a.push(M,1-w)}v(),f()}function f(){for(let _=0;_<a.length;_+=6){const S=a[_+0],M=a[_+2],w=a[_+4],A=Math.max(S,M,w),T=Math.min(S,M,w);A>.9&&T<.1&&(S<.2&&(a[_+0]+=1),M<.2&&(a[_+2]+=1),w<.2&&(a[_+4]+=1))}}function p(_){o.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const _=new H,S=new H,M=new H,w=new H,A=new we,T=new we,R=new we;for(let P=0,O=0;P<o.length;P+=9,O+=6){_.set(o[P+0],o[P+1],o[P+2]),S.set(o[P+3],o[P+4],o[P+5]),M.set(o[P+6],o[P+7],o[P+8]),A.set(a[O+0],a[O+1]),T.set(a[O+2],a[O+3]),R.set(a[O+4],a[O+5]),w.copy(_).add(S).add(M).divideScalar(3);const L=y(w);x(A,O+0,_,L),x(T,O+2,S,L),x(R,O+4,M,L)}}function x(_,S,M,w){w<0&&_.x===1&&(a[S]=_.x-1),M.x===0&&M.z===0&&(a[S]=w/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ll(e.vertices,e.indices,e.radius,e.detail)}}class yS extends ll{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yS(e.radius,e.detail)}}const zv=new H,Vv=new H,yw=new H,jv=new hi;class Q5 extends Tt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(lu*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:x,b:y,c:g}=jv;if(x.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),g.fromBufferAttribute(s,u[2]),jv.getNormal(yw),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=f[_],w=f[S],A=jv[c[_]],T=jv[c[S]],R=`${M}_${w}`,P=`${w}_${M}`;P in p&&p[P]?(yw.dot(p[P].normal)<=o&&(m.push(A.x,A.y,A.z),m.push(T.x,T.y,T.z)),p[P]=null):R in p||(p[R]={index0:u[_],index1:u[S],normal:yw.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];zv.fromBufferAttribute(s,x),Vv.fromBufferAttribute(s,y),m.push(zv.x,zv.y,zv.z),m.push(Vv.x,Vv.y,Vv.z)}this.setAttribute("position",new ut(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Fo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){qe("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],p=r[i+1]-c,m=(a-c)/p;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new we:new H);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new H,i=[],o=[],a=[],s=new H,l=new Et;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new H)}o[0]=new H,a[0]=new H;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),a[m]=a[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const v=Math.acos(Mt(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(s,v))}a[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(Mt(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(m=-m);for(let v=1;v<=e;v++)o[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],o[v])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class xS extends Fo{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new we){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*f+this.aX,u=p*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class eV extends xS{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function tC(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,f){let p=(a-o)/u-(s-o)/(u+c)+(s-a)/c,m=(s-a)/c-(l-a)/(c+f)+(l-s)/f;p*=c,m*=c,i(a,s,p,m)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const Hv=new H,xw=new tC,_w=new tC,Sw=new tC;class tV extends Fo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new H){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(Hv.subVectors(i[0],i[1]).add(i[0]),u=Hv);const f=i[s%o],p=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(Hv.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=Hv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(c),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),xw.initNonuniformCatmullRom(u.x,f.x,p.x,c.x,v,x,y),_w.initNonuniformCatmullRom(u.y,f.y,p.y,c.y,v,x,y),Sw.initNonuniformCatmullRom(u.z,f.z,p.z,c.z,v,x,y)}else this.curveType==="catmullrom"&&(xw.initCatmullRom(u.x,f.x,p.x,c.x,this.tension),_w.initCatmullRom(u.y,f.y,p.y,c.y,this.tension),Sw.initCatmullRom(u.z,f.z,p.z,c.z,this.tension));return r.set(xw.calc(l),_w.calc(l),Sw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function BN(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function mye(t,e){const n=1-t;return n*n*e}function gye(t,e){return 2*(1-t)*t*e}function vye(t,e){return t*t*e}function $d(t,e,n,r){return mye(t,e)+gye(t,n)+vye(t,r)}function yye(t,e){const n=1-t;return n*n*n*e}function xye(t,e){const n=1-t;return 3*n*n*t*e}function _ye(t,e){return 3*(1-t)*t*t*e}function Sye(t,e){return t*t*t*e}function Gd(t,e,n,r,i){return yye(t,e)+xye(t,n)+_ye(t,r)+Sye(t,i)}class nC extends Fo{constructor(e=new we,n=new we,r=new we,i=new we){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new we){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Gd(e,i.x,o.x,a.x,s.x),Gd(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nV extends Fo{constructor(e=new H,n=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new H){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Gd(e,i.x,o.x,a.x,s.x),Gd(e,i.y,o.y,a.y,s.y),Gd(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rC extends Fo{constructor(e=new we,n=new we){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new we){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new we){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rV extends Fo{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iC extends Fo{constructor(e=new we,n=new we,r=new we){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new we){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set($d(e,i.x,o.x,a.x),$d(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oC extends Fo{constructor(e=new H,n=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new H){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set($d(e,i.x,o.x,a.x),$d(e,i.y,o.y,a.y),$d(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aC extends Fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new we){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(BN(s,l.x,u.x,c.x,f.x),BN(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new we().fromArray(i))}return this}}var Bx=Object.freeze({__proto__:null,ArcCurve:eV,CatmullRomCurve3:tV,CubicBezierCurve:nC,CubicBezierCurve3:nV,EllipseCurve:xS,LineCurve:rC,LineCurve3:rV,QuadraticBezierCurve:iC,QuadraticBezierCurve3:oC,SplineCurve:aC});class iV extends Fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Bx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Bx[i.type]().fromJSON(i))}return this}}class zx extends iV{constructor(e){super(),this.type="Path",this.currentPoint=new we,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new rC(this.currentPoint.clone(),new we(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new iC(this.currentPoint.clone(),new we(e,n),new we(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new nC(this.currentPoint.clone(),new we(e,n),new we(r,i),new we(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new aC(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const u=new xS(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cu extends zx{constructor(e){super(e),this.uuid=Ni(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new zx().fromJSON(i))}return this}}function bye(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=oV(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u;if(r&&(o=Tye(t,e,o,n)),t.length>80*n){s=t[0],l=t[1];let c=s,f=l;for(let p=n;p<i;p+=n){const m=t[p],v=t[p+1];m<s&&(s=m),v<l&&(l=v),m>c&&(c=m),v>f&&(f=v)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return nm(o,a,n,s,l,u,0),a}function oV(t,e,n,r,i){let o;if(i===Fye(t,e,n,r)>0)for(let a=e;a<n;a+=r)o=zN(a/r|0,t[a],t[a+1],o);else for(let a=n-r;a>=e;a-=r)o=zN(a/r|0,t[a],t[a+1],o);return o&&jf(o,o.next)&&(im(o),o=o.next),o}function Mu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(jf(n,n.next)||Pn(n.prev,n,n.next)===0)){if(im(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function nm(t,e,n,r,i,o,a){if(!t)return;!a&&o&&Iye(t,r,i,o);let s=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(o?Mye(t,r,i,o):wye(t)){e.push(l.i,t.i,u.i),im(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=Eye(Mu(t),e),nm(t,e,n,r,i,o,2)):a===2&&Aye(t,e,n,r,i,o):nm(Mu(t),e,n,r,i,o,1);break}}}function wye(t){const e=t.prev,n=t,r=t.next;if(Pn(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,u=r.y,c=Math.min(i,o,a),f=Math.min(s,l,u),p=Math.max(i,o,a),m=Math.max(s,l,u);let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=p&&v.y>=f&&v.y<=m&&Sd(i,s,o,l,a,u,v.x,v.y)&&Pn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Mye(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Pn(i,o,a)>=0)return!1;const s=i.x,l=o.x,u=a.x,c=i.y,f=o.y,p=a.y,m=Math.min(s,l,u),v=Math.min(c,f,p),x=Math.max(s,l,u),y=Math.max(c,f,p),g=vA(m,v,e,n,r),_=vA(x,y,e,n,r);let S=t.prevZ,M=t.nextZ;for(;S&&S.z>=g&&M&&M.z<=_;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=y&&S!==i&&S!==a&&Sd(s,c,l,f,u,p,S.x,S.y)&&Pn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&Sd(s,c,l,f,u,p,M.x,M.y)&&Pn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=y&&S!==i&&S!==a&&Sd(s,c,l,f,u,p,S.x,S.y)&&Pn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==a&&Sd(s,c,l,f,u,p,M.x,M.y)&&Pn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Eye(t,e){let n=t;do{const r=n.prev,i=n.next.next;!jf(r,i)&&sV(r,n,n.next,i)&&rm(r,i)&&rm(i,r)&&(e.push(r.i,n.i,i.i),im(n),im(n.next),n=t=i),n=n.next}while(n!==t);return Mu(n)}function Aye(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Dye(a,s)){let l=lV(a,s);a=Mu(a,a.next),l=Mu(l,l.next),nm(a,e,n,r,i,o,0),nm(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function Tye(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o++){const s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,u=oV(t,s,l,r,!1);u===u.next&&(u.steiner=!0),i.push(Nye(u))}i.sort(Pye);for(let o=0;o<i.length;o++)n=Cye(i[o],n);return n}function Pye(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Cye(t,e){const n=Oye(t,e);if(!n)return e;const r=lV(n,t);return Mu(r,r.next),Mu(n,n.next)}function Oye(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,a;if(jf(t,n))return n;do{if(jf(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>o&&(o=f,a=n.x<n.next.x?n:n.next,f===r))return a}n=n.next}while(n!==e);if(!a)return null;const s=a,l=a.x,u=a.y;let c=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&aV(i<u?r:o,i,l,u,i<u?o:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);rm(n,t)&&(f<c||f===c&&(n.x>a.x||n.x===a.x&&Rye(a,n)))&&(a=n,c=f)}n=n.next}while(n!==s);return a}function Rye(t,e){return Pn(t.prev,t,e.prev)<0&&Pn(e.next,t,t.next)<0}function Iye(t,e,n,r){let i=t;do i.z===0&&(i.z=vA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Lye(i)}function Lye(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let a=r,s=0;for(let u=0;u<n&&(s++,a=a.nextZ,!!a);u++);let l=n;for(;s>0||l>0&&a;)s!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,s--):(i=a,a=a.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=a}o.nextZ=null,n*=2}while(e>1);return t}function vA(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Nye(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function aV(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Sd(t,e,n,r,i,o,a,s){return!(t===a&&e===s)&&aV(t,e,n,r,i,o,a,s)}function Dye(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kye(t,e)&&(rm(t,e)&&rm(e,t)&&Uye(t,e)&&(Pn(t.prev,t,e.prev)||Pn(t,e.prev,e))||jf(t,e)&&Pn(t.prev,t,t.next)>0&&Pn(e.prev,e,e.next)>0)}function Pn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function jf(t,e){return t.x===e.x&&t.y===e.y}function sV(t,e,n,r){const i=Gv(Pn(t,e,n)),o=Gv(Pn(t,e,r)),a=Gv(Pn(n,r,t)),s=Gv(Pn(n,r,e));return!!(i!==o&&a!==s||i===0&&$v(t,n,e)||o===0&&$v(t,r,e)||a===0&&$v(n,t,r)||s===0&&$v(n,e,r))}function $v(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Gv(t){return t>0?1:t<0?-1:0}function kye(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function rm(t,e){return Pn(t.prev,t,t.next)<0?Pn(t,e,t.next)>=0&&Pn(t,t.prev,e)>=0:Pn(t,e,t.prev)<0||Pn(t,t.next,e)<0}function Uye(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function lV(t,e){const n=yA(t.i,t.x,t.y),r=yA(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function zN(t,e,n,r){const i=yA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function im(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yA(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Fye(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Bye{static triangulate(e,n,r=2){return bye(e,n,r)}}class Ro{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ro.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];VN(e),jN(r,e);let a=e.length;n.forEach(VN);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,jN(r,n[l]);const s=Bye.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function VN(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function jN(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _S extends Tt{constructor(e=new cu([new we(.5,.5),new we(-.5,.5),new we(-.5,-.5),new we(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new ut(i,3)),this.setAttribute("uv",new ut(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:zye;let S,M=!1,w,A,T,R;if(g){S=g.getSpacedPoints(c),M=!0,p=!1;const ce=g.isCatmullRomCurve3?g.closed:!1;w=g.computeFrenetFrames(c,ce),A=new H,T=new H,R=new H}p||(y=0,m=0,v=0,x=0);const P=s.extractPoints(u);let O=P.shape;const L=P.holes;if(!Ro.isClockWise(O)){O=O.reverse();for(let ce=0,Me=L.length;ce<Me;ce++){const Se=L[ce];Ro.isClockWise(Se)&&(L[ce]=Se.reverse())}}function F(ce){const Se=10000000000000001e-36;let Le=ce[0];for(let $=1;$<=ce.length;$++){const ct=$%ce.length,Ge=ce[ct],pt=Ge.x-Le.x,Re=Ge.y-Le.y,B=pt*pt+Re*Re,N=Math.max(Math.abs(Ge.x),Math.abs(Ge.y),Math.abs(Le.x),Math.abs(Le.y)),ee=Se*N*N;if(B<=ee){ce.splice(ct,1),$--;continue}Le=Ge}}F(O),L.forEach(F);const X=L.length,G=O;for(let ce=0;ce<X;ce++){const Me=L[ce];O=O.concat(Me)}function q(ce,Me,Se){return Me||gt("ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(Me,Se)}const W=O.length;function D(ce,Me,Se){let Le,$,ct;const Ge=ce.x-Me.x,pt=ce.y-Me.y,Re=Se.x-ce.x,B=Se.y-ce.y,N=Ge*Ge+pt*pt,ee=Ge*B-pt*Re;if(Math.abs(ee)>Number.EPSILON){const pe=Math.sqrt(N),Te=Math.sqrt(Re*Re+B*B),me=Me.x-pt/pe,ft=Me.y+Ge/pe,He=Se.x-B/Te,it=Se.y+Re/Te,_t=((He-me)*B-(it-ft)*Re)/(Ge*B-pt*Re);Le=me+Ge*_t-ce.x,$=ft+pt*_t-ce.y;const Pe=Le*Le+$*$;if(Pe<=2)return new we(Le,$);ct=Math.sqrt(Pe/2)}else{let pe=!1;Ge>Number.EPSILON?Re>Number.EPSILON&&(pe=!0):Ge<-Number.EPSILON?Re<-Number.EPSILON&&(pe=!0):Math.sign(pt)===Math.sign(B)&&(pe=!0),pe?(Le=-pt,$=Ge,ct=Math.sqrt(N)):(Le=Ge,$=pt,ct=Math.sqrt(N/2))}return new we(Le/ct,$/ct)}const V=[];for(let ce=0,Me=G.length,Se=Me-1,Le=ce+1;ce<Me;ce++,Se++,Le++)Se===Me&&(Se=0),Le===Me&&(Le=0),V[ce]=D(G[ce],G[Se],G[Le]);const z=[];let Q,ne=V.concat();for(let ce=0,Me=X;ce<Me;ce++){const Se=L[ce];Q=[];for(let Le=0,$=Se.length,ct=$-1,Ge=Le+1;Le<$;Le++,ct++,Ge++)ct===$&&(ct=0),Ge===$&&(Ge=0),Q[Le]=D(Se[Le],Se[ct],Se[Ge]);z.push(Q),ne=ne.concat(Q)}let de;if(y===0)de=Ro.triangulateShape(G,L);else{const ce=[],Me=[];for(let Se=0;Se<y;Se++){const Le=Se/y,$=m*Math.cos(Le*Math.PI/2),ct=v*Math.sin(Le*Math.PI/2)+x;for(let Ge=0,pt=G.length;Ge<pt;Ge++){const Re=q(G[Ge],V[Ge],ct);_e(Re.x,Re.y,-$),Le===0&&ce.push(Re)}for(let Ge=0,pt=X;Ge<pt;Ge++){const Re=L[Ge];Q=z[Ge];const B=[];for(let N=0,ee=Re.length;N<ee;N++){const pe=q(Re[N],Q[N],ct);_e(pe.x,pe.y,-$),Le===0&&B.push(pe)}Le===0&&Me.push(B)}}de=Ro.triangulateShape(ce,Me)}const Fe=de.length,et=v+x;for(let ce=0;ce<W;ce++){const Me=p?q(O[ce],ne[ce],et):O[ce];M?(T.copy(w.normals[0]).multiplyScalar(Me.x),A.copy(w.binormals[0]).multiplyScalar(Me.y),R.copy(S[0]).add(T).add(A),_e(R.x,R.y,R.z)):_e(Me.x,Me.y,0)}for(let ce=1;ce<=c;ce++)for(let Me=0;Me<W;Me++){const Se=p?q(O[Me],ne[Me],et):O[Me];M?(T.copy(w.normals[ce]).multiplyScalar(Se.x),A.copy(w.binormals[ce]).multiplyScalar(Se.y),R.copy(S[ce]).add(T).add(A),_e(R.x,R.y,R.z)):_e(Se.x,Se.y,f/c*ce)}for(let ce=y-1;ce>=0;ce--){const Me=ce/y,Se=m*Math.cos(Me*Math.PI/2),Le=v*Math.sin(Me*Math.PI/2)+x;for(let $=0,ct=G.length;$<ct;$++){const Ge=q(G[$],V[$],Le);_e(Ge.x,Ge.y,f+Se)}for(let $=0,ct=L.length;$<ct;$++){const Ge=L[$];Q=z[$];for(let pt=0,Re=Ge.length;pt<Re;pt++){const B=q(Ge[pt],Q[pt],Le);M?_e(B.x,B.y+S[c-1].y,S[c-1].x+Se):_e(B.x,B.y,f+Se)}}}se(),xe();function se(){const ce=i.length/3;if(p){let Me=0,Se=W*Me;for(let Le=0;Le<Fe;Le++){const $=de[Le];Ee($[2]+Se,$[1]+Se,$[0]+Se)}Me=c+y*2,Se=W*Me;for(let Le=0;Le<Fe;Le++){const $=de[Le];Ee($[0]+Se,$[1]+Se,$[2]+Se)}}else{for(let Me=0;Me<Fe;Me++){const Se=de[Me];Ee(Se[2],Se[1],Se[0])}for(let Me=0;Me<Fe;Me++){const Se=de[Me];Ee(Se[0]+W*c,Se[1]+W*c,Se[2]+W*c)}}r.addGroup(ce,i.length/3-ce,0)}function xe(){const ce=i.length/3;let Me=0;je(G,Me),Me+=G.length;for(let Se=0,Le=L.length;Se<Le;Se++){const $=L[Se];je($,Me),Me+=$.length}r.addGroup(ce,i.length/3-ce,1)}function je(ce,Me){let Se=ce.length;for(;--Se>=0;){const Le=Se;let $=Se-1;$<0&&($=ce.length-1);for(let ct=0,Ge=c+y*2;ct<Ge;ct++){const pt=W*ct,Re=W*(ct+1),B=Me+Le+pt,N=Me+$+pt,ee=Me+$+Re,pe=Me+Le+Re;Be(B,N,ee,pe)}}}function _e(ce,Me,Se){l.push(ce),l.push(Me),l.push(Se)}function Ee(ce,Me,Se){ve(ce),ve(Me),ve(Se);const Le=i.length/3,$=_.generateTopUV(r,i,Le-3,Le-2,Le-1);$e($[0]),$e($[1]),$e($[2])}function Be(ce,Me,Se,Le){ve(ce),ve(Me),ve(Le),ve(Me),ve(Se),ve(Le);const $=i.length/3,ct=_.generateSideWallUV(r,i,$-6,$-3,$-2,$-1);$e(ct[0]),$e(ct[1]),$e(ct[3]),$e(ct[1]),$e(ct[2]),$e(ct[3])}function ve(ce){i.push(l[ce*3+0]),i.push(l[ce*3+1]),i.push(l[ce*3+2])}function $e(ce){o.push(ce.x),o.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Vye(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Bx[i.type]().fromJSON(i)),new _S(r,e.options)}}const zye={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new we(o,a),new we(s,l),new we(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[o*3],y=e[o*3+1],g=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new we(a,1-l),new we(u,1-f),new we(p,1-v),new we(x,1-g)]:[new we(s,1-l),new we(c,1-f),new we(m,1-v),new we(y,1-g)]}};function Vye(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class SS extends ll{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new SS(e.radius,e.detail)}}class bS extends Tt{constructor(e=[new we(0,-.5),new we(.5,0),new we(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Mt(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],u=[],c=1/n,f=new H,p=new we,m=new H,v=new H,x=new H;let y=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let _=0;_<=n;_++){const S=r+_*c*i,M=Math.sin(S),w=Math.cos(S);for(let A=0;A<=e.length-1;A++){f.x=e[A].x*M,f.y=e[A].y,f.z=e[A].x*w,a.push(f.x,f.y,f.z),p.x=_/n,p.y=A/(e.length-1),s.push(p.x,p.y);const T=l[3*A+0]*M,R=l[3*A+1],P=l[3*A+0]*w;u.push(T,R,P)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,w=M,A=M+e.length,T=M+e.length+1,R=M+1;o.push(w,A,R),o.push(T,R,A)}this.setIndex(o),this.setAttribute("position",new ut(a,3)),this.setAttribute("uv",new ut(s,2)),this.setAttribute("normal",new ut(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bS(e.points,e.segments,e.phiStart,e.phiLength)}}class Im extends ll{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Im(e.radius,e.detail)}}class uh extends Tt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,p=n/l,m=[],v=[],x=[],y=[];for(let g=0;g<c;g++){const _=g*p-a;for(let S=0;S<u;S++){const M=S*f-o;v.push(M,-_,0),x.push(0,0,1),y.push(S/s),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<s;_++){const S=_+u*g,M=_+u*(g+1),w=_+1+u*(g+1),A=_+1+u*g;m.push(S,M,A),m.push(M,w,A)}this.setIndex(m),this.setAttribute("position",new ut(v,3)),this.setAttribute("normal",new ut(x,3)),this.setAttribute("uv",new ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.width,e.height,e.widthSegments,e.heightSegments)}}class wS extends Tt{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const p=(n-e)/i,m=new H,v=new we;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=o+y/r*a;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,c.push(v.x,v.y)}f+=p}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const _=g+y,S=_,M=_+r+1,w=_+r+2,A=_+1;s.push(S,M,A),s.push(M,w,A)}}this.setIndex(s),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(u,3)),this.setAttribute("uv",new ut(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class MS extends Tt{constructor(e=new cu([new we(0,.5),new we(-.5,-.5),new we(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new ut(i,3)),this.setAttribute("normal",new ut(o,3)),this.setAttribute("uv",new ut(a,2));function u(c){const f=i.length/3,p=c.extractPoints(n);let m=p.shape;const v=p.holes;Ro.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const _=v[y];Ro.isClockWise(_)===!0&&(v[y]=_.reverse())}const x=Ro.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const _=v[y];m=m.concat(_)}for(let y=0,g=m.length;y<g;y++){const _=m[y];i.push(_.x,_.y,0),o.push(0,0,1),a.push(_.x,_.y)}for(let y=0,g=x.length;y<g;y++){const _=x[y],S=_[0]+f,M=_[1]+f,w=_[2]+f;r.push(S,M,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return jye(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new MS(r,e.curveSegments)}}function jye(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Lm extends Tt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],f=new H,p=new H,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const _=[],S=g/r;let M=0;g===0&&a===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let w=0;w<=n;w++){const A=w/n;f.x=-e*Math.cos(i+A*o)*Math.sin(a+S*s),f.y=e*Math.cos(a+S*s),f.z=e*Math.sin(i+A*o)*Math.sin(a+S*s),v.push(f.x,f.y,f.z),p.copy(f).normalize(),x.push(p.x,p.y,p.z),y.push(A+M,1-S),_.push(u++)}c.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const S=c[g][_+1],M=c[g][_],w=c[g+1][_],A=c[g+1][_+1];(g!==0||a>0)&&m.push(S,M,A),(g!==r-1||l<Math.PI)&&m.push(M,w,A)}this.setIndex(m),this.setAttribute("position",new ut(v,3)),this.setAttribute("normal",new ut(x,3)),this.setAttribute("uv",new ut(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ES extends ll{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ES(e.radius,e.detail)}}class AS extends Tt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new H,f=new H,p=new H;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*o,y=m/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(x),f.y=(e+n*Math.cos(y))*Math.sin(x),f.z=n*Math.sin(y),s.push(f.x,f.y,f.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),p.subVectors(f,c).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,_=(i+1)*m+v;a.push(x,y,_),a.push(y,g,_)}this.setIndex(a),this.setAttribute("position",new ut(s,3)),this.setAttribute("normal",new ut(l,3)),this.setAttribute("uv",new ut(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TS extends Tt{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new H,p=new H,m=new H,v=new H,x=new H,y=new H,g=new H;for(let S=0;S<=r;++S){const M=S/r*o*Math.PI*2;_(M,o,a,e,m),_(M+.01,o,a,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let w=0;w<=i;++w){const A=w/i*Math.PI*2,T=-n*Math.cos(A),R=n*Math.sin(A);f.x=m.x+(T*g.x+R*x.x),f.y=m.y+(T*g.y+R*x.y),f.z=m.z+(T*g.z+R*x.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),c.push(S/r),c.push(w/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const w=(i+1)*(S-1)+(M-1),A=(i+1)*S+(M-1),T=(i+1)*S+M,R=(i+1)*(S-1)+M;s.push(w,A,R),s.push(A,T,R)}this.setIndex(s),this.setAttribute("position",new ut(l,3)),this.setAttribute("normal",new ut(u,3)),this.setAttribute("uv",new ut(c,2));function _(S,M,w,A,T){const R=Math.cos(S),P=Math.sin(S),O=w/M*S,L=Math.cos(O);T.x=A*(2+L)*.5*R,T.y=A*(2+L)*P*.5,T.z=A*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class PS extends Tt{constructor(e=new oC(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new H,l=new H,u=new we;let c=new H;const f=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new ut(f,3)),this.setAttribute("normal",new ut(p,3)),this.setAttribute("uv",new ut(m,2));function x(){for(let S=0;S<n;S++)y(S);y(o===!1?n:0),_(),g()}function y(S){c=e.getPointAt(S/n,c);const M=a.normals[S],w=a.binormals[S];for(let A=0;A<=i;A++){const T=A/i*Math.PI*2,R=Math.sin(T),P=-Math.cos(T);l.x=P*M.x+R*w.x,l.y=P*M.y+R*w.y,l.z=P*M.z+R*w.z,l.normalize(),p.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let S=1;S<=n;S++)for(let M=1;M<=i;M++){const w=(i+1)*(S-1)+(M-1),A=(i+1)*S+(M-1),T=(i+1)*S+M,R=(i+1)*(S-1)+M;v.push(w,A,R),v.push(A,T,R)}}function _(){for(let S=0;S<=n;S++)for(let M=0;M<=i;M++)u.x=S/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new PS(new Bx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class uV extends Tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new H,o=new H;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],p=f.start,m=f.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=s.getX(v+y),_=s.getX(v+(y+1)%3);i.fromBufferAttribute(a,g),o.fromBufferAttribute(a,_),HN(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,f),HN(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new ut(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function HN(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var $N=Object.freeze({__proto__:null,BoxGeometry:Lu,CapsuleGeometry:gS,CircleGeometry:vS,ConeGeometry:Rm,CylinderGeometry:Om,DodecahedronGeometry:yS,EdgesGeometry:Q5,ExtrudeGeometry:_S,IcosahedronGeometry:SS,LatheGeometry:bS,OctahedronGeometry:Im,PlaneGeometry:uh,PolyhedronGeometry:ll,RingGeometry:wS,ShapeGeometry:MS,SphereGeometry:Lm,TetrahedronGeometry:ES,TorusGeometry:AS,TorusKnotGeometry:TS,TubeGeometry:PS,WireframeGeometry:uV});class cV extends Hr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sC extends uo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class lC extends Hr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fV extends lC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new we(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hV extends Hr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nt(16777215),this.specular=new nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Am,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dV extends Hr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class pV extends Hr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class mV extends Hr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Am,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uC extends Hr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=T5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cC extends Hr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class gV extends Hr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=al,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vV extends ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function eu(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function yV(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function xA(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function fC(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push(...a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function Hye(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){f.push(u.times[m]);for(let x=0;x<c;++x)p.push(u.values[m*c+x])}}f.length!==0&&(u.times=eu(f,u.times.constructor),u.values=eu(p,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function $ye(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===s.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=s.times.length-1;let x;if(o<=s.times[0]){const g=c,_=f-c;x=s.values.slice(g,_)}else if(o>=s.times[v]){const g=v*f+c,_=g+f-c;x=s.values.slice(g,_)}else{const g=s.createInterpolant(),_=c,S=f-c;g.evaluate(o),x=g.resultBuffer.slice(_,S)}l==="quaternion"&&new zr().fromArray(x).normalize().conjugate().toArray(x);const y=u.times.length;for(let g=0;g<y;++g){const _=g*m+p;if(l==="quaternion")zr.multiplyQuaternionsFlat(u.values,_,x,0,u.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)u.values[_+M]-=x[M]}}}return t.blendMode=$P,t}class Gye{static convertArray(e,n){return eu(e,n)}static isTypedArray(e){return k5(e)}static getKeyframeOrder(e){return yV(e)}static sortedArray(e,n,r){return xA(e,n,r)}static flattenJSON(e,n,r,i){fC(e,n,r,i)}static subclip(e,n,r,i,o=30){return Hye(e,n,r,i,o)}static makeClipAdditive(e,n=0,r=e,i=30){return $ye(e,n,r,i)}}class Nm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class xV extends Nm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jl,endingEnd:Jl}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Ql:o=e,s=2*n-r;break;case Zp:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ql:a=e,l=2*r-n;break;case Zp:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,_=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,S=(-1-m)*y+(1.5+m)*x+.5*v,M=m*y-m*x;for(let w=0;w!==s;++w)o[w]=g*a[c+w]+_*a[u+w]+S*a[l+w]+M*a[f+w];return o}}class hC extends Nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let p=0;p!==s;++p)o[p]=a[u+p]*f+a[l+p]*c;return o}}class _V extends Nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class po{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=eu(n,this.TimeBufferType),this.values=eu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:eu(e.times,Array),values:eu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new _V(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Kp:n=this.InterpolantFactoryMethodDiscrete;break;case kx:n=this.InterpolantFactoryMethodLinear;break;case Sy:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return qe("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kp;case this.InterpolantFactoryMethodLinear:return kx;case this.InterpolantFactoryMethodSmooth:return Sy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(gt("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(gt("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){gt("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){gt("KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&k5(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){gt("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Sy,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const x=n[f+v];if(x!==n[p+v]||x!==n[m+v]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,p=a*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[s+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}po.prototype.ValueTypeName="";po.prototype.TimeBufferType=Float32Array;po.prototype.ValueBufferType=Float32Array;po.prototype.DefaultInterpolation=kx;class Nu extends po{constructor(e,n,r){super(e,n,r)}}Nu.prototype.ValueTypeName="bool";Nu.prototype.ValueBufferType=Array;Nu.prototype.DefaultInterpolation=Kp;Nu.prototype.InterpolantFactoryMethodLinear=void 0;Nu.prototype.InterpolantFactoryMethodSmooth=void 0;class dC extends po{constructor(e,n,r,i){super(e,n,r,i)}}dC.prototype.ValueTypeName="color";class om extends po{constructor(e,n,r,i){super(e,n,r,i)}}om.prototype.ValueTypeName="number";class SV extends Nm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)zr.slerpFlat(o,0,a,u-s,a,u,l);return o}}class Dm extends po{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new SV(this.times,this.values,this.getValueSize(),e)}}Dm.prototype.ValueTypeName="quaternion";Dm.prototype.InterpolantFactoryMethodSmooth=void 0;class Du extends po{constructor(e,n,r){super(e,n,r)}}Du.prototype.ValueTypeName="string";Du.prototype.ValueBufferType=Array;Du.prototype.DefaultInterpolation=Kp;Du.prototype.InterpolantFactoryMethodLinear=void 0;Du.prototype.InterpolantFactoryMethodSmooth=void 0;class am extends po{constructor(e,n,r,i){super(e,n,r,i)}}am.prototype.ValueTypeName="vector";class sm{constructor(e="",n=-1,r=[],i=oS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ni(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(Xye(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o.userData=JSON.parse(e.userData||"{}"),o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let o=0,a=r.length;o!==a;++o)n.push(po.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=yV(l);l=xA(l,1,c),u=xA(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new om(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const f=c[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(qe("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return gt("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,v,x){if(m.length!==0){const y=[],g=[];fC(m,y,g,v),y.length!==0&&x.push(new f(p,y,g))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let _=0;_!==p[v].morphTargets.length;++_){const S=p[v];y.push(S.time),g.push(S.morphTarget===x?1:0)}i.push(new om(".morphTargetInfluence["+x+"]",y,g))}l=m.length*a}else{const m=".bones["+n[f].name+"]";r(am,m+".position",p,"pos",i),r(Dm,m+".quaternion",p,"rot",i),r(am,m+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Wye(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return om;case"vector":case"vector2":case"vector3":case"vector4":return am;case"color":return dC;case"quaternion":return Dm;case"bool":case"boolean":return Nu;case"string":return Du}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Xye(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Wye(t.type);if(t.times===void 0){const n=[],r=[];fC(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const na={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class pC{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],v=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const bV=new pC;class _i{constructor(e){this.manager=e!==void 0?e:bV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}_i.DEFAULT_MATERIAL_NAME="__DEFAULT";const Oa={};class Yye extends Error{constructor(e,n){super(e),this.response=n}}class es extends _i{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=na.get(`file:${e}`);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Oa[e]!==void 0){Oa[e].push({onLoad:n,onProgress:r,onError:i});return}Oa[e]=[],Oa[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&qe("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Oa[e],f=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){_();function _(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{x+=M.byteLength;const w=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let A=0,T=c.length;A<T;A++){const R=c[A];R.onProgress&&R.onProgress(w)}g.enqueue(M),_()}},S=>{g.error(S)})}}});return new Response(y)}else throw new Yye(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{na.add(`file:${e}`,u);const c=Oa[e];delete Oa[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Oa[e];if(c===void 0)throw this.manager.itemError(e),u;delete Oa[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qye extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new es(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):gt(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=sm.parse(e[r]);n.push(i)}return n}}class Kye extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new mS,l=new es(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(f){l.load(e[f],function(p){const m=o.parse(p,!0);a[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=bn),s.image=a,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)c(f);else l.load(e,function(f){const p=o.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){a[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)a[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),a[v].format=p.format,a[v].width=p.width,a[v].height=p.height}s.image=a}else s.image.width=p.width,s.image.height=p.height,s.mipmaps=p.mipmaps;p.mipmapCount===1&&(s.minFilter=bn),s.format=p.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}const xc=new WeakMap;class lm extends _i{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=na.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0);else{let f=xc.get(a);f===void 0&&(f=[],xc.set(a,f)),f.push({onLoad:n,onError:i})}return a}const s=em("img");function l(){c(),n&&n(this);const f=xc.get(this)||[];for(let p=0;p<f.length;p++){const m=f[p];m.onLoad&&m.onLoad(this)}xc.delete(this),o.manager.itemEnd(e)}function u(f){c(),i&&i(f),na.remove(`image:${e}`);const p=xc.get(this)||[];for(let m=0;m<p.length;m++){const v=p[m];v.onError&&v.onError(f)}xc.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),na.add(`image:${e}`,s),o.manager.itemStart(e),s.src=e,s}}class Zye extends _i{constructor(e){super(e)}load(e,n,r,i){const o=new Cm;o.colorSpace=ci;const a=new lm(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class Jye extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Do,s=new es(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let u;try{u=o.parse(l)}catch(c){if(i!==void 0)i(c);else{c(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:mi,a.wrapT=u.wrapT!==void 0?u.wrapT:mi,a.magFilter=u.magFilter!==void 0?u.magFilter:bn,a.minFilter=u.minFilter!==void 0?u.minFilter:bn,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=ta),u.mipmapCount===1&&(a.minFilter=bn),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class Qye extends _i{constructor(e){super(e)}load(e,n,r,i){const o=new kn,a=new lm(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class ul extends Wt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class wV extends ul{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new nt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const bw=new Et,GN=new H,WN=new H;class mC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new we(512,512),this.mapType=Kr,this.map=null,this.mapPass=null,this.matrix=new Et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lh,this._frameExtents=new we(1,1),this._viewportCount=1,this._viewports=[new fn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;GN.setFromMatrixPosition(e.matrixWorld),n.position.copy(GN),WN.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(WN),n.updateMatrixWorld(),bw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bw,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(bw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class e0e extends mC{constructor(){super(new zn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Ff*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class MV extends ul{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new e0e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class t0e extends mC{constructor(){super(new zn(90,1,.5,500)),this.isPointLightShadow=!0}}class EV extends ul{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new t0e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class $a extends Pm{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class n0e extends mC{constructor(){super(new $a(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class AV extends ul{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.shadow=new n0e}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class TV extends ul{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class PV extends ul{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class gC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class CV extends ul{constructor(e=new gC,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class CS extends _i{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new es(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):gt(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&qe("MaterialLoader: Undefined texture",o),n[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new nt().setHex(a.value);break;case"v2":i.uniforms[o].value=new we().fromArray(a.value);break;case"v3":i.uniforms[o].value=new H().fromArray(a.value);break;case"v4":i.uniforms[o].value=new fn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new Ot().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Et().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new we().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new we().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return CS.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:cV,SpriteMaterial:ZP,RawShaderMaterial:sC,ShaderMaterial:uo,PointsMaterial:QP,MeshPhysicalMaterial:fV,MeshStandardMaterial:lC,MeshPhongMaterial:hV,MeshToonMaterial:dV,MeshNormalMaterial:pV,MeshLambertMaterial:mV,MeshDepthMaterial:uC,MeshDistanceMaterial:cC,MeshBasicMaterial:sl,MeshMatcapMaterial:gV,LineDashedMaterial:vV,LineBasicMaterial:ii,Material:Hr};return new n[e]}}class _A{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class OV extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class RV extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new es(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):gt(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=o(m,y.buffer),_=$c(y.type,g),S=new hS(_,y.stride);return S.uuid=y.uuid,n[v]=S,S}function o(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const a=e.isInstancedBufferGeometry?new OV:new Tt,s=e.data.index;if(s!==void 0){const m=$c(s.type,s.array);a.setIndex(new ln(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new wu(y,v.itemSize,v.offset,v.normalized)}else{const y=$c(v.type,v.array),g=v.isInstancedBufferAttribute?zf:ln;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),a.setAttribute(m,x)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],x=[];for(let y=0,g=v.length;y<g;y++){const _=v[y];let S;if(_.isInterleavedBufferAttribute){const M=i(e.data,_.data);S=new wu(M,_.itemSize,_.offset,_.normalized)}else{const M=$c(_.type,_.array);S=new ln(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),x.push(S)}a.morphAttributes[m]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const x=f[m];a.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(a.boundingSphere=new br().fromJSON(p)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class r0e extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?_A.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new es(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),gt("ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?_A.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new es(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,o,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),n!==void 0){let f=!1;for(const p in a)if(a[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new cu().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new dS().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new RV;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in $N?s=$N[l.type].fromJSON(l,n):qe(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new CS;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=sm.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return l.data?{data:$c(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pC(n);o=new lm(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=s(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Do(g.data,g.width,g.height)))}i[f.uuid]=new Ds(m)}else{const m=s(f.url);i[f.uuid]=new Ds(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:$c(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new lm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],v=await o(m);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new Do(v.data,v.width,v.height)))}r[l.uuid]=new Ds(c)}else{const c=await o(l.url);r[l.uuid]=new Ds(c)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(qe("ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&qe('ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&qe("ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new Cm,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Do:c=new kn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,i0e)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],XN),c.wrapT=r(s.wrap[1],XN)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,YN)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,YN)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,o){let a;function s(p){return n[p]===void 0&&qe("ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];r[y]===void 0&&qe("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&qe("ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&qe("ObjectLoader: Undefined texture",p),i[p]}let c,f;switch(e.type){case"Scene":a=new KP,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new nt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new fS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new cS(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new zn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new $a(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new TV(e.color,e.intensity);break;case"DirectionalLight":a=new AV(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new EV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new PV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new MV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new wV(e.color,e.groundColor,e.intensity);break;case"LightProbe":const p=new gC().fromArray(e.sh);a=new CV(p,e.intensity);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),a=new W5(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),a=new qn(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const m=e.count,v=e.instanceMatrix,x=e.instanceColor;a=new X5(c,f,m),a.instanceMatrix=new zf(new Float32Array(v.array),16),x!==void 0&&(a.instanceColor=new zf(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),a=new Y5(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(y=>{let g=null,_=null;return y.boundingBox!==void 0&&(g=new Vr().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(_=new br().fromJSON(y.boundingSphere)),{...y,boundingBox:g,boundingSphere:_}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new br().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Vr().fromJSON(e.boundingBox));break;case"LOD":a=new G5;break;case"Line":a=new Zs(s(e.geometry),l(e.material));break;case"LineLoop":a=new q5(s(e.geometry),l(e.material));break;case"LineSegments":a=new ga(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new K5(s(e.geometry),l(e.material));break;case"Sprite":a=new $5(l(e.material));break;case"Group":a=new Gc;break;case"Bone":a=new JP;break;default:a=new Wt}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)a.add(this.parseObject(p[m],n,r,i,o))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];a.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=a.getObjectByProperty("uuid",v.object);x!==void 0&&a.addLevel(x,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?qe("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Wt}})}}const i0e={UVMapping:J_,CubeReflectionMapping:fa,CubeRefractionMapping:qs,EquirectangularReflectionMapping:Wp,EquirectangularRefractionMapping:Xp,CubeUVReflectionMapping:sh},XN={RepeatWrapping:Yp,ClampToEdgeWrapping:mi,MirroredRepeatWrapping:qp},YN={NearestFilter:Vn,NearestMipmapNearestFilter:UP,NearestMipmapLinearFilter:Hc,LinearFilter:bn,LinearMipmapNearestFilter:Fd,LinearMipmapLinearFilter:ta},ww=new WeakMap;class o0e extends _i{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&qe("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&qe("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=na.get(`image-bitmap:${e}`);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(u=>{if(ww.has(a)===!0)i&&i(ww.get(a)),o.manager.itemError(e),o.manager.itemEnd(e);else return n&&n(u),o.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(u){return na.add(`image-bitmap:${e}`,u),n&&n(u),o.manager.itemEnd(e),u}).catch(function(u){i&&i(u),ww.set(l,u),na.remove(`image-bitmap:${e}`),o.manager.itemError(e),o.manager.itemEnd(e)});na.add(`image-bitmap:${e}`,l),o.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Wv;class vC{static getContext(){return Wv===void 0&&(Wv=new(window.AudioContext||window.webkitAudioContext)),Wv}static setContext(e){Wv=e}}class a0e extends _i{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new es(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);vC.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):gt(l),o.manager.itemError(e)}}}const qN=new Et,KN=new Et,Tl=new Et;class s0e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Tl.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(lu*n.fov*.5)/n.zoom;let s,l;KN.elements[12]=-i,qN.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,Tl.elements[0]=2*n.near/(l-s),Tl.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Tl),s=-a*n.aspect-o,l=a*n.aspect-o,Tl.elements[0]=2*n.near/(l-s),Tl.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Tl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qN)}}class IV extends zn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class yC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Pl=new H,Mw=new zr,l0e=new H,Cl=new H,Ol=new H;class u0e extends Wt{constructor(){super(),this.type="AudioListener",this.context=vC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pl,Mw,l0e),Cl.set(0,0,-1).applyQuaternion(Mw),Ol.set(0,1,0).applyQuaternion(Mw),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Pl.x,r),n.positionY.linearRampToValueAtTime(Pl.y,r),n.positionZ.linearRampToValueAtTime(Pl.z,r),n.forwardX.linearRampToValueAtTime(Cl.x,r),n.forwardY.linearRampToValueAtTime(Cl.y,r),n.forwardZ.linearRampToValueAtTime(Cl.z,r),n.upX.linearRampToValueAtTime(Ol.x,r),n.upY.linearRampToValueAtTime(Ol.y,r),n.upZ.linearRampToValueAtTime(Ol.z,r)}else n.setPosition(Pl.x,Pl.y,Pl.z),n.setOrientation(Cl.x,Cl.y,Cl.z,Ol.x,Ol.y,Ol.z)}}class LV extends Wt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){qe("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){qe("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){qe("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){qe("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){qe("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(qe("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){qe("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(qe("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rl=new H,ZN=new zr,c0e=new H,Il=new H;class f0e extends LV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rl,ZN,c0e),Il.set(0,0,1).applyQuaternion(ZN);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Rl.x,r),n.positionY.linearRampToValueAtTime(Rl.y,r),n.positionZ.linearRampToValueAtTime(Rl.z,r),n.orientationX.linearRampToValueAtTime(Il.x,r),n.orientationY.linearRampToValueAtTime(Il.y,r),n.orientationZ.linearRampToValueAtTime(Il.z,r)}else n.setPosition(Rl.x,Rl.y,Rl.z),n.setOrientation(Il.x,Il.y,Il.z)}}class h0e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class NV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){zr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;zr.multiplyQuaternionsFlat(e,a,e,n,e,r),zr.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const xC="\\[\\]\\.:\\/",d0e=new RegExp("["+xC+"]","g"),_C="[^"+xC+"]",p0e="[^"+xC.replace("\\.","")+"]",m0e=/((?:WC+[\/:])*)/.source.replace("WC",_C),g0e=/(WCOD+)?/.source.replace("WCOD",p0e),v0e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_C),y0e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_C),x0e=new RegExp("^"+m0e+g0e+v0e+y0e+"$"),_0e=["material","materials","bones","map"];class S0e{constructor(e,n,r){const i=r||$t.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class $t{constructor(e,n,r){this.path=n,this.parsedPath=r||$t.parseTrackName(n),this.node=$t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new $t.Composite(e,n,r):new $t(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(d0e,"")}static parseTrackName(e){const n=x0e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);_0e.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=$t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){qe("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){gt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){gt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){gt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){gt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){gt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){gt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){gt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;gt("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){gt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){gt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}$t.Composite=S0e;$t.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$t.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$t.prototype.GetterByBindingType=[$t.prototype._getValue_direct,$t.prototype._getValue_array,$t.prototype._getValue_arrayElement,$t.prototype._getValue_toArray];$t.prototype.SetterByBindingTypeAndVersioning=[[$t.prototype._setValue_direct,$t.prototype._setValue_direct_setNeedsUpdate,$t.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_array,$t.prototype._setValue_array_setNeedsUpdate,$t.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_arrayElement,$t.prototype._setValue_arrayElement_setNeedsUpdate,$t.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$t.prototype._setValue_fromArray,$t.prototype._setValue_fromArray_setNeedsUpdate,$t.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class b0e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ni(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let x=0,y=a;x!==y;++x)o[x].push(new $t(p,r[x],i[x]))}else if(v<u){s=e[v];const x=--u,y=e[x];n[y.uuid]=v,e[v]=y,n[m]=x,e[x]=p;for(let g=0,_=a;g!==_;++g){const S=o[g],M=S[x];let w=S[v];S[v]=M,w===void 0&&(w=new $t(p,r[g],i[g])),S[x]=w}}else e[v]!==s&&gt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){const f=o++,p=e[f];n[p.uuid]=c,e[c]=p,n[u]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[f],g=x[c];x[c]=y,x[f]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const p=--o,m=e[p],v=--a,x=e[v];n[m.uuid]=f,e[f]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=i;y!==g;++y){const _=r[y],S=_[p],M=_[v];_[f]=S,_[p]=M,_.pop()}}else{const p=--a,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[f]=y[p],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let p=c,m=l.length;p!==m;++p){const v=l[p];f[p]=new $t(v,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],u=e[s];n[u]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class DV{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Jl,endingEnd:Jl};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=E5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case $P:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case oS:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===A5;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===M5){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Ql,i.endingEnd=Ql):(e?i.endingStart=this.zeroSlopeAtStart?Ql:Jl:i.endingStart=Zp,n?i.endingEnd=this.zeroSlopeAtEnd?Ql:Jl:i.endingEnd=Zp)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const w0e=new Float32Array(1);class M0e extends ma{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==o;++f){const p=i[f],m=p.name;let v=c[m];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;v=new NV($t.create(r,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[f]=v}s[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new hC(new Float32Array(2),new Float32Array(2),1,w0e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?sm.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=oS),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new DV(this,a,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?sm.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class E0e extends WP{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new uS(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class SC{constructor(e){this.value=e}clone(){return new SC(this.value.clone===void 0?this.value:this.value.clone())}}let A0e=0;class T0e extends ma{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:A0e++}),this.name="",this.usage=Qp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class P0e extends hS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class C0e{constructor(e,n,r,i,o,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const JN=new Et;class kV{constructor(e,n,r=0,i=1/0){this.ray=new Iu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new uu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):gt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return JN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(JN),this}intersectObject(e,n=!0,r=[]){return SA(e,this,r,n),r.sort(QN),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)SA(e[i],this,r,n);return r.sort(QN),r}}function QN(t,e){return t.distance-e.distance}function SA(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)SA(o[a],e,n,!0)}}class O0e{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=R0e.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function R0e(){this._document.hidden===!1&&this.reset()}class bA{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Mt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Mt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class I0e{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class bC{constructor(e,n,r,i){bC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const eD=new we;class L0e{constructor(e=new we(1/0,1/0),n=new we(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=eD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,eD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const tD=new H,Xv=new H,_c=new H,Sc=new H,Ew=new H,N0e=new H,D0e=new H;class k0e{constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){tD.subVectors(e,this.start),Xv.subVectors(this.end,this.start);const r=Xv.dot(Xv);let o=Xv.dot(tD)/r;return n&&(o=Mt(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=N0e,r=D0e){const i=10000000000000001e-32;let o,a;const s=this.start,l=e.start,u=this.end,c=e.end;_c.subVectors(u,s),Sc.subVectors(c,l),Ew.subVectors(s,l);const f=_c.dot(_c),p=Sc.dot(Sc),m=Sc.dot(Ew);if(f<=i&&p<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(f<=i)o=0,a=m/p,a=Mt(a,0,1);else{const v=_c.dot(Ew);if(p<=i)a=0,o=Mt(-v/f,0,1);else{const x=_c.dot(Sc),y=f*p-x*x;y!==0?o=Mt((x*m-v*p)/y,0,1):o=0,a=(x*o+m)/p,a<0?(a=0,o=Mt(-v/f,0,1)):a>1&&(a=1,o=Mt((x-v)/f,0,1))}}return n.copy(s).add(_c.multiplyScalar(o)),r.copy(l).add(Sc.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const nD=new H;class U0e extends Wt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Tt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new ut(i,3));const o=new ii({fog:!1,toneMapped:!1});this.cone=new ga(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),nD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(nD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ws=new H,Yv=new Et,Aw=new Et;class F0e extends ga{constructor(e){const n=UV(e),r=new Tt,i=[],o=[];for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(0,0,0),o.push(0,0,0))}r.setAttribute("position",new ut(i,3)),r.setAttribute("color",new ut(o,3));const a=new ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new nt(255),l=new nt(65280);this.setColors(s,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Aw.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(Yv.multiplyMatrices(Aw,s.matrixWorld),ws.setFromMatrixPosition(Yv),i.setXYZ(a,ws.x,ws.y,ws.z),Yv.multiplyMatrices(Aw,s.parent.matrixWorld),ws.setFromMatrixPosition(Yv),i.setXYZ(a+1,ws.x,ws.y,ws.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let o=0;o<i.count;o+=2)i.setXYZ(o,e.r,e.g,e.b),i.setXYZ(o+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function UV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...UV(t.children[n]));return e}class B0e extends qn{constructor(e,n,r){const i=new Lm(n,4,2),o=new sl({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const z0e=new H,rD=new nt,iD=new nt;class V0e extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Im(n);i.rotateY(Math.PI*.5),this.material=new sl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new ln(a,3)),this.add(new qn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");rD.copy(this.light.color),iD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?rD:iD;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(z0e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class j0e extends ga{constructor(e=10,n=10,r=4473924,i=8947848){r=new nt(r),i=new nt(i);const o=n/2,a=e/n,s=e/2,l=[],u=[];for(let p=0,m=0,v=-s;p<=n;p++,v+=a){l.push(-s,0,v,s,0,v),l.push(v,0,-s,v,0,s);const x=p===o?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const c=new Tt;c.setAttribute("position",new ut(l,3)),c.setAttribute("color",new ut(u,3));const f=new ii({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class H0e extends ga{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new nt(o),a=new nt(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;s.push(0,0,0),s.push(m,0,v);const x=f&1?o:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const p=f&1?o:a,m=e-e/r*f;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;s.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,s.push(y,0,g),l.push(p.r,p.g,p.b)}}const u=new Tt;u.setAttribute("position",new ut(s,3)),u.setAttribute("color",new ut(l,3));const c=new ii({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oD=new H,qv=new H,aD=new H;class $0e extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Tt;i.setAttribute("position",new ut([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ii({fog:!1,toneMapped:!1});this.lightPlane=new Zs(i,o),this.add(this.lightPlane),i=new Tt,i.setAttribute("position",new ut([0,0,0,0,0,1],3)),this.targetLine=new Zs(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oD.setFromMatrixPosition(this.light.matrixWorld),qv.setFromMatrixPosition(this.light.target.matrixWorld),aD.subVectors(qv,oD),this.lightPlane.lookAt(qv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qv),this.targetLine.scale.z=aD.length()}}const Kv=new H,Ln=new Pm;class G0e extends ga{constructor(e){const n=new Tt,r=new ii({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(v,x){l(v),l(x)}function l(v){i.push(0,0,0),o.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new ut(i,3)),n.setAttribute("color",new ut(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new nt(16755200),c=new nt(16711680),f=new nt(43775),p=new nt(16777215),m=new nt(3355443);this.setColors(u,c,f,p,m)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let o,a;if(Ln.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)o=1,a=0;else if(this.camera.coordinateSystem===Ii)o=-1,a=1;else if(this.camera.coordinateSystem===kf)o=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Fn("c",n,e,Ln,0,0,o),Fn("t",n,e,Ln,0,0,a),Fn("n1",n,e,Ln,-r,-i,o),Fn("n2",n,e,Ln,r,-i,o),Fn("n3",n,e,Ln,-r,i,o),Fn("n4",n,e,Ln,r,i,o),Fn("f1",n,e,Ln,-r,-i,a),Fn("f2",n,e,Ln,r,-i,a),Fn("f3",n,e,Ln,-r,i,a),Fn("f4",n,e,Ln,r,i,a),Fn("u1",n,e,Ln,r*.7,i*1.1,o),Fn("u2",n,e,Ln,-r*.7,i*1.1,o),Fn("u3",n,e,Ln,0,i*2,o),Fn("cf1",n,e,Ln,-r,0,a),Fn("cf2",n,e,Ln,r,0,a),Fn("cf3",n,e,Ln,0,-i,a),Fn("cf4",n,e,Ln,0,i,a),Fn("cn1",n,e,Ln,-r,0,o),Fn("cn2",n,e,Ln,r,0,o),Fn("cn3",n,e,Ln,0,-i,o),Fn("cn4",n,e,Ln,0,i,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fn(t,e,n,r,i,o,a){Kv.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],Kv.x,Kv.y,Kv.z)}}const Zv=new Vr;class W0e extends ga{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Tt;o.setIndex(new ln(r,1)),o.setAttribute("position",new ln(i,3)),super(o,new ii({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Zv.setFromObject(this.object),Zv.isEmpty())return;const e=Zv.min,n=Zv.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class X0e extends ga{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Tt;o.setIndex(new ln(r,1)),o.setAttribute("position",new ut(i,3)),super(o,new ii({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Y0e extends Zs{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Tt;a.setAttribute("position",new ut(o,3)),a.computeBoundingSphere(),super(a,new ii({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tt;l.setAttribute("position",new ut(s,3)),l.computeBoundingSphere(),this.add(new qn(l,new sl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sD=new H;let Jv,Tw;class q0e extends Wt{constructor(e=new H(0,0,1),n=new H(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",Jv===void 0&&(Jv=new Tt,Jv.setAttribute("position",new ut([0,0,0,0,1,0],3)),Tw=new Rm(.5,1,5,1),Tw.translate(0,-.5,0)),this.position.copy(n),this.line=new Zs(Jv,new ii({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qn(Tw,new sl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(sD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class K0e extends ga{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Tt;i.setAttribute("position",new ut(n,3)),i.setAttribute("color",new ut(r,3));const o=new ii({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new nt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Z0e{constructor(){this.type="ShapePath",this.color=new nt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new zx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let S=0,M=g.length;S<M;S++){const w=g[S],A=new cu;A.curves=w.curves,_.push(A)}return _}function r(g,_){const S=_.length;let M=!1;for(let w=S-1,A=0;A<S;w=A++){let T=_[w],R=_[A],P=R.x-T.x,O=R.y-T.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(T=_[A],P=-P,R=_[w],O=-O),g.y<T.y||g.y>R.y)continue;if(g.y===T.y){if(g.x===T.x)return!0}else{const L=O*(g.x-T.x)-P*(g.y-T.y);if(L===0)return!0;if(L<0)continue;M=!M}}else{if(g.y!==T.y)continue;if(R.x<=g.x&&g.x<=T.x||T.x<=g.x&&g.x<=R.x)return!0}}return M}const i=Ro.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const u=[];if(o.length===1)return s=o[0],l=new cu,l.curves=s.curves,u.push(l),u;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,_=o.length;g<_;g++)s=o[g],x=s.getPoints(),a=i(x),a=e?!a:a,a?(!c&&p[v]&&v++,p[v]={s:new cu,p:x},p[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:x[0]});if(!p[0])return n(o);if(p.length>1){let g=!1,_=0;for(let S=0,M=p.length;S<M;S++)f[S]=[];for(let S=0,M=p.length;S<M;S++){const w=m[S];for(let A=0;A<w.length;A++){const T=w[A];let R=!0;for(let P=0;P<p.length;P++)r(T.p,p[P].p)&&(S!==P&&_++,R?(R=!1,f[P].push(T)):g=!0);R&&f[S].push(T)}}_>0&&g===!1&&(m=f)}let y;for(let g=0,_=p.length;g<_;g++){l=p[g].s,u.push(l),y=m[g];for(let S=0,M=y.length;S<M;S++)l.holes.push(y[S].h)}return u}}class J0e extends ma{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){qe("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Q0e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function exe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function txe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function wA(t,e,n,r){const i=nxe(r);switch(n){case jP:return t*e;case nS:return t*e/i.components*i.byteLength;case Tm:return t*e/i.components*i.byteLength;case Su:return t*e*2/i.components*i.byteLength;case rS:return t*e*2/i.components*i.byteLength;case HP:return t*e*3/i.components*i.byteLength;case Br:return t*e*4/i.components*i.byteLength;case iS:return t*e*4/i.components*i.byteLength;case Bd:case zd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Vd:case jd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ox:case sx:return Math.max(t,16)*Math.max(e,8)/4;case ix:case ax:return Math.max(t,8)*Math.max(e,8)/2;case lx:case ux:case fx:case hx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case cx:case dx:case px:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case mx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case gx:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case vx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case yx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case xx:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case _x:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Sx:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case bx:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case wx:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Mx:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Ex:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ax:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Tx:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Px:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Cx:case Ox:case Rx:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Ix:case Lx:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Nx:case Dx:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function nxe(t){switch(t){case Kr:case FP:return{byteLength:1,components:1};case Nf:case BP:case ha:return{byteLength:2,components:1};case eS:case tS:return{byteLength:2,components:4};case lo:case Q_:case Qr:return{byteLength:4,components:1};case zP:case VP:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class rxe{static contain(e,n){return Q0e(e,n)}static cover(e,n){return exe(e,n)}static fill(e){return txe(e)}static getByteLength(e,n,r,i){return wA(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:K_}}));typeof window<"u"&&(window.__THREE__?qe("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=K_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function FV(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function ixe(t){const e=new WeakMap;function n(s,l){const u=s.array,c=s.usage,f=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,c),s.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=t.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l.updateRanges;if(t.bindBuffer(u,s),f.length===0)t.bufferSubData(u,0,c);else{f.sort((m,v)=>m.start-v.start);let p=0;for(let m=1;m<f.length;m++){const v=f[p],x=f[m];x.start<=v.start+v.count+1?v.count=Math.max(v.count,x.start+x.count-v.start):(++p,f[p]=x)}f.length=p+1;for(let m=0,v=f.length;m<v;m++){const x=f[m];t.bufferSubData(u,x.start*c.BYTES_PER_ELEMENT,c,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:o,update:a}}var oxe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,axe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,sxe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,lxe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uxe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,cxe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,fxe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,hxe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dxe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,pxe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,mxe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,gxe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,vxe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,yxe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,xxe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_xe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Sxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,bxe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wxe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mxe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Exe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Axe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Txe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Pxe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Cxe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Oxe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Rxe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ixe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Lxe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Nxe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Dxe="gl_FragColor = linearToOutputTexel( gl_FragColor );",kxe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Uxe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Fxe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Bxe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,zxe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Vxe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jxe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Hxe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$xe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Gxe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Wxe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Xxe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Yxe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qxe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kxe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Zxe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Jxe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Qxe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,e_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,t_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,n_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,r_e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,i_e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,o_e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,a_e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,s_e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,l_e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,u_e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,c_e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,f_e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,h_e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,d_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,p_e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,m_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,g_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,v_e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,y_e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,x_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,__e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,S_e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,b_e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,w_e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,M_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,E_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,A_e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,T_e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,P_e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,C_e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,O_e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,R_e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,I_e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,L_e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,N_e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,D_e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,k_e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,U_e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,F_e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,B_e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,z_e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,V_e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,j_e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,H_e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$_e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,G_e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,W_e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,X_e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Y_e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,q_e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,K_e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Z_e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,J_e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Q_e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,eSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,rSe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const iSe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,oSe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sSe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uSe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fSe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,hSe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dSe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,pSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,mSe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gSe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vSe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ySe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xSe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Se=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SSe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bSe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wSe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MSe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ESe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ASe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TSe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,CSe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ISe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,LSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,NSe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,USe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,It={alphahash_fragment:oxe,alphahash_pars_fragment:axe,alphamap_fragment:sxe,alphamap_pars_fragment:lxe,alphatest_fragment:uxe,alphatest_pars_fragment:cxe,aomap_fragment:fxe,aomap_pars_fragment:hxe,batching_pars_vertex:dxe,batching_vertex:pxe,begin_vertex:mxe,beginnormal_vertex:gxe,bsdfs:vxe,iridescence_fragment:yxe,bumpmap_pars_fragment:xxe,clipping_planes_fragment:_xe,clipping_planes_pars_fragment:Sxe,clipping_planes_pars_vertex:bxe,clipping_planes_vertex:wxe,color_fragment:Mxe,color_pars_fragment:Exe,color_pars_vertex:Axe,color_vertex:Txe,common:Pxe,cube_uv_reflection_fragment:Cxe,defaultnormal_vertex:Oxe,displacementmap_pars_vertex:Rxe,displacementmap_vertex:Ixe,emissivemap_fragment:Lxe,emissivemap_pars_fragment:Nxe,colorspace_fragment:Dxe,colorspace_pars_fragment:kxe,envmap_fragment:Uxe,envmap_common_pars_fragment:Fxe,envmap_pars_fragment:Bxe,envmap_pars_vertex:zxe,envmap_physical_pars_fragment:Zxe,envmap_vertex:Vxe,fog_vertex:jxe,fog_pars_vertex:Hxe,fog_fragment:$xe,fog_pars_fragment:Gxe,gradientmap_pars_fragment:Wxe,lightmap_pars_fragment:Xxe,lights_lambert_fragment:Yxe,lights_lambert_pars_fragment:qxe,lights_pars_begin:Kxe,lights_toon_fragment:Jxe,lights_toon_pars_fragment:Qxe,lights_phong_fragment:e_e,lights_phong_pars_fragment:t_e,lights_physical_fragment:n_e,lights_physical_pars_fragment:r_e,lights_fragment_begin:i_e,lights_fragment_maps:o_e,lights_fragment_end:a_e,logdepthbuf_fragment:s_e,logdepthbuf_pars_fragment:l_e,logdepthbuf_pars_vertex:u_e,logdepthbuf_vertex:c_e,map_fragment:f_e,map_pars_fragment:h_e,map_particle_fragment:d_e,map_particle_pars_fragment:p_e,metalnessmap_fragment:m_e,metalnessmap_pars_fragment:g_e,morphinstance_vertex:v_e,morphcolor_vertex:y_e,morphnormal_vertex:x_e,morphtarget_pars_vertex:__e,morphtarget_vertex:S_e,normal_fragment_begin:b_e,normal_fragment_maps:w_e,normal_pars_fragment:M_e,normal_pars_vertex:E_e,normal_vertex:A_e,normalmap_pars_fragment:T_e,clearcoat_normal_fragment_begin:P_e,clearcoat_normal_fragment_maps:C_e,clearcoat_pars_fragment:O_e,iridescence_pars_fragment:R_e,opaque_fragment:I_e,packing:L_e,premultiplied_alpha_fragment:N_e,project_vertex:D_e,dithering_fragment:k_e,dithering_pars_fragment:U_e,roughnessmap_fragment:F_e,roughnessmap_pars_fragment:B_e,shadowmap_pars_fragment:z_e,shadowmap_pars_vertex:V_e,shadowmap_vertex:j_e,shadowmask_pars_fragment:H_e,skinbase_vertex:$_e,skinning_pars_vertex:G_e,skinning_vertex:W_e,skinnormal_vertex:X_e,specularmap_fragment:Y_e,specularmap_pars_fragment:q_e,tonemapping_fragment:K_e,tonemapping_pars_fragment:Z_e,transmission_fragment:J_e,transmission_pars_fragment:Q_e,uv_pars_fragment:eSe,uv_pars_vertex:tSe,uv_vertex:nSe,worldpos_vertex:rSe,background_vert:iSe,background_frag:oSe,backgroundCube_vert:aSe,backgroundCube_frag:sSe,cube_vert:lSe,cube_frag:uSe,depth_vert:cSe,depth_frag:fSe,distance_vert:hSe,distance_frag:dSe,equirect_vert:pSe,equirect_frag:mSe,linedashed_vert:gSe,linedashed_frag:vSe,meshbasic_vert:ySe,meshbasic_frag:xSe,meshlambert_vert:_Se,meshlambert_frag:SSe,meshmatcap_vert:bSe,meshmatcap_frag:wSe,meshnormal_vert:MSe,meshnormal_frag:ESe,meshphong_vert:ASe,meshphong_frag:TSe,meshphysical_vert:PSe,meshphysical_frag:CSe,meshtoon_vert:OSe,meshtoon_frag:RSe,points_vert:ISe,points_frag:LSe,shadow_vert:NSe,shadow_frag:DSe,sprite_vert:kSe,sprite_frag:USe},Ke={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ot}},envmap:{envMap:{value:null},envMapRotation:{value:new Ot},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ot}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ot}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ot},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ot},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ot},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ot}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ot}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ot}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ot},alphaMap:{value:null},alphaMapTransform:{value:new Ot},alphaTest:{value:0}}},Po={basic:{uniforms:Yr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:It.meshbasic_vert,fragmentShader:It.meshbasic_frag},lambert:{uniforms:Yr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)}}]),vertexShader:It.meshlambert_vert,fragmentShader:It.meshlambert_frag},phong:{uniforms:Yr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:It.meshphong_vert,fragmentShader:It.meshphong_frag},standard:{uniforms:Yr([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag},toon:{uniforms:Yr([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)}}]),vertexShader:It.meshtoon_vert,fragmentShader:It.meshtoon_frag},matcap:{uniforms:Yr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:It.meshmatcap_vert,fragmentShader:It.meshmatcap_frag},points:{uniforms:Yr([Ke.points,Ke.fog]),vertexShader:It.points_vert,fragmentShader:It.points_frag},dashed:{uniforms:Yr([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:It.linedashed_vert,fragmentShader:It.linedashed_frag},depth:{uniforms:Yr([Ke.common,Ke.displacementmap]),vertexShader:It.depth_vert,fragmentShader:It.depth_frag},normal:{uniforms:Yr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:It.meshnormal_vert,fragmentShader:It.meshnormal_frag},sprite:{uniforms:Yr([Ke.sprite,Ke.fog]),vertexShader:It.sprite_vert,fragmentShader:It.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:It.background_vert,fragmentShader:It.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ot}},vertexShader:It.backgroundCube_vert,fragmentShader:It.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:It.cube_vert,fragmentShader:It.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:It.equirect_vert,fragmentShader:It.equirect_frag},distance:{uniforms:Yr([Ke.common,Ke.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:It.distance_vert,fragmentShader:It.distance_frag},shadow:{uniforms:Yr([Ke.lights,Ke.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:It.shadow_vert,fragmentShader:It.shadow_frag}};Po.physical={uniforms:Yr([Po.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ot},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ot},clearcoatNormalScale:{value:new we(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ot},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ot},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ot},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ot},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ot},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ot},transmissionSamplerSize:{value:new we},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ot},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ot},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ot},anisotropyVector:{value:new we},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ot}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag};const Qv={r:0,b:0,g:0},Ll=new Ui,FSe=new Et;function BSe(t,e,n,r,i,o,a){const s=new nt(0);let l=o===!0?0:1,u,c,f=null,p=0,m=null;function v(S){let M=S.isScene===!0?S.background:null;return M&&M.isTexture&&(M=(S.backgroundBlurriness>0?n:e).get(M)),M}function x(S){let M=!1;const w=v(S);w===null?g(s,l):w&&w.isColor&&(g(w,1),M=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,a):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(S,M){const w=v(M);w&&(w.isCubeTexture||w.mapping===sh)?(c===void 0&&(c=new qn(new Lu(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:Bf(Po.backgroundCube.uniforms),vertexShader:Po.backgroundCube.vertexShader,fragmentShader:Po.backgroundCube.fragmentShader,side:ti,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),Ll.copy(M.backgroundRotation),Ll.x*=-1,Ll.y*=-1,Ll.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Ll.y*=-1,Ll.z*=-1),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(FSe.makeRotationFromEuler(Ll)),c.material.toneMapped=Vt.getTransfer(w.colorSpace)!==nn,(f!==w||p!==w.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new qn(new uh(2,2),new uo({name:"BackgroundMaterial",uniforms:Bf(Po.background.uniforms),vertexShader:Po.background.vertexShader,fragmentShader:Po.background.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=Vt.getTransfer(w.colorSpace)!==nn,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,m=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function g(S,M){S.getRGB(Qv,z5(t)),r.buffers.color.setClear(Qv.r,Qv.g,Qv.b,M,a)}function _(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return s},setClearColor:function(S,M=1){s.set(S),l=M,g(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,g(s,l)},render:x,addToRenderList:y,dispose:_}}function zSe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let o=i,a=!1;function s(O,L,k,F,X){let G=!1;const q=f(F,k,L);o!==q&&(o=q,u(o.object)),G=m(O,F,k,X),G&&v(O,F,k,X),X!==null&&e.update(X,t.ELEMENT_ARRAY_BUFFER),(G||a)&&(a=!1,M(O,L,k,F),X!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function l(){return t.createVertexArray()}function u(O){return t.bindVertexArray(O)}function c(O){return t.deleteVertexArray(O)}function f(O,L,k){const F=k.wireframe===!0;let X=r[O.id];X===void 0&&(X={},r[O.id]=X);let G=X[L.id];G===void 0&&(G={},X[L.id]=G);let q=G[F];return q===void 0&&(q=p(l()),G[F]=q),q}function p(O){const L=[],k=[],F=[];for(let X=0;X<n;X++)L[X]=0,k[X]=0,F[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:k,attributeDivisors:F,object:O,attributes:{},index:null}}function m(O,L,k,F){const X=o.attributes,G=L.attributes;let q=0;const W=k.getAttributes();for(const D in W)if(W[D].location>=0){const z=X[D];let Q=G[D];if(Q===void 0&&(D==="instanceMatrix"&&O.instanceMatrix&&(Q=O.instanceMatrix),D==="instanceColor"&&O.instanceColor&&(Q=O.instanceColor)),z===void 0||z.attribute!==Q||Q&&z.data!==Q.data)return!0;q++}return o.attributesNum!==q||o.index!==F}function v(O,L,k,F){const X={},G=L.attributes;let q=0;const W=k.getAttributes();for(const D in W)if(W[D].location>=0){let z=G[D];z===void 0&&(D==="instanceMatrix"&&O.instanceMatrix&&(z=O.instanceMatrix),D==="instanceColor"&&O.instanceColor&&(z=O.instanceColor));const Q={};Q.attribute=z,z&&z.data&&(Q.data=z.data),X[D]=Q,q++}o.attributes=X,o.attributesNum=q,o.index=F}function x(){const O=o.newAttributes;for(let L=0,k=O.length;L<k;L++)O[L]=0}function y(O){g(O,0)}function g(O,L){const k=o.newAttributes,F=o.enabledAttributes,X=o.attributeDivisors;k[O]=1,F[O]===0&&(t.enableVertexAttribArray(O),F[O]=1),X[O]!==L&&(t.vertexAttribDivisor(O,L),X[O]=L)}function _(){const O=o.newAttributes,L=o.enabledAttributes;for(let k=0,F=L.length;k<F;k++)L[k]!==O[k]&&(t.disableVertexAttribArray(k),L[k]=0)}function S(O,L,k,F,X,G,q){q===!0?t.vertexAttribIPointer(O,L,k,X,G):t.vertexAttribPointer(O,L,k,F,X,G)}function M(O,L,k,F){x();const X=F.attributes,G=k.getAttributes(),q=L.defaultAttributeValues;for(const W in G){const D=G[W];if(D.location>=0){let V=X[W];if(V===void 0&&(W==="instanceMatrix"&&O.instanceMatrix&&(V=O.instanceMatrix),W==="instanceColor"&&O.instanceColor&&(V=O.instanceColor)),V!==void 0){const z=V.normalized,Q=V.itemSize,ne=e.get(V);if(ne===void 0)continue;const de=ne.buffer,Fe=ne.type,et=ne.bytesPerElement,se=Fe===t.INT||Fe===t.UNSIGNED_INT||V.gpuType===Q_;if(V.isInterleavedBufferAttribute){const xe=V.data,je=xe.stride,_e=V.offset;if(xe.isInstancedInterleavedBuffer){for(let Ee=0;Ee<D.locationSize;Ee++)g(D.location+Ee,xe.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ee=0;Ee<D.locationSize;Ee++)y(D.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,de);for(let Ee=0;Ee<D.locationSize;Ee++)S(D.location+Ee,Q/D.locationSize,Fe,z,je*et,(_e+Q/D.locationSize*Ee)*et,se)}else{if(V.isInstancedBufferAttribute){for(let xe=0;xe<D.locationSize;xe++)g(D.location+xe,V.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let xe=0;xe<D.locationSize;xe++)y(D.location+xe);t.bindBuffer(t.ARRAY_BUFFER,de);for(let xe=0;xe<D.locationSize;xe++)S(D.location+xe,Q/D.locationSize,Fe,z,Q*et,Q/D.locationSize*xe*et,se)}}else if(q!==void 0){const z=q[W];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(D.location,z);break;case 3:t.vertexAttrib3fv(D.location,z);break;case 4:t.vertexAttrib4fv(D.location,z);break;default:t.vertexAttrib1fv(D.location,z)}}}}_()}function w(){R();for(const O in r){const L=r[O];for(const k in L){const F=L[k];for(const X in F)c(F[X].object),delete F[X];delete L[k]}delete r[O]}}function A(O){if(r[O.id]===void 0)return;const L=r[O.id];for(const k in L){const F=L[k];for(const X in F)c(F[X].object),delete F[X];delete L[k]}delete r[O.id]}function T(O){for(const L in r){const k=r[L];if(k[O.id]===void 0)continue;const F=k[O.id];for(const X in F)c(F[X].object),delete F[X];delete k[O.id]}}function R(){P(),a=!0,o!==i&&(o=i,u(o.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:R,resetDefaultState:P,dispose:w,releaseStatesOfGeometry:A,releaseStatesOfProgram:T,initAttributes:x,enableAttribute:y,disableUnusedAttributes:_}}function VSe(t,e,n){let r;function i(u){r=u}function o(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function a(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let m=0;for(let v=0;v<f;v++)m+=c[v];n.update(m,r,1)}function l(u,c,f,p){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<u.length;v++)a(u[v],c[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,c,0,p,0,f);let v=0;for(let x=0;x<f;x++)v+=c[x]*p[x];n.update(v,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function jSe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(T){return!(T!==Br&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(T){const R=T===ha&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==Kr&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==Qr&&!R)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(qe("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,p=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=t.getParameter(t.MAX_SAMPLES),A=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:p,maxTextures:m,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:M,maxSamples:w,samples:A}}function HSe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Zo,s=new Ot,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,p){n=c(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,x=f.clipIntersection,y=f.clipShadows,g=t.get(f);if(!i||v===null||v.length===0||o&&!y)o?c(null):u();else{const _=o?0:r,S=_*4;let M=g.clippingState||null;l.value=M,M=c(v,p,S,m);for(let w=0;w!==S;++w)M[w]=n[w];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,p,m,v){const x=f!==null?f.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,_=p.matrixWorldInverse;s.getNormalMatrix(_),(y===null||y.length<g)&&(y=new Float32Array(g));for(let S=0,M=m;S!==x;++S,M+=4)a.copy(f[S]).applyMatrix4(_,s),a.normal.toArray(y,M),y[M+3]=a.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function $Se(t){let e=new WeakMap;function n(a,s){return s===Wp?a.mapping=fa:s===Xp&&(a.mapping=qs),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===Wp||s===Xp)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new qP(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const ks=4,lD=[.125,.215,.35,.446,.526,.582],Hl=20,GSe=256,fd=new $a,uD=new nt;let Pw=null,Cw=0,Ow=0,Rw=!1;const WSe=new H;class MA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,o={}){const{size:a=256,position:s=WSe}=o;Pw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Rw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=hD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Pw,Cw,Ow),this._renderer.xr.enabled=Rw,e.scissorTest=!1,bc(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===fa||e.mapping===qs?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Pw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Rw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:bn,minFilter:bn,generateMipmaps:!1,type:ha,format:Br,colorSpace:bu,depthBuffer:!1},i=cD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cD(e,n,r);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=XSe(o)),this._blurMaterial=qSe(o,e,n),this._ggxMaterial=YSe(o,e,n)}return i}_compileMaterial(e){const n=new qn(new Tt,e);this._renderer.compile(n,fd)}_sceneToCubeUV(e,n,r,i,o){const l=new zn(90,1,n,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(uD),f.toneMapping=io,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new qn(new Lu,new sl({name:"PMREM.Background",side:ti,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,y=x.material;let g=!1;const _=e.background;_?_.isColor&&(y.color.copy(_),e.background=null,g=!0):(y.color.copy(uD),g=!0);for(let S=0;S<6;S++){const M=S%3;M===0?(l.up.set(0,u[S],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x+c[S],o.y,o.z)):M===1?(l.up.set(0,0,u[S]),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y+c[S],o.z)):(l.up.set(0,u[S],0),l.position.set(o.x,o.y,o.z),l.lookAt(o.x,o.y,o.z+c[S]));const w=this._cubeSize;bc(i,M*w,S>2?w:0,w,w),f.setRenderTarget(i),g&&f.render(x,l),f.render(e,l)}f.toneMapping=m,f.autoClear=p,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===fa||e.mapping===qs;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=hD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fD());const o=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=o;const s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;bc(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,fd)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let o=1;o<i;o++)this._applyGGXFilter(e,o-1,o);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,o=this._pingPongRenderTarget,a=this._ggxMaterial,s=this._lodMeshes[r];s.material=a;const l=a.uniforms,u=r/(this._lodMeshes.length-1),c=n/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),p=0+u*1.25,m=f*p,{_lodMax:v}=this,x=this._sizeLods[r],y=3*x*(r>v-ks?r-v+ks:0),g=4*(this._cubeSize-x);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=v-n,bc(o,y,g,3*x,2*x),i.setRenderTarget(o),i.render(s,fd),l.envMap.value=o.texture,l.roughness.value=0,l.mipInt.value=v-r,bc(e,y,g,3*x,2*x),i.setRenderTarget(e),i.render(s,fd)}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&gt("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[i];f.material=u;const p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Hl-1),x=o/v,y=isFinite(o)?1+Math.floor(c*x):Hl;y>Hl&&qe(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Hl}`);const g=[];let _=0;for(let T=0;T<Hl;++T){const R=T/x,P=Math.exp(-R*R/2);g.push(P),T===0?_+=P:T<y&&(_+=2*P)}for(let T=0;T<g.length;T++)g[T]=g[T]/_;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=a==="latitudinal",s&&(p.poleAxis.value=s);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],w=3*M*(i>S-ks?i-S+ks:0),A=4*(this._cubeSize-M);bc(n,w,A,3*M,2*M),l.setRenderTarget(n),l.render(f,fd)}}function XSe(t){const e=[],n=[],r=[];let i=t;const o=t-ks+1+lD.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);e.push(s);let l=1/s;a>t-ks?l=lD[a-t+ks-1]:a===0&&(l=0),n.push(l);const u=1/(s-2),c=-u,f=1+u,p=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,v=6,x=3,y=2,g=1,_=new Float32Array(x*v*m),S=new Float32Array(y*v*m),M=new Float32Array(g*v*m);for(let A=0;A<m;A++){const T=A%3*2/3-1,R=A>2?0:-1,P=[T,R,0,T+2/3,R,0,T+2/3,R+1,0,T,R,0,T+2/3,R+1,0,T,R+1,0];_.set(P,x*v*A),S.set(p,y*v*A);const O=[A,A,A,A,A,A];M.set(O,g*v*A)}const w=new Tt;w.setAttribute("position",new ln(_,x)),w.setAttribute("uv",new ln(S,y)),w.setAttribute("faceIndex",new ln(M,g)),r.push(new qn(w,null)),i>ks&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function cD(t,e,n){const r=new Di(t,e,n);return r.texture.mapping=sh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function bc(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function YSe(t,e,n){return new uo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:GSe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:OS(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:sa,depthTest:!1,depthWrite:!1})}function qSe(t,e,n){const r=new Float32Array(Hl),i=new H(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:Hl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:OS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sa,depthTest:!1,depthWrite:!1})}function fD(){return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:OS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sa,depthTest:!1,depthWrite:!1})}function hD(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:OS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sa,depthTest:!1,depthWrite:!1})}function OS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KSe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===Wp||l===Xp,c=l===fa||l===qs;if(u||c){let f=e.get(s);const p=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==p)return n===null&&(n=new MA(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const m=s.image;return u&&m&&m.height>0||c&&m&&i(m)?(n===null&&(n=new MA(t)),f=u?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",o),f.texture):null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function ZSe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Uf("WebGLRenderer: "+r+" extension not supported."),i}}}function JSe(t,e,n,r){const i={},o=new WeakMap;function a(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",a),delete i[p.id];const m=o.get(p);m&&(e.remove(m),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function s(f,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function u(f){const p=[],m=f.index,v=f.attributes.position;let x=0;if(m!==null){const _=m.array;x=m.version;for(let S=0,M=_.length;S<M;S+=3){const w=_[S+0],A=_[S+1],T=_[S+2];p.push(w,A,A,T,T,w)}}else if(v!==void 0){const _=v.array;x=v.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const w=S+0,A=S+1,T=S+2;p.push(w,A,A,T,T,w)}}else return;const y=new(D5(p)?YP:XP)(p,1);y.version=x;const g=o.get(f);g&&e.remove(g),o.set(f,y)}function c(f){const p=o.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function QSe(t,e,n){let r;function i(p){r=p}let o,a;function s(p){o=p.type,a=p.bytesPerElement}function l(p,m){t.drawElements(r,m,o,p*a),n.update(m,r,1)}function u(p,m,v){v!==0&&(t.drawElementsInstanced(r,m,o,p*a,v),n.update(m,r,v))}function c(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,o,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];n.update(y,r,1)}function f(p,m,v,x){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)u(p[g]/a,m[g],x[g]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,o,p,0,x,0,v);let g=0;for(let _=0;_<v;_++)g+=m[_]*x[_];n.update(g,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function ebe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:gt("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function tbe(t,e,n){const r=new WeakMap,i=new fn;function o(a,s,l){const u=a.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let p=r.get(s);if(p===void 0||p.count!==f){let O=function(){R.dispose(),r.delete(s),s.removeEventListener("dispose",O)};var m=O;p!==void 0&&p.texture.dispose();const v=s.morphAttributes.position!==void 0,x=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,g=s.morphAttributes.position||[],_=s.morphAttributes.normal||[],S=s.morphAttributes.color||[];let M=0;v===!0&&(M=1),x===!0&&(M=2),y===!0&&(M=3);let w=s.attributes.position.count*M,A=1;w>e.maxTextureSize&&(A=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const T=new Float32Array(w*A*4*f),R=new lS(T,w,A,f);R.type=Qr,R.needsUpdate=!0;const P=M*4;for(let L=0;L<f;L++){const k=g[L],F=_[L],X=S[L],G=w*A*4*L;for(let q=0;q<k.count;q++){const W=q*P;v===!0&&(i.fromBufferAttribute(k,q),T[G+W+0]=i.x,T[G+W+1]=i.y,T[G+W+2]=i.z,T[G+W+3]=0),x===!0&&(i.fromBufferAttribute(F,q),T[G+W+4]=i.x,T[G+W+5]=i.y,T[G+W+6]=i.z,T[G+W+7]=0),y===!0&&(i.fromBufferAttribute(X,q),T[G+W+8]=i.x,T[G+W+9]=i.y,T[G+W+10]=i.z,T[G+W+11]=X.itemSize===4?i.w:1)}}p={count:f,texture:R,size:new we(w,A)},r.set(s,p),s.addEventListener("dispose",O)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const x=s.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:o}}function nbe(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return f}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}const rbe={[RP]:"LINEAR_TONE_MAPPING",[IP]:"REINHARD_TONE_MAPPING",[LP]:"CINEON_TONE_MAPPING",[Z_]:"ACES_FILMIC_TONE_MAPPING",[DP]:"AGX_TONE_MAPPING",[kP]:"NEUTRAL_TONE_MAPPING",[NP]:"CUSTOM_TONE_MAPPING"};function ibe(t,e,n,r,i){const o=new Di(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),a=new Di(e,n,{type:ha,depthBuffer:!1,stencilBuffer:!1}),s=new Tt;s.setAttribute("position",new ut([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new ut([0,2,0,0,2,0],2));const l=new sC({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new qn(s,l),c=new $a(-1,1,1,-1,0,1);let f=null,p=null,m=!1,v,x=null,y=[],g=!1;this.setSize=function(_,S){o.setSize(_,S),a.setSize(_,S);for(let M=0;M<y.length;M++){const w=y[M];w.setSize&&w.setSize(_,S)}},this.setEffects=function(_){y=_,g=y.length>0&&y[0].isRenderPass===!0;const S=o.width,M=o.height;for(let w=0;w<y.length;w++){const A=y[w];A.setSize&&A.setSize(S,M)}},this.begin=function(_,S){if(m||_.toneMapping===io&&y.length===0)return!1;if(x=S,S!==null){const M=S.width,w=S.height;(o.width!==M||o.height!==w)&&this.setSize(M,w)}return g===!1&&_.setRenderTarget(o),v=_.toneMapping,_.toneMapping=io,!0},this.hasRenderPass=function(){return g},this.end=function(_,S){_.toneMapping=v,m=!0;let M=o,w=a;for(let A=0;A<y.length;A++){const T=y[A];if(T.enabled!==!1&&(T.render(_,w,M,S),T.needsSwap!==!1)){const R=M;M=w,w=R}}if(f!==_.outputColorSpace||p!==_.toneMapping){f=_.outputColorSpace,p=_.toneMapping,l.defines={},Vt.getTransfer(f)===nn&&(l.defines.SRGB_TRANSFER="");const A=rbe[p];A&&(l.defines[A]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=M.texture,_.setRenderTarget(x),_.render(u,c),x=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){o.dispose(),a.dispose(),s.dispose(),l.dispose()}}const BV=new kn,EA=new Vf(1,1),zV=new lS,VV=new uS,jV=new Cm,dD=[],pD=[],mD=new Float32Array(16),gD=new Float32Array(9),vD=new Float32Array(4);function ch(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=dD[i];if(o===void 0&&(o=new Float32Array(i),dD[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function ir(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function or(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function RS(t,e){let n=pD[e];n===void 0&&(n=new Int32Array(e),pD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function obe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function abe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ir(n,e))return;t.uniform2fv(this.addr,e),or(n,e)}}function sbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ir(n,e))return;t.uniform3fv(this.addr,e),or(n,e)}}function lbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ir(n,e))return;t.uniform4fv(this.addr,e),or(n,e)}}function ube(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ir(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),or(n,e)}else{if(ir(n,r))return;vD.set(r),t.uniformMatrix2fv(this.addr,!1,vD),or(n,r)}}function cbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ir(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),or(n,e)}else{if(ir(n,r))return;gD.set(r),t.uniformMatrix3fv(this.addr,!1,gD),or(n,r)}}function fbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ir(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),or(n,e)}else{if(ir(n,r))return;mD.set(r),t.uniformMatrix4fv(this.addr,!1,mD),or(n,r)}}function hbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function dbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ir(n,e))return;t.uniform2iv(this.addr,e),or(n,e)}}function pbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ir(n,e))return;t.uniform3iv(this.addr,e),or(n,e)}}function mbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ir(n,e))return;t.uniform4iv(this.addr,e),or(n,e)}}function gbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function vbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ir(n,e))return;t.uniform2uiv(this.addr,e),or(n,e)}}function ybe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ir(n,e))return;t.uniform3uiv(this.addr,e),or(n,e)}}function xbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ir(n,e))return;t.uniform4uiv(this.addr,e),or(n,e)}}function _be(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(EA.compareFunction=n.isReversedDepthBuffer()?sS:aS,o=EA):o=BV,n.setTexture2D(e||o,i)}function Sbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||VV,i)}function bbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||jV,i)}function wbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||zV,i)}function Mbe(t){switch(t){case 5126:return obe;case 35664:return abe;case 35665:return sbe;case 35666:return lbe;case 35674:return ube;case 35675:return cbe;case 35676:return fbe;case 5124:case 35670:return hbe;case 35667:case 35671:return dbe;case 35668:case 35672:return pbe;case 35669:case 35673:return mbe;case 5125:return gbe;case 36294:return vbe;case 36295:return ybe;case 36296:return xbe;case 35678:case 36198:case 36298:case 36306:case 35682:return _be;case 35679:case 36299:case 36307:return Sbe;case 35680:case 36300:case 36308:case 36293:return bbe;case 36289:case 36303:case 36311:case 36292:return wbe}}function Ebe(t,e){t.uniform1fv(this.addr,e)}function Abe(t,e){const n=ch(e,this.size,2);t.uniform2fv(this.addr,n)}function Tbe(t,e){const n=ch(e,this.size,3);t.uniform3fv(this.addr,n)}function Pbe(t,e){const n=ch(e,this.size,4);t.uniform4fv(this.addr,n)}function Cbe(t,e){const n=ch(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Obe(t,e){const n=ch(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Rbe(t,e){const n=ch(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ibe(t,e){t.uniform1iv(this.addr,e)}function Lbe(t,e){t.uniform2iv(this.addr,e)}function Nbe(t,e){t.uniform3iv(this.addr,e)}function Dbe(t,e){t.uniform4iv(this.addr,e)}function kbe(t,e){t.uniform1uiv(this.addr,e)}function Ube(t,e){t.uniform2uiv(this.addr,e)}function Fbe(t,e){t.uniform3uiv(this.addr,e)}function Bbe(t,e){t.uniform4uiv(this.addr,e)}function zbe(t,e,n){const r=this.cache,i=e.length,o=RS(n,i);ir(r,o)||(t.uniform1iv(this.addr,o),or(r,o));let a;this.type===t.SAMPLER_2D_SHADOW?a=EA:a=BV;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||a,o[s])}function Vbe(t,e,n){const r=this.cache,i=e.length,o=RS(n,i);ir(r,o)||(t.uniform1iv(this.addr,o),or(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||VV,o[a])}function jbe(t,e,n){const r=this.cache,i=e.length,o=RS(n,i);ir(r,o)||(t.uniform1iv(this.addr,o),or(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||jV,o[a])}function Hbe(t,e,n){const r=this.cache,i=e.length,o=RS(n,i);ir(r,o)||(t.uniform1iv(this.addr,o),or(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||zV,o[a])}function $be(t){switch(t){case 5126:return Ebe;case 35664:return Abe;case 35665:return Tbe;case 35666:return Pbe;case 35674:return Cbe;case 35675:return Obe;case 35676:return Rbe;case 5124:case 35670:return Ibe;case 35667:case 35671:return Lbe;case 35668:case 35672:return Nbe;case 35669:case 35673:return Dbe;case 5125:return kbe;case 36294:return Ube;case 36295:return Fbe;case 36296:return Bbe;case 35678:case 36198:case 36298:case 36306:case 35682:return zbe;case 35679:case 36299:case 36307:return Vbe;case 35680:case 36300:case 36308:case 36293:return jbe;case 36289:case 36303:case 36311:case 36292:return Hbe}}class Gbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Mbe(n.type)}}class Wbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=$be(n.type)}}class Xbe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const Iw=/(\w+)(\])?(\[|\.)?/g;function yD(t,e){t.seq.push(e),t.map[e.id]=e}function Ybe(t,e,n){const r=t.name,i=r.length;for(Iw.lastIndex=0;;){const o=Iw.exec(r),a=Iw.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){yD(n,u===void 0?new Gbe(s,t,e):new Wbe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new Xbe(s),yD(n,f)),n=f}}}class wy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const s=e.getActiveUniform(n,a),l=e.getUniformLocation(n,s.name);Ybe(s,l,this)}const i=[],o=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):o.push(a);i.length>0&&(this.seq=i.concat(o))}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function xD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const qbe=37297;let Kbe=0;function Zbe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const _D=new Ot;function Jbe(t){Vt._getMatrix(_D,Vt.workingColorSpace,t);const e=`mat3( ${_D.elements.map(n=>n.toFixed(4))} )`;switch(Vt.getTransfer(t)){case Jp:return[e,"LinearTransferOETF"];case nn:return[e,"sRGBTransferOETF"];default:return qe("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function SD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),o=(t.getShaderInfoLog(e)||"").trim();if(r&&o==="")return"";const a=/ERROR: 0:(\d+)/.exec(o);if(a){const s=parseInt(a[1]);return n.toUpperCase()+`

`+o+`

`+Zbe(t.getShaderSource(e),s)}else return o}function Qbe(t,e){const n=Jbe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const e1e={[RP]:"Linear",[IP]:"Reinhard",[LP]:"Cineon",[Z_]:"ACESFilmic",[DP]:"AgX",[kP]:"Neutral",[NP]:"Custom"};function t1e(t,e){const n=e1e[e];return n===void 0?(qe("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const ey=new H;function n1e(){Vt.getLuminanceCoefficients(ey);const t=ey.x.toFixed(4),e=ey.y.toFixed(4),n=ey.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function r1e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bd).join(`
`)}function i1e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function o1e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function bd(t){return t!==""}function bD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function wD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const a1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function AA(t){return t.replace(a1e,l1e)}const s1e=new Map;function l1e(t,e){let n=It[e];if(n===void 0){const r=s1e.get(e);if(r!==void 0)n=It[r],qe('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return AA(n)}const u1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function MD(t){return t.replace(u1e,c1e)}function c1e(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function ED(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const f1e={[rf]:"SHADOWMAP_TYPE_PCF",[Zl]:"SHADOWMAP_TYPE_VSM"};function h1e(t){return f1e[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const d1e={[fa]:"ENVMAP_TYPE_CUBE",[qs]:"ENVMAP_TYPE_CUBE",[sh]:"ENVMAP_TYPE_CUBE_UV"};function p1e(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":d1e[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const m1e={[qs]:"ENVMAP_MODE_REFRACTION"};function g1e(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":m1e[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const v1e={[Am]:"ENVMAP_BLENDING_MULTIPLY",[S5]:"ENVMAP_BLENDING_MIX",[b5]:"ENVMAP_BLENDING_ADD"};function y1e(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":v1e[t.combine]||"ENVMAP_BLENDING_NONE"}function x1e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function _1e(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=h1e(n),u=p1e(n),c=g1e(n),f=y1e(n),p=x1e(n),m=r1e(n),v=i1e(o),x=i.createProgram();let y,g,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(bd).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(bd).join(`
`),g.length>0&&(g+=`
`)):(y=[ED(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bd).join(`
`),g=[ED(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==io?"#define TONE_MAPPING":"",n.toneMapping!==io?It.tonemapping_pars_fragment:"",n.toneMapping!==io?t1e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",It.colorspace_pars_fragment,Qbe("linearToOutputTexel",n.outputColorSpace),n1e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(bd).join(`
`)),a=AA(a),a=bD(a,n),a=wD(a,n),s=AA(s),s=bD(s,n),s=wD(s,n),a=MD(a),s=MD(s),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===mA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===mA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=_+y+a,M=_+g+s,w=xD(i,i.VERTEX_SHADER,S),A=xD(i,i.FRAGMENT_SHADER,M);i.attachShader(x,w),i.attachShader(x,A),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function T(L){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(x)||"",F=i.getShaderInfoLog(w)||"",X=i.getShaderInfoLog(A)||"",G=k.trim(),q=F.trim(),W=X.trim();let D=!0,V=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(D=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,w,A);else{const z=SD(i,w,"vertex"),Q=SD(i,A,"fragment");gt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+G+`
`+z+`
`+Q)}else G!==""?qe("WebGLProgram: Program Info Log:",G):(q===""||W==="")&&(V=!1);V&&(L.diagnostics={runnable:D,programLog:G,vertexShader:{log:q,prefix:y},fragmentShader:{log:W,prefix:g}})}i.deleteShader(w),i.deleteShader(A),R=new wy(i,x),P=o1e(i,x)}let R;this.getUniforms=function(){return R===void 0&&T(this),R};let P;this.getAttributes=function(){return P===void 0&&T(this),P};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(x,qbe)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Kbe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=w,this.fragmentShader=A,this}let S1e=0;class b1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new w1e(e),n.set(e,r)),r}}class w1e{constructor(e){this.id=S1e++,this.code=e,this.usedTimes=0}}function M1e(t,e,n,r,i,o,a){const s=new uu,l=new b1e,u=new Set,c=[],f=new Map,p=i.logarithmicDepthBuffer;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return u.add(P),P===0?"uv":`uv${P}`}function y(P,O,L,k,F){const X=k.fog,G=F.geometry,q=P.isMeshStandardMaterial?k.environment:null,W=(P.isMeshStandardMaterial?n:e).get(P.envMap||q),D=W&&W.mapping===sh?W.image.height:null,V=v[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&qe("WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const z=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,Q=z!==void 0?z.length:0;let ne=0;G.morphAttributes.position!==void 0&&(ne=1),G.morphAttributes.normal!==void 0&&(ne=2),G.morphAttributes.color!==void 0&&(ne=3);let de,Fe,et,se;if(V){const Dt=Po[V];de=Dt.vertexShader,Fe=Dt.fragmentShader}else de=P.vertexShader,Fe=P.fragmentShader,l.update(P),et=l.getVertexShaderID(P),se=l.getFragmentShaderID(P);const xe=t.getRenderTarget(),je=t.state.buffers.depth.getReversed(),_e=F.isInstancedMesh===!0,Ee=F.isBatchedMesh===!0,Be=!!P.map,ve=!!P.matcap,$e=!!W,ce=!!P.aoMap,Me=!!P.lightMap,Se=!!P.bumpMap,Le=!!P.normalMap,$=!!P.displacementMap,ct=!!P.emissiveMap,Ge=!!P.metalnessMap,pt=!!P.roughnessMap,Re=P.anisotropy>0,B=P.clearcoat>0,N=P.dispersion>0,ee=P.iridescence>0,pe=P.sheen>0,Te=P.transmission>0,me=Re&&!!P.anisotropyMap,ft=B&&!!P.clearcoatMap,He=B&&!!P.clearcoatNormalMap,it=B&&!!P.clearcoatRoughnessMap,_t=ee&&!!P.iridescenceMap,Pe=ee&&!!P.iridescenceThicknessMap,Xe=pe&&!!P.sheenColorMap,rt=pe&&!!P.sheenRoughnessMap,Z=!!P.specularMap,ae=!!P.specularColorMap,ze=!!P.specularIntensityMap,J=Te&&!!P.transmissionMap,Ne=Te&&!!P.thicknessMap,Oe=!!P.gradientMap,Ye=!!P.alphaMap,Ie=P.alphaTest>0,Ae=!!P.alphaHash,ke=!!P.extensions;let yt=io;P.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(yt=t.toneMapping);const Ft={shaderID:V,shaderType:P.type,shaderName:P.name,vertexShader:de,fragmentShader:Fe,defines:P.defines,customVertexShaderID:et,customFragmentShaderID:se,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:Ee,batchingColor:Ee&&F._colorsTexture!==null,instancing:_e,instancingColor:_e&&F.instanceColor!==null,instancingMorph:_e&&F.morphTexture!==null,outputColorSpace:xe===null?t.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:bu,alphaToCoverage:!!P.alphaToCoverage,map:Be,matcap:ve,envMap:$e,envMapMode:$e&&W.mapping,envMapCubeUVHeight:D,aoMap:ce,lightMap:Me,bumpMap:Se,normalMap:Le,displacementMap:$,emissiveMap:ct,normalMapObjectSpace:Le&&P.normalMapType===P5,normalMapTangentSpace:Le&&P.normalMapType===al,metalnessMap:Ge,roughnessMap:pt,anisotropy:Re,anisotropyMap:me,clearcoat:B,clearcoatMap:ft,clearcoatNormalMap:He,clearcoatRoughnessMap:it,dispersion:N,iridescence:ee,iridescenceMap:_t,iridescenceThicknessMap:Pe,sheen:pe,sheenColorMap:Xe,sheenRoughnessMap:rt,specularMap:Z,specularColorMap:ae,specularIntensityMap:ze,transmission:Te,transmissionMap:J,thicknessMap:Ne,gradientMap:Oe,opaque:P.transparent===!1&&P.blending===su&&P.alphaToCoverage===!1,alphaMap:Ye,alphaTest:Ie,alphaHash:Ae,combine:P.combine,mapUv:Be&&x(P.map.channel),aoMapUv:ce&&x(P.aoMap.channel),lightMapUv:Me&&x(P.lightMap.channel),bumpMapUv:Se&&x(P.bumpMap.channel),normalMapUv:Le&&x(P.normalMap.channel),displacementMapUv:$&&x(P.displacementMap.channel),emissiveMapUv:ct&&x(P.emissiveMap.channel),metalnessMapUv:Ge&&x(P.metalnessMap.channel),roughnessMapUv:pt&&x(P.roughnessMap.channel),anisotropyMapUv:me&&x(P.anisotropyMap.channel),clearcoatMapUv:ft&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:He&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:it&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:Xe&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:rt&&x(P.sheenRoughnessMap.channel),specularMapUv:Z&&x(P.specularMap.channel),specularColorMapUv:ae&&x(P.specularColorMap.channel),specularIntensityMapUv:ze&&x(P.specularIntensityMap.channel),transmissionMapUv:J&&x(P.transmissionMap.channel),thicknessMapUv:Ne&&x(P.thicknessMap.channel),alphaMapUv:Ye&&x(P.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Le||Re),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!G.attributes.uv&&(Be||Ye),fog:!!X,useFog:P.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,reversedDepthBuffer:je,skinning:F.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:ne,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:yt,decodeVideoTexture:Be&&P.map.isVideoTexture===!0&&Vt.getTransfer(P.map.colorSpace)===nn,decodeVideoTextureEmissive:ct&&P.emissiveMap.isVideoTexture===!0&&Vt.getTransfer(P.emissiveMap.colorSpace)===nn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Fr,flipSided:P.side===ti,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:ke&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ke&&P.extensions.multiDraw===!0||Ee)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Ft.vertexUv1s=u.has(1),Ft.vertexUv2s=u.has(2),Ft.vertexUv3s=u.has(3),u.clear(),Ft}function g(P){const O=[];if(P.shaderID?O.push(P.shaderID):(O.push(P.customVertexShaderID),O.push(P.customFragmentShaderID)),P.defines!==void 0)for(const L in P.defines)O.push(L),O.push(P.defines[L]);return P.isRawShaderMaterial===!1&&(_(O,P),S(O,P),O.push(t.outputColorSpace)),O.push(P.customProgramCacheKey),O.join()}function _(P,O){P.push(O.precision),P.push(O.outputColorSpace),P.push(O.envMapMode),P.push(O.envMapCubeUVHeight),P.push(O.mapUv),P.push(O.alphaMapUv),P.push(O.lightMapUv),P.push(O.aoMapUv),P.push(O.bumpMapUv),P.push(O.normalMapUv),P.push(O.displacementMapUv),P.push(O.emissiveMapUv),P.push(O.metalnessMapUv),P.push(O.roughnessMapUv),P.push(O.anisotropyMapUv),P.push(O.clearcoatMapUv),P.push(O.clearcoatNormalMapUv),P.push(O.clearcoatRoughnessMapUv),P.push(O.iridescenceMapUv),P.push(O.iridescenceThicknessMapUv),P.push(O.sheenColorMapUv),P.push(O.sheenRoughnessMapUv),P.push(O.specularMapUv),P.push(O.specularColorMapUv),P.push(O.specularIntensityMapUv),P.push(O.transmissionMapUv),P.push(O.thicknessMapUv),P.push(O.combine),P.push(O.fogExp2),P.push(O.sizeAttenuation),P.push(O.morphTargetsCount),P.push(O.morphAttributeCount),P.push(O.numDirLights),P.push(O.numPointLights),P.push(O.numSpotLights),P.push(O.numSpotLightMaps),P.push(O.numHemiLights),P.push(O.numRectAreaLights),P.push(O.numDirLightShadows),P.push(O.numPointLightShadows),P.push(O.numSpotLightShadows),P.push(O.numSpotLightShadowsWithMaps),P.push(O.numLightProbes),P.push(O.shadowMapType),P.push(O.toneMapping),P.push(O.numClippingPlanes),P.push(O.numClipIntersection),P.push(O.depthPacking)}function S(P,O){s.disableAll(),O.instancing&&s.enable(0),O.instancingColor&&s.enable(1),O.instancingMorph&&s.enable(2),O.matcap&&s.enable(3),O.envMap&&s.enable(4),O.normalMapObjectSpace&&s.enable(5),O.normalMapTangentSpace&&s.enable(6),O.clearcoat&&s.enable(7),O.iridescence&&s.enable(8),O.alphaTest&&s.enable(9),O.vertexColors&&s.enable(10),O.vertexAlphas&&s.enable(11),O.vertexUv1s&&s.enable(12),O.vertexUv2s&&s.enable(13),O.vertexUv3s&&s.enable(14),O.vertexTangents&&s.enable(15),O.anisotropy&&s.enable(16),O.alphaHash&&s.enable(17),O.batching&&s.enable(18),O.dispersion&&s.enable(19),O.batchingColor&&s.enable(20),O.gradientMap&&s.enable(21),P.push(s.mask),s.disableAll(),O.fog&&s.enable(0),O.useFog&&s.enable(1),O.flatShading&&s.enable(2),O.logarithmicDepthBuffer&&s.enable(3),O.reversedDepthBuffer&&s.enable(4),O.skinning&&s.enable(5),O.morphTargets&&s.enable(6),O.morphNormals&&s.enable(7),O.morphColors&&s.enable(8),O.premultipliedAlpha&&s.enable(9),O.shadowMapEnabled&&s.enable(10),O.doubleSided&&s.enable(11),O.flipSided&&s.enable(12),O.useDepthPacking&&s.enable(13),O.dithering&&s.enable(14),O.transmission&&s.enable(15),O.sheen&&s.enable(16),O.opaque&&s.enable(17),O.pointsUvs&&s.enable(18),O.decodeVideoTexture&&s.enable(19),O.decodeVideoTextureEmissive&&s.enable(20),O.alphaToCoverage&&s.enable(21),P.push(s.mask)}function M(P){const O=v[P.type];let L;if(O){const k=Po[O];L=V5.clone(k.uniforms)}else L=P.uniforms;return L}function w(P,O){let L=f.get(O);return L!==void 0?++L.usedTimes:(L=new _1e(t,O,P,o),c.push(L),f.set(O,L)),L}function A(P){if(--P.usedTimes===0){const O=c.indexOf(P);c[O]=c[c.length-1],c.pop(),f.delete(P.cacheKey),P.destroy()}}function T(P){l.remove(P)}function R(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:M,acquireProgram:w,releaseProgram:A,releaseShaderCache:T,programs:c,dispose:R}}function E1e(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function A1e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function AD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function TD(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,p,m,v,x,y){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:x,group:y},t[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=x,g.group=y),e++,g}function s(f,p,m,v,x,y){const g=a(f,p,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(f,p,m,v,x,y){const g=a(f,p,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,p){n.length>1&&n.sort(f||A1e),r.length>1&&r.sort(p||AD),i.length>1&&i.sort(p||AD)}function c(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function T1e(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new TD,t.set(r,[a])):i>=o.length?(a=new TD,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function P1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new nt};break;case"SpotLight":n={position:new H,direction:new H,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new nt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":n={color:new nt,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function C1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let O1e=0;function R1e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function I1e(t){const e=new P1e,n=C1e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new H);const i=new H,o=new Et,a=new Et;function s(u){let c=0,f=0,p=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let m=0,v=0,x=0,y=0,g=0,_=0,S=0,M=0,w=0,A=0,T=0;u.sort(R1e);for(let P=0,O=u.length;P<O;P++){const L=u[P],k=L.color,F=L.intensity,X=L.distance;let G=null;if(L.shadow&&L.shadow.map&&(L.shadow.map.texture.format===Su?G=L.shadow.map.texture:G=L.shadow.map.depthTexture||L.shadow.map.texture),L.isAmbientLight)c+=k.r*F,f+=k.g*F,p+=k.b*F;else if(L.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(L.sh.coefficients[q],F);T++}else if(L.isDirectionalLight){const q=e.get(L);if(q.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const W=L.shadow,D=n.get(L);D.shadowIntensity=W.intensity,D.shadowBias=W.bias,D.shadowNormalBias=W.normalBias,D.shadowRadius=W.radius,D.shadowMapSize=W.mapSize,r.directionalShadow[m]=D,r.directionalShadowMap[m]=G,r.directionalShadowMatrix[m]=L.shadow.matrix,_++}r.directional[m]=q,m++}else if(L.isSpotLight){const q=e.get(L);q.position.setFromMatrixPosition(L.matrixWorld),q.color.copy(k).multiplyScalar(F),q.distance=X,q.coneCos=Math.cos(L.angle),q.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),q.decay=L.decay,r.spot[x]=q;const W=L.shadow;if(L.map&&(r.spotLightMap[w]=L.map,w++,W.updateMatrices(L),L.castShadow&&A++),r.spotLightMatrix[x]=W.matrix,L.castShadow){const D=n.get(L);D.shadowIntensity=W.intensity,D.shadowBias=W.bias,D.shadowNormalBias=W.normalBias,D.shadowRadius=W.radius,D.shadowMapSize=W.mapSize,r.spotShadow[x]=D,r.spotShadowMap[x]=G,M++}x++}else if(L.isRectAreaLight){const q=e.get(L);q.color.copy(k).multiplyScalar(F),q.halfWidth.set(L.width*.5,0,0),q.halfHeight.set(0,L.height*.5,0),r.rectArea[y]=q,y++}else if(L.isPointLight){const q=e.get(L);if(q.color.copy(L.color).multiplyScalar(L.intensity),q.distance=L.distance,q.decay=L.decay,L.castShadow){const W=L.shadow,D=n.get(L);D.shadowIntensity=W.intensity,D.shadowBias=W.bias,D.shadowNormalBias=W.normalBias,D.shadowRadius=W.radius,D.shadowMapSize=W.mapSize,D.shadowCameraNear=W.camera.near,D.shadowCameraFar=W.camera.far,r.pointShadow[v]=D,r.pointShadowMap[v]=G,r.pointShadowMatrix[v]=L.shadow.matrix,S++}r.point[v]=q,v++}else if(L.isHemisphereLight){const q=e.get(L);q.skyColor.copy(L.color).multiplyScalar(F),q.groundColor.copy(L.groundColor).multiplyScalar(F),r.hemi[g]=q,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ke.LTC_FLOAT_1,r.rectAreaLTC2=Ke.LTC_FLOAT_2):(r.rectAreaLTC1=Ke.LTC_HALF_1,r.rectAreaLTC2=Ke.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=p;const R=r.hash;(R.directionalLength!==m||R.pointLength!==v||R.spotLength!==x||R.rectAreaLength!==y||R.hemiLength!==g||R.numDirectionalShadows!==_||R.numPointShadows!==S||R.numSpotShadows!==M||R.numSpotMaps!==w||R.numLightProbes!==T)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=y,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=M+w-A,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=T,R.directionalLength=m,R.pointLength=v,R.spotLength=x,R.rectAreaLength=y,R.hemiLength=g,R.numDirectionalShadows=_,R.numPointShadows=S,R.numSpotShadows=M,R.numSpotMaps=w,R.numLightProbes=T,r.version=O1e++)}function l(u,c){let f=0,p=0,m=0,v=0,x=0;const y=c.matrixWorldInverse;for(let g=0,_=u.length;g<_;g++){const S=u[g];if(S.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),f++}else if(S.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(S.isRectAreaLight){const M=r.rectArea[v];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),a.identity(),o.copy(S.matrixWorld),o.premultiply(y),a.extractRotation(o),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(y),x++}}}return{setup:s,setupView:l,state:r}}function PD(t){const e=new I1e(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function o(c){n.push(c)}function a(c){r.push(c)}function s(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function L1e(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new PD(t),e.set(i,[s])):o>=a.length?(s=new PD(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const N1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,D1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,k1e=[new H(1,0,0),new H(-1,0,0),new H(0,1,0),new H(0,-1,0),new H(0,0,1),new H(0,0,-1)],U1e=[new H(0,-1,0),new H(0,-1,0),new H(0,0,1),new H(0,0,-1),new H(0,-1,0),new H(0,-1,0)],CD=new Et,hd=new H,Lw=new H;function F1e(t,e,n){let r=new lh;const i=new we,o=new we,a=new fn,s=new uC,l=new cC,u={},c=n.maxTextureSize,f={[Qa]:ti,[ti]:Qa,[Fr]:Fr},p=new uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new we},radius:{value:4}},vertexShader:N1e,fragmentShader:D1e}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Tt;v.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new qn(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rf;let g=this.type;this.render=function(A,T,R){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;A.type===Ud&&(qe("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),A.type=rf);const P=t.getRenderTarget(),O=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),k=t.state;k.setBlending(sa),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const F=g!==this.type;F&&T.traverse(function(X){X.material&&(Array.isArray(X.material)?X.material.forEach(G=>G.needsUpdate=!0):X.material.needsUpdate=!0)});for(let X=0,G=A.length;X<G;X++){const q=A[X],W=q.shadow;if(W===void 0){qe("WebGLShadowMap:",q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const D=W.getFrameExtents();if(i.multiply(D),o.copy(W.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/D.x),i.x=o.x*D.x,W.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/D.y),i.y=o.y*D.y,W.mapSize.y=o.y)),W.map===null||F===!0){if(W.map!==null&&(W.map.depthTexture!==null&&(W.map.depthTexture.dispose(),W.map.depthTexture=null),W.map.dispose()),this.type===Zl){if(q.isPointLight){qe("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}W.map=new Di(i.x,i.y,{format:Su,type:ha,minFilter:bn,magFilter:bn,generateMipmaps:!1}),W.map.texture.name=q.name+".shadowMap",W.map.depthTexture=new Vf(i.x,i.y,Qr),W.map.depthTexture.name=q.name+".shadowMapDepth",W.map.depthTexture.format=da,W.map.depthTexture.compareFunction=null,W.map.depthTexture.minFilter=Vn,W.map.depthTexture.magFilter=Vn}else{q.isPointLight?(W.map=new qP(i.x),W.map.depthTexture=new J5(i.x,lo)):(W.map=new Di(i.x,i.y),W.map.depthTexture=new Vf(i.x,i.y,lo)),W.map.depthTexture.name=q.name+".shadowMap",W.map.depthTexture.format=da;const z=t.state.buffers.depth.getReversed();this.type===rf?(W.map.depthTexture.compareFunction=z?sS:aS,W.map.depthTexture.minFilter=bn,W.map.depthTexture.magFilter=bn):(W.map.depthTexture.compareFunction=null,W.map.depthTexture.minFilter=Vn,W.map.depthTexture.magFilter=Vn)}W.camera.updateProjectionMatrix()}const V=W.map.isWebGLCubeRenderTarget?6:1;for(let z=0;z<V;z++){if(W.map.isWebGLCubeRenderTarget)t.setRenderTarget(W.map,z),t.clear();else{z===0&&(t.setRenderTarget(W.map),t.clear());const Q=W.getViewport(z);a.set(o.x*Q.x,o.y*Q.y,o.x*Q.z,o.y*Q.w),k.viewport(a)}if(q.isPointLight){const Q=W.camera,ne=W.matrix,de=q.distance||Q.far;de!==Q.far&&(Q.far=de,Q.updateProjectionMatrix()),hd.setFromMatrixPosition(q.matrixWorld),Q.position.copy(hd),Lw.copy(Q.position),Lw.add(k1e[z]),Q.up.copy(U1e[z]),Q.lookAt(Lw),Q.updateMatrixWorld(),ne.makeTranslation(-hd.x,-hd.y,-hd.z),CD.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),W._frustum.setFromProjectionMatrix(CD,Q.coordinateSystem,Q.reversedDepth)}else W.updateMatrices(q);r=W.getFrustum(),M(T,R,W.camera,q,this.type)}W.isPointLightShadow!==!0&&this.type===Zl&&_(W,R),W.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(P,O,L)};function _(A,T){const R=e.update(x);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Di(i.x,i.y,{format:Su,type:ha})),p.uniforms.shadow_pass.value=A.map.depthTexture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(T,null,R,p,x,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(T,null,R,m,x,null)}function S(A,T,R,P){let O=null;const L=R.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(L!==void 0)O=L;else if(O=R.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0||T.alphaToCoverage===!0){const k=O.uuid,F=T.uuid;let X=u[k];X===void 0&&(X={},u[k]=X);let G=X[F];G===void 0&&(G=O.clone(),X[F]=G,T.addEventListener("dispose",w)),O=G}if(O.visible=T.visible,O.wireframe=T.wireframe,P===Zl?O.side=T.shadowSide!==null?T.shadowSide:T.side:O.side=T.shadowSide!==null?T.shadowSide:f[T.side],O.alphaMap=T.alphaMap,O.alphaTest=T.alphaToCoverage===!0?.5:T.alphaTest,O.map=T.map,O.clipShadows=T.clipShadows,O.clippingPlanes=T.clippingPlanes,O.clipIntersection=T.clipIntersection,O.displacementMap=T.displacementMap,O.displacementScale=T.displacementScale,O.displacementBias=T.displacementBias,O.wireframeLinewidth=T.wireframeLinewidth,O.linewidth=T.linewidth,R.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const k=t.properties.get(O);k.light=R}return O}function M(A,T,R,P,O){if(A.visible===!1)return;if(A.layers.test(T.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&O===Zl)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,A.matrixWorld);const F=e.update(A),X=A.material;if(Array.isArray(X)){const G=F.groups;for(let q=0,W=G.length;q<W;q++){const D=G[q],V=X[D.materialIndex];if(V&&V.visible){const z=S(A,V,P,O);A.onBeforeShadow(t,A,T,R,F,z,D),t.renderBufferDirect(R,null,F,z,A,D),A.onAfterShadow(t,A,T,R,F,z,D)}}}else if(X.visible){const G=S(A,X,P,O);A.onBeforeShadow(t,A,T,R,F,G,null),t.renderBufferDirect(R,null,F,G,A,null),A.onAfterShadow(t,A,T,R,F,G,null)}}const k=A.children;for(let F=0,X=k.length;F<X;F++)M(k[F],T,R,P,O)}function w(A){A.target.removeEventListener("dispose",w);for(const R in u){const P=u[R],O=A.target.uuid;O in P&&(P[O].dispose(),delete P[O])}}}const B1e={[Z0]:J0,[Q0]:nx,[ex]:rx,[_u]:tx,[J0]:Z0,[nx]:Q0,[rx]:ex,[tx]:_u};function z1e(t,e){function n(){let J=!1;const Ne=new fn;let Oe=null;const Ye=new fn(0,0,0,0);return{setMask:function(Ie){Oe!==Ie&&!J&&(t.colorMask(Ie,Ie,Ie,Ie),Oe=Ie)},setLocked:function(Ie){J=Ie},setClear:function(Ie,Ae,ke,yt,Ft){Ft===!0&&(Ie*=yt,Ae*=yt,ke*=yt),Ne.set(Ie,Ae,ke,yt),Ye.equals(Ne)===!1&&(t.clearColor(Ie,Ae,ke,yt),Ye.copy(Ne))},reset:function(){J=!1,Oe=null,Ye.set(-1,0,0,0)}}}function r(){let J=!1,Ne=!1,Oe=null,Ye=null,Ie=null;return{setReversed:function(Ae){if(Ne!==Ae){const ke=e.get("EXT_clip_control");Ae?ke.clipControlEXT(ke.LOWER_LEFT_EXT,ke.ZERO_TO_ONE_EXT):ke.clipControlEXT(ke.LOWER_LEFT_EXT,ke.NEGATIVE_ONE_TO_ONE_EXT),Ne=Ae;const yt=Ie;Ie=null,this.setClear(yt)}},getReversed:function(){return Ne},setTest:function(Ae){Ae?xe(t.DEPTH_TEST):je(t.DEPTH_TEST)},setMask:function(Ae){Oe!==Ae&&!J&&(t.depthMask(Ae),Oe=Ae)},setFunc:function(Ae){if(Ne&&(Ae=B1e[Ae]),Ye!==Ae){switch(Ae){case Z0:t.depthFunc(t.NEVER);break;case J0:t.depthFunc(t.ALWAYS);break;case Q0:t.depthFunc(t.LESS);break;case _u:t.depthFunc(t.LEQUAL);break;case ex:t.depthFunc(t.EQUAL);break;case tx:t.depthFunc(t.GEQUAL);break;case nx:t.depthFunc(t.GREATER);break;case rx:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ye=Ae}},setLocked:function(Ae){J=Ae},setClear:function(Ae){Ie!==Ae&&(Ne&&(Ae=1-Ae),t.clearDepth(Ae),Ie=Ae)},reset:function(){J=!1,Oe=null,Ye=null,Ie=null,Ne=!1}}}function i(){let J=!1,Ne=null,Oe=null,Ye=null,Ie=null,Ae=null,ke=null,yt=null,Ft=null;return{setTest:function(Dt){J||(Dt?xe(t.STENCIL_TEST):je(t.STENCIL_TEST))},setMask:function(Dt){Ne!==Dt&&!J&&(t.stencilMask(Dt),Ne=Dt)},setFunc:function(Dt,Kn,Mr){(Oe!==Dt||Ye!==Kn||Ie!==Mr)&&(t.stencilFunc(Dt,Kn,Mr),Oe=Dt,Ye=Kn,Ie=Mr)},setOp:function(Dt,Kn,Mr){(Ae!==Dt||ke!==Kn||yt!==Mr)&&(t.stencilOp(Dt,Kn,Mr),Ae=Dt,ke=Kn,yt=Mr)},setLocked:function(Dt){J=Dt},setClear:function(Dt){Ft!==Dt&&(t.clearStencil(Dt),Ft=Dt)},reset:function(){J=!1,Ne=null,Oe=null,Ye=null,Ie=null,Ae=null,ke=null,yt=null,Ft=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,u=new WeakMap;let c={},f={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,_=null,S=null,M=null,w=null,A=null,T=new nt(0,0,0),R=0,P=!1,O=null,L=null,k=null,F=null,X=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,W=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(D)[1]),q=W>=1):D.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),q=W>=2);let V=null,z={};const Q=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),de=new fn().fromArray(Q),Fe=new fn().fromArray(ne);function et(J,Ne,Oe,Ye){const Ie=new Uint8Array(4),Ae=t.createTexture();t.bindTexture(J,Ae),t.texParameteri(J,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(J,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ke=0;ke<Oe;ke++)J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY?t.texImage3D(Ne,0,t.RGBA,1,1,Ye,0,t.RGBA,t.UNSIGNED_BYTE,Ie):t.texImage2D(Ne+ke,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ie);return Ae}const se={};se[t.TEXTURE_2D]=et(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=et(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=et(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=et(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),xe(t.DEPTH_TEST),a.setFunc(_u),Se(!1),Le(uA),xe(t.CULL_FACE),ce(sa);function xe(J){c[J]!==!0&&(t.enable(J),c[J]=!0)}function je(J){c[J]!==!1&&(t.disable(J),c[J]=!1)}function _e(J,Ne){return f[J]!==Ne?(t.bindFramebuffer(J,Ne),f[J]=Ne,J===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Ne),J===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Ne),!0):!1}function Ee(J,Ne){let Oe=m,Ye=!1;if(J){Oe=p.get(Ne),Oe===void 0&&(Oe=[],p.set(Ne,Oe));const Ie=J.textures;if(Oe.length!==Ie.length||Oe[0]!==t.COLOR_ATTACHMENT0){for(let Ae=0,ke=Ie.length;Ae<ke;Ae++)Oe[Ae]=t.COLOR_ATTACHMENT0+Ae;Oe.length=Ie.length,Ye=!0}}else Oe[0]!==t.BACK&&(Oe[0]=t.BACK,Ye=!0);Ye&&t.drawBuffers(Oe)}function Be(J){return v!==J?(t.useProgram(J),v=J,!0):!1}const ve={[Os]:t.FUNC_ADD,[i5]:t.FUNC_SUBTRACT,[o5]:t.FUNC_REVERSE_SUBTRACT};ve[a5]=t.MIN,ve[s5]=t.MAX;const $e={[l5]:t.ZERO,[u5]:t.ONE,[c5]:t.SRC_COLOR,[q0]:t.SRC_ALPHA,[g5]:t.SRC_ALPHA_SATURATE,[p5]:t.DST_COLOR,[h5]:t.DST_ALPHA,[f5]:t.ONE_MINUS_SRC_COLOR,[K0]:t.ONE_MINUS_SRC_ALPHA,[m5]:t.ONE_MINUS_DST_COLOR,[d5]:t.ONE_MINUS_DST_ALPHA,[v5]:t.CONSTANT_COLOR,[y5]:t.ONE_MINUS_CONSTANT_COLOR,[x5]:t.CONSTANT_ALPHA,[_5]:t.ONE_MINUS_CONSTANT_ALPHA};function ce(J,Ne,Oe,Ye,Ie,Ae,ke,yt,Ft,Dt){if(J===sa){x===!0&&(je(t.BLEND),x=!1);return}if(x===!1&&(xe(t.BLEND),x=!0),J!==r5){if(J!==y||Dt!==P){if((g!==Os||M!==Os)&&(t.blendEquation(t.FUNC_ADD),g=Os,M=Os),Dt)switch(J){case su:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cA:t.blendFunc(t.ONE,t.ONE);break;case fA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case hA:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:gt("WebGLState: Invalid blending: ",J);break}else switch(J){case su:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cA:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case fA:gt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case hA:gt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:gt("WebGLState: Invalid blending: ",J);break}_=null,S=null,w=null,A=null,T.set(0,0,0),R=0,y=J,P=Dt}return}Ie=Ie||Ne,Ae=Ae||Oe,ke=ke||Ye,(Ne!==g||Ie!==M)&&(t.blendEquationSeparate(ve[Ne],ve[Ie]),g=Ne,M=Ie),(Oe!==_||Ye!==S||Ae!==w||ke!==A)&&(t.blendFuncSeparate($e[Oe],$e[Ye],$e[Ae],$e[ke]),_=Oe,S=Ye,w=Ae,A=ke),(yt.equals(T)===!1||Ft!==R)&&(t.blendColor(yt.r,yt.g,yt.b,Ft),T.copy(yt),R=Ft),y=J,P=!1}function Me(J,Ne){J.side===Fr?je(t.CULL_FACE):xe(t.CULL_FACE);let Oe=J.side===ti;Ne&&(Oe=!Oe),Se(Oe),J.blending===su&&J.transparent===!1?ce(sa):ce(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.blendColor,J.blendAlpha,J.premultipliedAlpha),a.setFunc(J.depthFunc),a.setTest(J.depthTest),a.setMask(J.depthWrite),o.setMask(J.colorWrite);const Ye=J.stencilWrite;s.setTest(Ye),Ye&&(s.setMask(J.stencilWriteMask),s.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),s.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),ct(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?xe(t.SAMPLE_ALPHA_TO_COVERAGE):je(t.SAMPLE_ALPHA_TO_COVERAGE)}function Se(J){O!==J&&(J?t.frontFace(t.CW):t.frontFace(t.CCW),O=J)}function Le(J){J!==e5?(xe(t.CULL_FACE),J!==L&&(J===uA?t.cullFace(t.BACK):J===t5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):je(t.CULL_FACE),L=J}function $(J){J!==k&&(q&&t.lineWidth(J),k=J)}function ct(J,Ne,Oe){J?(xe(t.POLYGON_OFFSET_FILL),(F!==Ne||X!==Oe)&&(t.polygonOffset(Ne,Oe),F=Ne,X=Oe)):je(t.POLYGON_OFFSET_FILL)}function Ge(J){J?xe(t.SCISSOR_TEST):je(t.SCISSOR_TEST)}function pt(J){J===void 0&&(J=t.TEXTURE0+G-1),V!==J&&(t.activeTexture(J),V=J)}function Re(J,Ne,Oe){Oe===void 0&&(V===null?Oe=t.TEXTURE0+G-1:Oe=V);let Ye=z[Oe];Ye===void 0&&(Ye={type:void 0,texture:void 0},z[Oe]=Ye),(Ye.type!==J||Ye.texture!==Ne)&&(V!==Oe&&(t.activeTexture(Oe),V=Oe),t.bindTexture(J,Ne||se[J]),Ye.type=J,Ye.texture=Ne)}function B(){const J=z[V];J!==void 0&&J.type!==void 0&&(t.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function N(){try{t.compressedTexImage2D(...arguments)}catch(J){gt("WebGLState:",J)}}function ee(){try{t.compressedTexImage3D(...arguments)}catch(J){gt("WebGLState:",J)}}function pe(){try{t.texSubImage2D(...arguments)}catch(J){gt("WebGLState:",J)}}function Te(){try{t.texSubImage3D(...arguments)}catch(J){gt("WebGLState:",J)}}function me(){try{t.compressedTexSubImage2D(...arguments)}catch(J){gt("WebGLState:",J)}}function ft(){try{t.compressedTexSubImage3D(...arguments)}catch(J){gt("WebGLState:",J)}}function He(){try{t.texStorage2D(...arguments)}catch(J){gt("WebGLState:",J)}}function it(){try{t.texStorage3D(...arguments)}catch(J){gt("WebGLState:",J)}}function _t(){try{t.texImage2D(...arguments)}catch(J){gt("WebGLState:",J)}}function Pe(){try{t.texImage3D(...arguments)}catch(J){gt("WebGLState:",J)}}function Xe(J){de.equals(J)===!1&&(t.scissor(J.x,J.y,J.z,J.w),de.copy(J))}function rt(J){Fe.equals(J)===!1&&(t.viewport(J.x,J.y,J.z,J.w),Fe.copy(J))}function Z(J,Ne){let Oe=u.get(Ne);Oe===void 0&&(Oe=new WeakMap,u.set(Ne,Oe));let Ye=Oe.get(J);Ye===void 0&&(Ye=t.getUniformBlockIndex(Ne,J.name),Oe.set(J,Ye))}function ae(J,Ne){const Ye=u.get(Ne).get(J);l.get(Ne)!==Ye&&(t.uniformBlockBinding(Ne,Ye,J.__bindingPointIndex),l.set(Ne,Ye))}function ze(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},V=null,z={},f={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,_=null,S=null,M=null,w=null,A=null,T=new nt(0,0,0),R=0,P=!1,O=null,L=null,k=null,F=null,X=null,de.set(0,0,t.canvas.width,t.canvas.height),Fe.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:xe,disable:je,bindFramebuffer:_e,drawBuffers:Ee,useProgram:Be,setBlending:ce,setMaterial:Me,setFlipSided:Se,setCullFace:Le,setLineWidth:$,setPolygonOffset:ct,setScissorTest:Ge,activeTexture:pt,bindTexture:Re,unbindTexture:B,compressedTexImage2D:N,compressedTexImage3D:ee,texImage2D:_t,texImage3D:Pe,updateUBOMapping:Z,uniformBlockBinding:ae,texStorage2D:He,texStorage3D:it,texSubImage2D:pe,texSubImage3D:Te,compressedTexSubImage2D:me,compressedTexSubImage3D:ft,scissor:Xe,viewport:rt,reset:ze}}function V1e(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new we,c=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(B,N){return m?new OffscreenCanvas(B,N):em("canvas")}function x(B,N,ee){let pe=1;const Te=Re(B);if((Te.width>ee||Te.height>ee)&&(pe=ee/Math.max(Te.width,Te.height)),pe<1)if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap||typeof VideoFrame<"u"&&B instanceof VideoFrame){const me=Math.floor(pe*Te.width),ft=Math.floor(pe*Te.height);f===void 0&&(f=v(me,ft));const He=N?v(me,ft):f;return He.width=me,He.height=ft,He.getContext("2d").drawImage(B,0,0,me,ft),qe("WebGLRenderer: Texture has been resized from ("+Te.width+"x"+Te.height+") to ("+me+"x"+ft+")."),He}else return"data"in B&&qe("WebGLRenderer: Image in DataTexture is too big ("+Te.width+"x"+Te.height+")."),B;return B}function y(B){return B.generateMipmaps}function g(B){t.generateMipmap(B)}function _(B){return B.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:B.isWebGL3DRenderTarget?t.TEXTURE_3D:B.isWebGLArrayRenderTarget||B.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function S(B,N,ee,pe,Te=!1){if(B!==null){if(t[B]!==void 0)return t[B];qe("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let me=N;if(N===t.RED&&(ee===t.FLOAT&&(me=t.R32F),ee===t.HALF_FLOAT&&(me=t.R16F),ee===t.UNSIGNED_BYTE&&(me=t.R8)),N===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.R8UI),ee===t.UNSIGNED_SHORT&&(me=t.R16UI),ee===t.UNSIGNED_INT&&(me=t.R32UI),ee===t.BYTE&&(me=t.R8I),ee===t.SHORT&&(me=t.R16I),ee===t.INT&&(me=t.R32I)),N===t.RG&&(ee===t.FLOAT&&(me=t.RG32F),ee===t.HALF_FLOAT&&(me=t.RG16F),ee===t.UNSIGNED_BYTE&&(me=t.RG8)),N===t.RG_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.RG8UI),ee===t.UNSIGNED_SHORT&&(me=t.RG16UI),ee===t.UNSIGNED_INT&&(me=t.RG32UI),ee===t.BYTE&&(me=t.RG8I),ee===t.SHORT&&(me=t.RG16I),ee===t.INT&&(me=t.RG32I)),N===t.RGB_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.RGB8UI),ee===t.UNSIGNED_SHORT&&(me=t.RGB16UI),ee===t.UNSIGNED_INT&&(me=t.RGB32UI),ee===t.BYTE&&(me=t.RGB8I),ee===t.SHORT&&(me=t.RGB16I),ee===t.INT&&(me=t.RGB32I)),N===t.RGBA_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.RGBA8UI),ee===t.UNSIGNED_SHORT&&(me=t.RGBA16UI),ee===t.UNSIGNED_INT&&(me=t.RGBA32UI),ee===t.BYTE&&(me=t.RGBA8I),ee===t.SHORT&&(me=t.RGBA16I),ee===t.INT&&(me=t.RGBA32I)),N===t.RGB&&(ee===t.UNSIGNED_INT_5_9_9_9_REV&&(me=t.RGB9_E5),ee===t.UNSIGNED_INT_10F_11F_11F_REV&&(me=t.R11F_G11F_B10F)),N===t.RGBA){const ft=Te?Jp:Vt.getTransfer(pe);ee===t.FLOAT&&(me=t.RGBA32F),ee===t.HALF_FLOAT&&(me=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(me=ft===nn?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function M(B,N){let ee;return B?N===null||N===lo||N===Df?ee=t.DEPTH24_STENCIL8:N===Qr?ee=t.DEPTH32F_STENCIL8:N===Nf&&(ee=t.DEPTH24_STENCIL8,qe("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):N===null||N===lo||N===Df?ee=t.DEPTH_COMPONENT24:N===Qr?ee=t.DEPTH_COMPONENT32F:N===Nf&&(ee=t.DEPTH_COMPONENT16),ee}function w(B,N){return y(B)===!0||B.isFramebufferTexture&&B.minFilter!==Vn&&B.minFilter!==bn?Math.log2(Math.max(N.width,N.height))+1:B.mipmaps!==void 0&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?N.mipmaps.length:1}function A(B){const N=B.target;N.removeEventListener("dispose",A),R(N),N.isVideoTexture&&c.delete(N)}function T(B){const N=B.target;N.removeEventListener("dispose",T),O(N)}function R(B){const N=r.get(B);if(N.__webglInit===void 0)return;const ee=B.source,pe=p.get(ee);if(pe){const Te=pe[N.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&P(B),Object.keys(pe).length===0&&p.delete(ee)}r.remove(B)}function P(B){const N=r.get(B);t.deleteTexture(N.__webglTexture);const ee=B.source,pe=p.get(ee);delete pe[N.__cacheKey],a.memory.textures--}function O(B){const N=r.get(B);if(B.depthTexture&&(B.depthTexture.dispose(),r.remove(B.depthTexture)),B.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(N.__webglFramebuffer[pe]))for(let Te=0;Te<N.__webglFramebuffer[pe].length;Te++)t.deleteFramebuffer(N.__webglFramebuffer[pe][Te]);else t.deleteFramebuffer(N.__webglFramebuffer[pe]);N.__webglDepthbuffer&&t.deleteRenderbuffer(N.__webglDepthbuffer[pe])}else{if(Array.isArray(N.__webglFramebuffer))for(let pe=0;pe<N.__webglFramebuffer.length;pe++)t.deleteFramebuffer(N.__webglFramebuffer[pe]);else t.deleteFramebuffer(N.__webglFramebuffer);if(N.__webglDepthbuffer&&t.deleteRenderbuffer(N.__webglDepthbuffer),N.__webglMultisampledFramebuffer&&t.deleteFramebuffer(N.__webglMultisampledFramebuffer),N.__webglColorRenderbuffer)for(let pe=0;pe<N.__webglColorRenderbuffer.length;pe++)N.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer(N.__webglColorRenderbuffer[pe]);N.__webglDepthRenderbuffer&&t.deleteRenderbuffer(N.__webglDepthRenderbuffer)}const ee=B.textures;for(let pe=0,Te=ee.length;pe<Te;pe++){const me=r.get(ee[pe]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),a.memory.textures--),r.remove(ee[pe])}r.remove(B)}let L=0;function k(){L=0}function F(){const B=L;return B>=i.maxTextures&&qe("WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+i.maxTextures),L+=1,B}function X(B){const N=[];return N.push(B.wrapS),N.push(B.wrapT),N.push(B.wrapR||0),N.push(B.magFilter),N.push(B.minFilter),N.push(B.anisotropy),N.push(B.internalFormat),N.push(B.format),N.push(B.type),N.push(B.generateMipmaps),N.push(B.premultiplyAlpha),N.push(B.flipY),N.push(B.unpackAlignment),N.push(B.colorSpace),N.join()}function G(B,N){const ee=r.get(B);if(B.isVideoTexture&&Ge(B),B.isRenderTargetTexture===!1&&B.isExternalTexture!==!0&&B.version>0&&ee.__version!==B.version){const pe=B.image;if(pe===null)qe("WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)qe("WebGLRenderer: Texture marked for update but image is incomplete");else{se(ee,B,N);return}}else B.isExternalTexture&&(ee.__webglTexture=B.sourceTexture?B.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+N)}function q(B,N){const ee=r.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&ee.__version!==B.version){se(ee,B,N);return}else B.isExternalTexture&&(ee.__webglTexture=B.sourceTexture?B.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+N)}function W(B,N){const ee=r.get(B);if(B.isRenderTargetTexture===!1&&B.version>0&&ee.__version!==B.version){se(ee,B,N);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+N)}function D(B,N){const ee=r.get(B);if(B.isCubeDepthTexture!==!0&&B.version>0&&ee.__version!==B.version){xe(ee,B,N);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+N)}const V={[Yp]:t.REPEAT,[mi]:t.CLAMP_TO_EDGE,[qp]:t.MIRRORED_REPEAT},z={[Vn]:t.NEAREST,[UP]:t.NEAREST_MIPMAP_NEAREST,[Hc]:t.NEAREST_MIPMAP_LINEAR,[bn]:t.LINEAR,[Fd]:t.LINEAR_MIPMAP_NEAREST,[ta]:t.LINEAR_MIPMAP_LINEAR},Q={[C5]:t.NEVER,[N5]:t.ALWAYS,[O5]:t.LESS,[aS]:t.LEQUAL,[R5]:t.EQUAL,[sS]:t.GEQUAL,[I5]:t.GREATER,[L5]:t.NOTEQUAL};function ne(B,N){if(N.type===Qr&&e.has("OES_texture_float_linear")===!1&&(N.magFilter===bn||N.magFilter===Fd||N.magFilter===Hc||N.magFilter===ta||N.minFilter===bn||N.minFilter===Fd||N.minFilter===Hc||N.minFilter===ta)&&qe("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(B,t.TEXTURE_WRAP_S,V[N.wrapS]),t.texParameteri(B,t.TEXTURE_WRAP_T,V[N.wrapT]),(B===t.TEXTURE_3D||B===t.TEXTURE_2D_ARRAY)&&t.texParameteri(B,t.TEXTURE_WRAP_R,V[N.wrapR]),t.texParameteri(B,t.TEXTURE_MAG_FILTER,z[N.magFilter]),t.texParameteri(B,t.TEXTURE_MIN_FILTER,z[N.minFilter]),N.compareFunction&&(t.texParameteri(B,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(B,t.TEXTURE_COMPARE_FUNC,Q[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(N.magFilter===Vn||N.minFilter!==Hc&&N.minFilter!==ta||N.type===Qr&&e.has("OES_texture_float_linear")===!1)return;if(N.anisotropy>1||r.get(N).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");t.texParameterf(B,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy}}}function de(B,N){let ee=!1;B.__webglInit===void 0&&(B.__webglInit=!0,N.addEventListener("dispose",A));const pe=N.source;let Te=p.get(pe);Te===void 0&&(Te={},p.set(pe,Te));const me=X(N);if(me!==B.__cacheKey){Te[me]===void 0&&(Te[me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),Te[me].usedTimes++;const ft=Te[B.__cacheKey];ft!==void 0&&(Te[B.__cacheKey].usedTimes--,ft.usedTimes===0&&P(N)),B.__cacheKey=me,B.__webglTexture=Te[me].texture}return ee}function Fe(B,N,ee){return Math.floor(Math.floor(B/ee)/N)}function et(B,N,ee,pe){const me=B.updateRanges;if(me.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,N.width,N.height,ee,pe,N.data);else{me.sort((Pe,Xe)=>Pe.start-Xe.start);let ft=0;for(let Pe=1;Pe<me.length;Pe++){const Xe=me[ft],rt=me[Pe],Z=Xe.start+Xe.count,ae=Fe(rt.start,N.width,4),ze=Fe(Xe.start,N.width,4);rt.start<=Z+1&&ae===ze&&Fe(rt.start+rt.count-1,N.width,4)===ae?Xe.count=Math.max(Xe.count,rt.start+rt.count-Xe.start):(++ft,me[ft]=rt)}me.length=ft+1;const He=t.getParameter(t.UNPACK_ROW_LENGTH),it=t.getParameter(t.UNPACK_SKIP_PIXELS),_t=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,N.width);for(let Pe=0,Xe=me.length;Pe<Xe;Pe++){const rt=me[Pe],Z=Math.floor(rt.start/4),ae=Math.ceil(rt.count/4),ze=Z%N.width,J=Math.floor(Z/N.width),Ne=ae,Oe=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ze),t.pixelStorei(t.UNPACK_SKIP_ROWS,J),n.texSubImage2D(t.TEXTURE_2D,0,ze,J,Ne,Oe,ee,pe,N.data)}B.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,He),t.pixelStorei(t.UNPACK_SKIP_PIXELS,it),t.pixelStorei(t.UNPACK_SKIP_ROWS,_t)}}function se(B,N,ee){let pe=t.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),N.isData3DTexture&&(pe=t.TEXTURE_3D);const Te=de(B,N),me=N.source;n.bindTexture(pe,B.__webglTexture,t.TEXTURE0+ee);const ft=r.get(me);if(me.version!==ft.__version||Te===!0){n.activeTexture(t.TEXTURE0+ee);const He=Vt.getPrimaries(Vt.workingColorSpace),it=N.colorSpace===La?null:Vt.getPrimaries(N.colorSpace),_t=N.colorSpace===La||He===it?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let Pe=x(N.image,!1,i.maxTextureSize);Pe=pt(N,Pe);const Xe=o.convert(N.format,N.colorSpace),rt=o.convert(N.type);let Z=S(N.internalFormat,Xe,rt,N.colorSpace,N.isVideoTexture);ne(pe,N);let ae;const ze=N.mipmaps,J=N.isVideoTexture!==!0,Ne=ft.__version===void 0||Te===!0,Oe=me.dataReady,Ye=w(N,Pe);if(N.isDepthTexture)Z=M(N.format===Ns,N.type),Ne&&(J?n.texStorage2D(t.TEXTURE_2D,1,Z,Pe.width,Pe.height):n.texImage2D(t.TEXTURE_2D,0,Z,Pe.width,Pe.height,0,Xe,rt,null));else if(N.isDataTexture)if(ze.length>0){J&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ye,Z,ze[0].width,ze[0].height);for(let Ie=0,Ae=ze.length;Ie<Ae;Ie++)ae=ze[Ie],J?Oe&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ae.width,ae.height,Xe,rt,ae.data):n.texImage2D(t.TEXTURE_2D,Ie,Z,ae.width,ae.height,0,Xe,rt,ae.data);N.generateMipmaps=!1}else J?(Ne&&n.texStorage2D(t.TEXTURE_2D,Ye,Z,Pe.width,Pe.height),Oe&&et(N,Pe,Xe,rt)):n.texImage2D(t.TEXTURE_2D,0,Z,Pe.width,Pe.height,0,Xe,rt,Pe.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){J&&Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ye,Z,ze[0].width,ze[0].height,Pe.depth);for(let Ie=0,Ae=ze.length;Ie<Ae;Ie++)if(ae=ze[Ie],N.format!==Br)if(Xe!==null)if(J){if(Oe)if(N.layerUpdates.size>0){const ke=wA(ae.width,ae.height,N.format,N.type);for(const yt of N.layerUpdates){const Ft=ae.data.subarray(yt*ke/ae.data.BYTES_PER_ELEMENT,(yt+1)*ke/ae.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,yt,ae.width,ae.height,1,Xe,Ft)}N.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,ae.width,ae.height,Pe.depth,Xe,ae.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ie,Z,ae.width,ae.height,Pe.depth,0,ae.data,0,0);else qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else J?Oe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,ae.width,ae.height,Pe.depth,Xe,rt,ae.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ie,Z,ae.width,ae.height,Pe.depth,0,Xe,rt,ae.data)}else{J&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ye,Z,ze[0].width,ze[0].height);for(let Ie=0,Ae=ze.length;Ie<Ae;Ie++)ae=ze[Ie],N.format!==Br?Xe!==null?J?Oe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ie,0,0,ae.width,ae.height,Xe,ae.data):n.compressedTexImage2D(t.TEXTURE_2D,Ie,Z,ae.width,ae.height,0,ae.data):qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):J?Oe&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ae.width,ae.height,Xe,rt,ae.data):n.texImage2D(t.TEXTURE_2D,Ie,Z,ae.width,ae.height,0,Xe,rt,ae.data)}else if(N.isDataArrayTexture)if(J){if(Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ye,Z,Pe.width,Pe.height,Pe.depth),Oe)if(N.layerUpdates.size>0){const Ie=wA(Pe.width,Pe.height,N.format,N.type);for(const Ae of N.layerUpdates){const ke=Pe.data.subarray(Ae*Ie/Pe.data.BYTES_PER_ELEMENT,(Ae+1)*Ie/Pe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ae,Pe.width,Pe.height,1,Xe,rt,ke)}N.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,Xe,rt,Pe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Z,Pe.width,Pe.height,Pe.depth,0,Xe,rt,Pe.data);else if(N.isData3DTexture)J?(Ne&&n.texStorage3D(t.TEXTURE_3D,Ye,Z,Pe.width,Pe.height,Pe.depth),Oe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,Xe,rt,Pe.data)):n.texImage3D(t.TEXTURE_3D,0,Z,Pe.width,Pe.height,Pe.depth,0,Xe,rt,Pe.data);else if(N.isFramebufferTexture){if(Ne)if(J)n.texStorage2D(t.TEXTURE_2D,Ye,Z,Pe.width,Pe.height);else{let Ie=Pe.width,Ae=Pe.height;for(let ke=0;ke<Ye;ke++)n.texImage2D(t.TEXTURE_2D,ke,Z,Ie,Ae,0,Xe,rt,null),Ie>>=1,Ae>>=1}}else if(ze.length>0){if(J&&Ne){const Ie=Re(ze[0]);n.texStorage2D(t.TEXTURE_2D,Ye,Z,Ie.width,Ie.height)}for(let Ie=0,Ae=ze.length;Ie<Ae;Ie++)ae=ze[Ie],J?Oe&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Xe,rt,ae):n.texImage2D(t.TEXTURE_2D,Ie,Z,Xe,rt,ae);N.generateMipmaps=!1}else if(J){if(Ne){const Ie=Re(Pe);n.texStorage2D(t.TEXTURE_2D,Ye,Z,Ie.width,Ie.height)}Oe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Xe,rt,Pe)}else n.texImage2D(t.TEXTURE_2D,0,Z,Xe,rt,Pe);y(N)&&g(pe),ft.__version=me.version,N.onUpdate&&N.onUpdate(N)}B.__version=N.version}function xe(B,N,ee){if(N.image.length!==6)return;const pe=de(B,N),Te=N.source;n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+ee);const me=r.get(Te);if(Te.version!==me.__version||pe===!0){n.activeTexture(t.TEXTURE0+ee);const ft=Vt.getPrimaries(Vt.workingColorSpace),He=N.colorSpace===La?null:Vt.getPrimaries(N.colorSpace),it=N.colorSpace===La||ft===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);const _t=N.isCompressedTexture||N.image[0].isCompressedTexture,Pe=N.image[0]&&N.image[0].isDataTexture,Xe=[];for(let Ae=0;Ae<6;Ae++)!_t&&!Pe?Xe[Ae]=x(N.image[Ae],!0,i.maxCubemapSize):Xe[Ae]=Pe?N.image[Ae].image:N.image[Ae],Xe[Ae]=pt(N,Xe[Ae]);const rt=Xe[0],Z=o.convert(N.format,N.colorSpace),ae=o.convert(N.type),ze=S(N.internalFormat,Z,ae,N.colorSpace),J=N.isVideoTexture!==!0,Ne=me.__version===void 0||pe===!0,Oe=Te.dataReady;let Ye=w(N,rt);ne(t.TEXTURE_CUBE_MAP,N);let Ie;if(_t){J&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ye,ze,rt.width,rt.height);for(let Ae=0;Ae<6;Ae++){Ie=Xe[Ae].mipmaps;for(let ke=0;ke<Ie.length;ke++){const yt=Ie[ke];N.format!==Br?Z!==null?J?Oe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke,0,0,yt.width,yt.height,Z,yt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke,ze,yt.width,yt.height,0,yt.data):qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):J?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke,0,0,yt.width,yt.height,Z,ae,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke,ze,yt.width,yt.height,0,Z,ae,yt.data)}}}else{if(Ie=N.mipmaps,J&&Ne){Ie.length>0&&Ye++;const Ae=Re(Xe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ye,ze,Ae.width,Ae.height)}for(let Ae=0;Ae<6;Ae++)if(Pe){J?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,Xe[Ae].width,Xe[Ae].height,Z,ae,Xe[Ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,ze,Xe[Ae].width,Xe[Ae].height,0,Z,ae,Xe[Ae].data);for(let ke=0;ke<Ie.length;ke++){const Ft=Ie[ke].image[Ae].image;J?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke+1,0,0,Ft.width,Ft.height,Z,ae,Ft.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke+1,ze,Ft.width,Ft.height,0,Z,ae,Ft.data)}}else{J?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,Z,ae,Xe[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,ze,Z,ae,Xe[Ae]);for(let ke=0;ke<Ie.length;ke++){const yt=Ie[ke];J?Oe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke+1,0,0,Z,ae,yt.image[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ke+1,ze,Z,ae,yt.image[Ae])}}}y(N)&&g(t.TEXTURE_CUBE_MAP),me.__version=Te.version,N.onUpdate&&N.onUpdate(N)}B.__version=N.version}function je(B,N,ee,pe,Te,me){const ft=o.convert(ee.format,ee.colorSpace),He=o.convert(ee.type),it=S(ee.internalFormat,ft,He,ee.colorSpace),_t=r.get(N),Pe=r.get(ee);if(Pe.__renderTarget=N,!_t.__hasExternalTextures){const Xe=Math.max(1,N.width>>me),rt=Math.max(1,N.height>>me);Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,me,it,Xe,rt,N.depth,0,ft,He,null):n.texImage2D(Te,me,it,Xe,rt,0,ft,He,null)}n.bindFramebuffer(t.FRAMEBUFFER,B),ct(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,Te,Pe.__webglTexture,0,$(N)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,Te,Pe.__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(B,N,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,B),N.depthBuffer){const pe=N.depthTexture,Te=pe&&pe.isDepthTexture?pe.type:null,me=M(N.stencilBuffer,Te),ft=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;ct(N)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,$(N),me,N.width,N.height):ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,$(N),me,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,me,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ft,t.RENDERBUFFER,B)}else{const pe=N.textures;for(let Te=0;Te<pe.length;Te++){const me=pe[Te],ft=o.convert(me.format,me.colorSpace),He=o.convert(me.type),it=S(me.internalFormat,ft,He,me.colorSpace);ct(N)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,$(N),it,N.width,N.height):ee?t.renderbufferStorageMultisample(t.RENDERBUFFER,$(N),it,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,it,N.width,N.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ee(B,N,ee){const pe=N.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,B),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Te=r.get(N.depthTexture);if(Te.__renderTarget=N,(!Te.__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),pe){if(Te.__webglInit===void 0&&(Te.__webglInit=!0,N.depthTexture.addEventListener("dispose",A)),Te.__webglTexture===void 0){Te.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Te.__webglTexture),ne(t.TEXTURE_CUBE_MAP,N.depthTexture);const _t=o.convert(N.depthTexture.format),Pe=o.convert(N.depthTexture.type);let Xe;N.depthTexture.format===da?Xe=t.DEPTH_COMPONENT24:N.depthTexture.format===Ns&&(Xe=t.DEPTH24_STENCIL8);for(let rt=0;rt<6;rt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,Xe,N.width,N.height,0,_t,Pe,null)}}else G(N.depthTexture,0);const me=Te.__webglTexture,ft=$(N),He=pe?t.TEXTURE_CUBE_MAP_POSITIVE_X+ee:t.TEXTURE_2D,it=N.depthTexture.format===Ns?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(N.depthTexture.format===da)ct(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,it,He,me,0,ft):t.framebufferTexture2D(t.FRAMEBUFFER,it,He,me,0);else if(N.depthTexture.format===Ns)ct(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,it,He,me,0,ft):t.framebufferTexture2D(t.FRAMEBUFFER,it,He,me,0);else throw new Error("Unknown depthTexture format")}function Be(B){const N=r.get(B),ee=B.isWebGLCubeRenderTarget===!0;if(N.__boundDepthTexture!==B.depthTexture){const pe=B.depthTexture;if(N.__depthDisposeCallback&&N.__depthDisposeCallback(),pe){const Te=()=>{delete N.__boundDepthTexture,delete N.__depthDisposeCallback,pe.removeEventListener("dispose",Te)};pe.addEventListener("dispose",Te),N.__depthDisposeCallback=Te}N.__boundDepthTexture=pe}if(B.depthTexture&&!N.__autoAllocateDepthBuffer)if(ee)for(let pe=0;pe<6;pe++)Ee(N.__webglFramebuffer[pe],B,pe);else{const pe=B.texture.mipmaps;pe&&pe.length>0?Ee(N.__webglFramebuffer[0],B,0):Ee(N.__webglFramebuffer,B,0)}else if(ee){N.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)if(n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer[pe]),N.__webglDepthbuffer[pe]===void 0)N.__webglDepthbuffer[pe]=t.createRenderbuffer(),_e(N.__webglDepthbuffer[pe],B,!1);else{const Te=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=N.__webglDepthbuffer[pe];t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Te,t.RENDERBUFFER,me)}}else{const pe=B.texture.mipmaps;if(pe&&pe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer===void 0)N.__webglDepthbuffer=t.createRenderbuffer(),_e(N.__webglDepthbuffer,B,!1);else{const Te=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=N.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Te,t.RENDERBUFFER,me)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(B,N,ee){const pe=r.get(B);N!==void 0&&je(pe.__webglFramebuffer,B,B.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&Be(B)}function $e(B){const N=B.texture,ee=r.get(B),pe=r.get(N);B.addEventListener("dispose",T);const Te=B.textures,me=B.isWebGLCubeRenderTarget===!0,ft=Te.length>1;if(ft||(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=N.version,a.memory.textures++),me){ee.__webglFramebuffer=[];for(let He=0;He<6;He++)if(N.mipmaps&&N.mipmaps.length>0){ee.__webglFramebuffer[He]=[];for(let it=0;it<N.mipmaps.length;it++)ee.__webglFramebuffer[He][it]=t.createFramebuffer()}else ee.__webglFramebuffer[He]=t.createFramebuffer()}else{if(N.mipmaps&&N.mipmaps.length>0){ee.__webglFramebuffer=[];for(let He=0;He<N.mipmaps.length;He++)ee.__webglFramebuffer[He]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(ft)for(let He=0,it=Te.length;He<it;He++){const _t=r.get(Te[He]);_t.__webglTexture===void 0&&(_t.__webglTexture=t.createTexture(),a.memory.textures++)}if(B.samples>0&&ct(B)===!1){ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let He=0;He<Te.length;He++){const it=Te[He];ee.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[He]);const _t=o.convert(it.format,it.colorSpace),Pe=o.convert(it.type),Xe=S(it.internalFormat,_t,Pe,it.colorSpace,B.isXRRenderTarget===!0),rt=$(B);t.renderbufferStorageMultisample(t.RENDERBUFFER,rt,Xe,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,ee.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),B.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),_e(ee.__webglDepthRenderbuffer,B,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(me){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),ne(t.TEXTURE_CUBE_MAP,N);for(let He=0;He<6;He++)if(N.mipmaps&&N.mipmaps.length>0)for(let it=0;it<N.mipmaps.length;it++)je(ee.__webglFramebuffer[He][it],B,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,it);else je(ee.__webglFramebuffer[He],B,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0);y(N)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ft){for(let He=0,it=Te.length;He<it;He++){const _t=Te[He],Pe=r.get(_t);let Xe=t.TEXTURE_2D;(B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(Xe=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Xe,Pe.__webglTexture),ne(Xe,_t),je(ee.__webglFramebuffer,B,_t,t.COLOR_ATTACHMENT0+He,Xe,0),y(_t)&&g(Xe)}n.unbindTexture()}else{let He=t.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(He=B.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(He,pe.__webglTexture),ne(He,N),N.mipmaps&&N.mipmaps.length>0)for(let it=0;it<N.mipmaps.length;it++)je(ee.__webglFramebuffer[it],B,N,t.COLOR_ATTACHMENT0,He,it);else je(ee.__webglFramebuffer,B,N,t.COLOR_ATTACHMENT0,He,0);y(N)&&g(He),n.unbindTexture()}B.depthBuffer&&Be(B)}function ce(B){const N=B.textures;for(let ee=0,pe=N.length;ee<pe;ee++){const Te=N[ee];if(y(Te)){const me=_(B),ft=r.get(Te).__webglTexture;n.bindTexture(me,ft),g(me),n.unbindTexture()}}}const Me=[],Se=[];function Le(B){if(B.samples>0){if(ct(B)===!1){const N=B.textures,ee=B.width,pe=B.height;let Te=t.COLOR_BUFFER_BIT;const me=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=r.get(B),He=N.length>1;if(He)for(let _t=0;_t<N.length;_t++)n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const it=B.texture.mipmaps;it&&it.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let _t=0;_t<N.length;_t++){if(B.resolveDepthBuffer&&(B.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),B.stencilBuffer&&B.resolveStencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),He){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ft.__webglColorRenderbuffer[_t]);const Pe=r.get(N[_t]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Pe,0)}t.blitFramebuffer(0,0,ee,pe,0,0,ee,pe,Te,t.NEAREST),l===!0&&(Me.length=0,Se.length=0,Me.push(t.COLOR_ATTACHMENT0+_t),B.depthBuffer&&B.resolveDepthBuffer===!1&&(Me.push(me),Se.push(me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Se)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Me))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let _t=0;_t<N.length;_t++){n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,ft.__webglColorRenderbuffer[_t]);const Pe=r.get(N[_t]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ft.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,Pe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if(B.depthBuffer&&B.resolveDepthBuffer===!1&&l){const N=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[N])}}}function $(B){return Math.min(i.maxSamples,B.samples)}function ct(B){const N=r.get(B);return B.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Ge(B){const N=a.render.frame;c.get(B)!==N&&(c.set(B,N),B.update())}function pt(B,N){const ee=B.colorSpace,pe=B.format,Te=B.type;return B.isCompressedTexture===!0||B.isVideoTexture===!0||ee!==bu&&ee!==La&&(Vt.getTransfer(ee)===nn?(pe!==Br||Te!==Kr)&&qe("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):gt("WebGLTextures: Unsupported texture color space:",ee)),N}function Re(B){return typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement?(u.width=B.naturalWidth||B.width,u.height=B.naturalHeight||B.height):typeof VideoFrame<"u"&&B instanceof VideoFrame?(u.width=B.displayWidth,u.height=B.displayHeight):(u.width=B.width,u.height=B.height),u}this.allocateTextureUnit=F,this.resetTextureUnits=k,this.setTexture2D=G,this.setTexture2DArray=q,this.setTexture3D=W,this.setTextureCube=D,this.rebindTextures=ve,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=Be,this.setupFrameBufferTexture=je,this.useMultisampledRTT=ct,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function HV(t,e){function n(r,i=La){let o;const a=Vt.getTransfer(i);if(r===Kr)return t.UNSIGNED_BYTE;if(r===eS)return t.UNSIGNED_SHORT_4_4_4_4;if(r===tS)return t.UNSIGNED_SHORT_5_5_5_1;if(r===zP)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===VP)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===FP)return t.BYTE;if(r===BP)return t.SHORT;if(r===Nf)return t.UNSIGNED_SHORT;if(r===Q_)return t.INT;if(r===lo)return t.UNSIGNED_INT;if(r===Qr)return t.FLOAT;if(r===ha)return t.HALF_FLOAT;if(r===jP)return t.ALPHA;if(r===HP)return t.RGB;if(r===Br)return t.RGBA;if(r===da)return t.DEPTH_COMPONENT;if(r===Ns)return t.DEPTH_STENCIL;if(r===nS)return t.RED;if(r===Tm)return t.RED_INTEGER;if(r===Su)return t.RG;if(r===rS)return t.RG_INTEGER;if(r===iS)return t.RGBA_INTEGER;if(r===Bd||r===zd||r===Vd||r===jd)if(a===nn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Bd)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===zd)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Vd)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===jd)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Bd)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===zd)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Vd)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===jd)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===ix||r===ox||r===ax||r===sx)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===ix)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ox)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===ax)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===sx)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===lx||r===ux||r===cx||r===fx||r===hx||r===dx||r===px)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===lx||r===ux)return a===nn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===cx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(r===fx)return o.COMPRESSED_R11_EAC;if(r===hx)return o.COMPRESSED_SIGNED_R11_EAC;if(r===dx)return o.COMPRESSED_RG11_EAC;if(r===px)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===mx||r===gx||r===vx||r===yx||r===xx||r===_x||r===Sx||r===bx||r===wx||r===Mx||r===Ex||r===Ax||r===Tx||r===Px)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===mx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===gx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===vx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===yx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===xx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===_x)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Sx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===bx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===wx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Mx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ex)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ax)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Tx)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Px)return a===nn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Cx||r===Ox||r===Rx)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Cx)return a===nn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Ox)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Rx)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Ix||r===Lx||r===Nx||r===Dx)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Ix)return o.COMPRESSED_RED_RGTC1_EXT;if(r===Lx)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Nx)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Dx)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Df?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const j1e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,H1e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $1e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new eC(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new uo({vertexShader:j1e,fragmentShader:H1e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new qn(new uh(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class G1e extends ma{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,u=null,c=null,f=null,p=null,m=null,v=null;const x=typeof XRWebGLBinding<"u",y=new $1e,g={},_=n.getContextAttributes();let S=null,M=null;const w=[],A=[],T=new we;let R=null;const P=new zn;P.viewport=new fn;const O=new zn;O.viewport=new fn;const L=[P,O],k=new IV;let F=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let xe=w[se];return xe===void 0&&(xe=new by,w[se]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(se){let xe=w[se];return xe===void 0&&(xe=new by,w[se]=xe),xe.getGripSpace()},this.getHand=function(se){let xe=w[se];return xe===void 0&&(xe=new by,w[se]=xe),xe.getHandSpace()};function G(se){const xe=A.indexOf(se.inputSource);if(xe===-1)return;const je=w[xe];je!==void 0&&(je.update(se.inputSource,se.frame,u||a),je.dispatchEvent({type:se.type,data:se.inputSource}))}function q(){i.removeEventListener("select",G),i.removeEventListener("selectstart",G),i.removeEventListener("selectend",G),i.removeEventListener("squeeze",G),i.removeEventListener("squeezestart",G),i.removeEventListener("squeezeend",G),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",W);for(let se=0;se<w.length;se++){const xe=A[se];xe!==null&&(A[se]=null,w[se].disconnect(xe))}F=null,X=null,y.reset();for(const se in g)delete g[se];e.setRenderTarget(S),m=null,p=null,f=null,i=null,M=null,et.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){o=se,r.isPresenting===!0&&qe("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){s=se,r.isPresenting===!0&&qe("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(se){u=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f===null&&x&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",G),i.addEventListener("selectstart",G),i.addEventListener("selectend",G),i.addEventListener("squeeze",G),i.addEventListener("squeezestart",G),i.addEventListener("squeezeend",G),i.addEventListener("end",q),i.addEventListener("inputsourceschange",W),_.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(T),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let je=null,_e=null,Ee=null;_.depth&&(Ee=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,je=_.stencil?Ns:da,_e=_.stencil?Df:lo);const Be={colorFormat:n.RGBA8,depthFormat:Ee,scaleFactor:o};f=this.getBinding(),p=f.createProjectionLayer(Be),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),M=new Di(p.textureWidth,p.textureHeight,{format:Br,type:Kr,depthTexture:new Vf(p.textureWidth,p.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,je),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const je={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,je),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new Di(m.framebufferWidth,m.framebufferHeight,{format:Br,type:Kr,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(s),et.setContext(i),et.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function W(se){for(let xe=0;xe<se.removed.length;xe++){const je=se.removed[xe],_e=A.indexOf(je);_e>=0&&(A[_e]=null,w[_e].disconnect(je))}for(let xe=0;xe<se.added.length;xe++){const je=se.added[xe];let _e=A.indexOf(je);if(_e===-1){for(let Be=0;Be<w.length;Be++)if(Be>=A.length){A.push(je),_e=Be;break}else if(A[Be]===null){A[Be]=je,_e=Be;break}if(_e===-1)break}const Ee=w[_e];Ee&&Ee.connect(je)}}const D=new H,V=new H;function z(se,xe,je){D.setFromMatrixPosition(xe.matrixWorld),V.setFromMatrixPosition(je.matrixWorld);const _e=D.distanceTo(V),Ee=xe.projectionMatrix.elements,Be=je.projectionMatrix.elements,ve=Ee[14]/(Ee[10]-1),$e=Ee[14]/(Ee[10]+1),ce=(Ee[9]+1)/Ee[5],Me=(Ee[9]-1)/Ee[5],Se=(Ee[8]-1)/Ee[0],Le=(Be[8]+1)/Be[0],$=ve*Se,ct=ve*Le,Ge=_e/(-Se+Le),pt=Ge*-Se;if(xe.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(pt),se.translateZ(Ge),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),Ee[10]===-1)se.projectionMatrix.copy(xe.projectionMatrix),se.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const Re=ve+Ge,B=$e+Ge,N=$-pt,ee=ct+(_e-pt),pe=ce*$e/B*Re,Te=Me*$e/B*Re;se.projectionMatrix.makePerspective(N,ee,pe,Te,Re,B),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function Q(se,xe){xe===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(xe.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let xe=se.near,je=se.far;y.texture!==null&&(y.depthNear>0&&(xe=y.depthNear),y.depthFar>0&&(je=y.depthFar)),k.near=O.near=P.near=xe,k.far=O.far=P.far=je,(F!==k.near||X!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),F=k.near,X=k.far),k.layers.mask=se.layers.mask|6,P.layers.mask=k.layers.mask&3,O.layers.mask=k.layers.mask&5;const _e=se.parent,Ee=k.cameras;Q(k,_e);for(let Be=0;Be<Ee.length;Be++)Q(Ee[Be],_e);Ee.length===2?z(k,P,O):k.projectionMatrix.copy(P.projectionMatrix),ne(se,k,_e)};function ne(se,xe,je){je===null?se.matrix.copy(xe.matrixWorld):(se.matrix.copy(je.matrixWorld),se.matrix.invert(),se.matrix.multiply(xe.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(xe.projectionMatrix),se.projectionMatrixInverse.copy(xe.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Ff*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(k)},this.getCameraTexture=function(se){return g[se]};let de=null;function Fe(se,xe){if(c=xe.getViewerPose(u||a),v=xe,c!==null){const je=c.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let _e=!1;je.length!==k.cameras.length&&(k.cameras.length=0,_e=!0);for(let $e=0;$e<je.length;$e++){const ce=je[$e];let Me=null;if(m!==null)Me=m.getViewport(ce);else{const Le=f.getViewSubImage(p,ce);Me=Le.viewport,$e===0&&(e.setRenderTargetTextures(M,Le.colorTexture,Le.depthStencilTexture),e.setRenderTarget(M))}let Se=L[$e];Se===void 0&&(Se=new zn,Se.layers.enable($e),Se.viewport=new fn,L[$e]=Se),Se.matrix.fromArray(ce.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(ce.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(Me.x,Me.y,Me.width,Me.height),$e===0&&(k.matrix.copy(Se.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),_e===!0&&k.cameras.push(Se)}const Ee=i.enabledFeatures;if(Ee&&Ee.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){f=r.getBinding();const $e=f.getDepthInformation(je[0]);$e&&$e.isValid&&$e.texture&&y.init($e,i.renderState)}if(Ee&&Ee.includes("camera-access")&&x){e.state.unbindTexture(),f=r.getBinding();for(let $e=0;$e<je.length;$e++){const ce=je[$e].camera;if(ce){let Me=g[ce];Me||(Me=new eC,g[ce]=Me);const Se=f.getCameraImage(ce);Me.sourceTexture=Se}}}}for(let je=0;je<w.length;je++){const _e=A[je],Ee=w[je];_e!==null&&Ee!==void 0&&Ee.update(_e,xe,u||a)}de&&de(se,xe),xe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:xe}),v=null}const et=new FV;et.setAnimationLoop(Fe),this.setAnimationLoop=function(se){de=se},this.dispose=function(){}}}const Nl=new Ui,W1e=new Et;function X1e(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,z5(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,_,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),f(y,g)):g.isMeshPhongMaterial?(o(y,g),c(y,g)):g.isMeshStandardMaterial?(o(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,M)):g.isMeshMatcapMaterial?(o(y,g),v(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),x(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(a(y,g),g.isLineDashedMaterial&&s(y,g)):g.isPointsMaterial?l(y,g,_,S):g.isSpriteMaterial?u(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===ti&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===ti&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const _=e.get(g),S=_.envMap,M=_.envMapRotation;S&&(y.envMap.value=S,Nl.copy(M),Nl.x*=-1,Nl.y*=-1,Nl.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Nl.y*=-1,Nl.z*=-1),y.envMapRotation.value.setFromMatrix4(W1e.makeRotationFromEuler(Nl)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function a(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function s(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,_,S){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*_,y.scale.value=S*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function f(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,_){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ti&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const _=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Y1e(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,S){const M=S.program;r.uniformBlockBinding(_,M)}function u(_,S){let M=i[_.id];M===void 0&&(v(_),M=c(_),i[_.id]=M,_.addEventListener("dispose",y));const w=S.program;r.updateUBOMapping(_,w);const A=e.render.frame;o[_.id]!==A&&(p(_),o[_.id]=A)}function c(_){const S=f();_.__bindingPointIndex=S;const M=t.createBuffer(),w=_.__size,A=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,w,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,M),M}function f(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return gt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=i[_.id],M=_.uniforms,w=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let A=0,T=M.length;A<T;A++){const R=Array.isArray(M[A])?M[A]:[M[A]];for(let P=0,O=R.length;P<O;P++){const L=R[P];if(m(L,A,P,w)===!0){const k=L.__offset,F=Array.isArray(L.value)?L.value:[L.value];let X=0;for(let G=0;G<F.length;G++){const q=F[G],W=x(q);typeof q=="number"||typeof q=="boolean"?(L.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,k+X,L.__data)):q.isMatrix3?(L.__data[0]=q.elements[0],L.__data[1]=q.elements[1],L.__data[2]=q.elements[2],L.__data[3]=0,L.__data[4]=q.elements[3],L.__data[5]=q.elements[4],L.__data[6]=q.elements[5],L.__data[7]=0,L.__data[8]=q.elements[6],L.__data[9]=q.elements[7],L.__data[10]=q.elements[8],L.__data[11]=0):(q.toArray(L.__data,X),X+=W.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,L.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,S,M,w){const A=_.value,T=S+"_"+M;if(w[T]===void 0)return typeof A=="number"||typeof A=="boolean"?w[T]=A:w[T]=A.clone(),!0;{const R=w[T];if(typeof A=="number"||typeof A=="boolean"){if(R!==A)return w[T]=A,!0}else if(R.equals(A)===!1)return R.copy(A),!0}return!1}function v(_){const S=_.uniforms;let M=0;const w=16;for(let T=0,R=S.length;T<R;T++){const P=Array.isArray(S[T])?S[T]:[S[T]];for(let O=0,L=P.length;O<L;O++){const k=P[O],F=Array.isArray(k.value)?k.value:[k.value];for(let X=0,G=F.length;X<G;X++){const q=F[X],W=x(q),D=M%w,V=D%W.boundary,z=D+V;M+=V,z!==0&&w-z<W.storage&&(M+=w-z),k.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,M+=W.storage}}}const A=M%w;return A>0&&(M+=w-A),_.__size=M,_.__cache={},this}function x(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?qe("WebGLRenderer: Texture samplers can not be part of an uniforms group."):qe("WebGLRenderer: Unsupported uniform value type.",_),S}function y(_){const S=_.target;S.removeEventListener("dispose",y);const M=a.indexOf(S.__bindingPointIndex);a.splice(M,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete o[S.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},o={}}return{bind:l,update:u,dispose:g}}const q1e=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let qo=null;function K1e(){return qo===null&&(qo=new Do(q1e,16,16,Su,ha),qo.name="DFG_LUT",qo.minFilter=bn,qo.magFilter=bn,qo.wrapS=mi,qo.wrapT=mi,qo.generateMipmaps=!1,qo.needsUpdate=!0),qo}class $V{constructor(e={}){const{canvas:n=U5(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:p=!1,outputBufferType:m=Kr}=e;this.isWebGLRenderer=!0;let v;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=r.getContextAttributes().alpha}else v=a;const x=m,y=new Set([iS,rS,Tm]),g=new Set([Kr,lo,Nf,Df,eS,tS]),_=new Uint32Array(4),S=new Int32Array(4);let M=null,w=null;const A=[],T=[];let R=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=io,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let O=!1;this._outputColorSpace=ci;let L=0,k=0,F=null,X=-1,G=null;const q=new fn,W=new fn;let D=null;const V=new nt(0);let z=0,Q=n.width,ne=n.height,de=1,Fe=null,et=null;const se=new fn(0,0,Q,ne),xe=new fn(0,0,Q,ne);let je=!1;const _e=new lh;let Ee=!1,Be=!1;const ve=new Et,$e=new H,ce=new fn,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function Le(){return F===null?de:1}let $=r;function ct(U,re){return n.getContext(U,re)}try{const U={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${K_}`),n.addEventListener("webglcontextlost",yt,!1),n.addEventListener("webglcontextrestored",Ft,!1),n.addEventListener("webglcontextcreationerror",Dt,!1),$===null){const re="webgl2";if($=ct(re,U),$===null)throw ct(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(U){throw gt("WebGLRenderer: "+U.message),U}let Ge,pt,Re,B,N,ee,pe,Te,me,ft,He,it,_t,Pe,Xe,rt,Z,ae,ze,J,Ne,Oe,Ye,Ie;function Ae(){Ge=new ZSe($),Ge.init(),Oe=new HV($,Ge),pt=new jSe($,Ge,e,Oe),Re=new z1e($,Ge),pt.reversedDepthBuffer&&p&&Re.buffers.depth.setReversed(!0),B=new ebe($),N=new E1e,ee=new V1e($,Ge,Re,N,pt,Oe,B),pe=new $Se(P),Te=new KSe(P),me=new ixe($),Ye=new zSe($,me),ft=new JSe($,me,B,Ye),He=new nbe($,ft,me,B),ze=new tbe($,pt,ee),rt=new HSe(N),it=new M1e(P,pe,Te,Ge,pt,Ye,rt),_t=new X1e(P,N),Pe=new T1e,Xe=new L1e(Ge),ae=new BSe(P,pe,Te,Re,He,v,l),Z=new F1e(P,He,pt),Ie=new Y1e($,B,pt,Re),J=new VSe($,Ge,B),Ne=new QSe($,Ge,B),B.programs=it.programs,P.capabilities=pt,P.extensions=Ge,P.properties=N,P.renderLists=Pe,P.shadowMap=Z,P.state=Re,P.info=B}Ae(),x!==Kr&&(R=new ibe(x,n.width,n.height,i,o));const ke=new G1e(P,$);this.xr=ke,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const U=Ge.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=Ge.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return de},this.setPixelRatio=function(U){U!==void 0&&(de=U,this.setSize(Q,ne,!1))},this.getSize=function(U){return U.set(Q,ne)},this.setSize=function(U,re,he=!0){if(ke.isPresenting){qe("WebGLRenderer: Can't change size while VR device is presenting.");return}Q=U,ne=re,n.width=Math.floor(U*de),n.height=Math.floor(re*de),he===!0&&(n.style.width=U+"px",n.style.height=re+"px"),R!==null&&R.setSize(n.width,n.height),this.setViewport(0,0,U,re)},this.getDrawingBufferSize=function(U){return U.set(Q*de,ne*de).floor()},this.setDrawingBufferSize=function(U,re,he){Q=U,ne=re,de=he,n.width=Math.floor(U*he),n.height=Math.floor(re*he),this.setViewport(0,0,U,re)},this.setEffects=function(U){if(x===Kr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(U){for(let re=0;re<U.length;re++)if(U[re].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}R.setEffects(U||[])},this.getCurrentViewport=function(U){return U.copy(q)},this.getViewport=function(U){return U.copy(se)},this.setViewport=function(U,re,he,fe){U.isVector4?se.set(U.x,U.y,U.z,U.w):se.set(U,re,he,fe),Re.viewport(q.copy(se).multiplyScalar(de).round())},this.getScissor=function(U){return U.copy(xe)},this.setScissor=function(U,re,he,fe){U.isVector4?xe.set(U.x,U.y,U.z,U.w):xe.set(U,re,he,fe),Re.scissor(W.copy(xe).multiplyScalar(de).round())},this.getScissorTest=function(){return je},this.setScissorTest=function(U){Re.setScissorTest(je=U)},this.setOpaqueSort=function(U){Fe=U},this.setTransparentSort=function(U){et=U},this.getClearColor=function(U){return U.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor(...arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha(...arguments)},this.clear=function(U=!0,re=!0,he=!0){let fe=0;if(U){let oe=!1;if(F!==null){const We=F.texture.format;oe=y.has(We)}if(oe){const We=F.texture.type,Ze=g.has(We),Ce=ae.getClearColor(),Ue=ae.getClearAlpha(),at=Ce.r,ht=Ce.g,ot=Ce.b;Ze?(_[0]=at,_[1]=ht,_[2]=ot,_[3]=Ue,$.clearBufferuiv($.COLOR,0,_)):(S[0]=at,S[1]=ht,S[2]=ot,S[3]=Ue,$.clearBufferiv($.COLOR,0,S))}else fe|=$.COLOR_BUFFER_BIT}re&&(fe|=$.DEPTH_BUFFER_BIT),he&&(fe|=$.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",yt,!1),n.removeEventListener("webglcontextrestored",Ft,!1),n.removeEventListener("webglcontextcreationerror",Dt,!1),ae.dispose(),Pe.dispose(),Xe.dispose(),N.dispose(),pe.dispose(),Te.dispose(),He.dispose(),Ye.dispose(),Ie.dispose(),it.dispose(),ke.dispose(),ke.removeEventListener("sessionstart",Fm),ke.removeEventListener("sessionend",as),va.stop()};function yt(U){U.preventDefault(),tm("WebGLRenderer: Context Lost."),O=!0}function Ft(){tm("WebGLRenderer: Context Restored."),O=!1;const U=B.autoReset,re=Z.enabled,he=Z.autoUpdate,fe=Z.needsUpdate,oe=Z.type;Ae(),B.autoReset=U,Z.enabled=re,Z.autoUpdate=he,Z.needsUpdate=fe,Z.type=oe}function Dt(U){gt("WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function Kn(U){const re=U.target;re.removeEventListener("dispose",Kn),Mr(re)}function Mr(U){IS(U),N.remove(U)}function IS(U){const re=N.get(U).programs;re!==void 0&&(re.forEach(function(he){it.releaseProgram(he)}),U.isShaderMaterial&&it.releaseShaderCache(U))}this.renderBufferDirect=function(U,re,he,fe,oe,We){re===null&&(re=Me);const Ze=oe.isMesh&&oe.matrixWorld.determinant()<0,Ce=LS(U,re,he,fe,oe);Re.setMaterial(fe,Ze);let Ue=he.index,at=1;if(fe.wireframe===!0){if(Ue=ft.getWireframeAttribute(he),Ue===void 0)return;at=2}const ht=he.drawRange,ot=he.attributes.position;let At=ht.start*at,Bt=(ht.start+ht.count)*at;We!==null&&(At=Math.max(At,We.start*at),Bt=Math.min(Bt,(We.start+We.count)*at)),Ue!==null?(At=Math.max(At,0),Bt=Math.min(Bt,Ue.count)):ot!=null&&(At=Math.max(At,0),Bt=Math.min(Bt,ot.count));const kt=Bt-At;if(kt<0||kt===1/0)return;Ye.setup(oe,fe,Ce,he,Ue);let un,en=J;if(Ue!==null&&(un=me.get(Ue),en=Ne,en.setIndex(un)),oe.isMesh)fe.wireframe===!0?(Re.setLineWidth(fe.wireframeLinewidth*Le()),en.setMode($.LINES)):en.setMode($.TRIANGLES);else if(oe.isLine){let xt=fe.linewidth;xt===void 0&&(xt=1),Re.setLineWidth(xt*Le()),oe.isLineSegments?en.setMode($.LINES):oe.isLineLoop?en.setMode($.LINE_LOOP):en.setMode($.LINE_STRIP)}else oe.isPoints?en.setMode($.POINTS):oe.isSprite&&en.setMode($.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)Uf("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),en.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(Ge.get("WEBGL_multi_draw"))en.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const xt=oe._multiDrawStarts,Ht=oe._multiDrawCounts,zt=oe._multiDrawCount,gn=Ue?me.get(Ue).bytesPerElement:1,ss=N.get(fe).currentProgram.getUniforms();for(let $r=0;$r<zt;$r++)ss.setValue($,"_gl_DrawID",$r),en.render(xt[$r]/gn,Ht[$r])}else if(oe.isInstancedMesh)en.renderInstances(At,kt,oe.count);else if(he.isInstancedBufferGeometry){const xt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Ht=Math.min(he.instanceCount,xt);en.renderInstances(At,kt,Ht)}else en.render(At,kt)};function Um(U,re,he){U.transparent===!0&&U.side===Fr&&U.forceSinglePass===!1?(U.side=ti,U.needsUpdate=!0,Bu(U,re,he),U.side=Qa,U.needsUpdate=!0,Bu(U,re,he),U.side=Fr):Bu(U,re,he)}this.compile=function(U,re,he=null){he===null&&(he=U),w=Xe.get(he),w.init(re),T.push(w),he.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),U!==he&&U.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),w.setupLights();const fe=new Set;return U.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;const We=oe.material;if(We)if(Array.isArray(We))for(let Ze=0;Ze<We.length;Ze++){const Ce=We[Ze];Um(Ce,he,oe),fe.add(Ce)}else Um(We,he,oe),fe.add(We)}),w=T.pop(),fe},this.compileAsync=function(U,re,he=null){const fe=this.compile(U,re,he);return new Promise(oe=>{function We(){if(fe.forEach(function(Ze){N.get(Ze).currentProgram.isReady()&&fe.delete(Ze)}),fe.size===0){oe(U);return}setTimeout(We,10)}Ge.get("KHR_parallel_shader_compile")!==null?We():setTimeout(We,10)})};let Uu=null;function fh(U){Uu&&Uu(U)}function Fm(){va.stop()}function as(){va.start()}const va=new FV;va.setAnimationLoop(fh),typeof self<"u"&&va.setContext(self),this.setAnimationLoop=function(U){Uu=U,ke.setAnimationLoop(U),U===null?va.stop():va.start()},ke.addEventListener("sessionstart",Fm),ke.addEventListener("sessionend",as),this.render=function(U,re){if(re!==void 0&&re.isCamera!==!0){gt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;const he=ke.enabled===!0&&ke.isPresenting===!0,fe=R!==null&&(F===null||he)&&R.begin(P,F);if(U.matrixWorldAutoUpdate===!0&&U.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),ke.enabled===!0&&ke.isPresenting===!0&&(R===null||R.isCompositing()===!1)&&(ke.cameraAutoUpdate===!0&&ke.updateCamera(re),re=ke.getCamera()),U.isScene===!0&&U.onBeforeRender(P,U,re,F),w=Xe.get(U,T.length),w.init(re),T.push(w),ve.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),_e.setFromProjectionMatrix(ve,Ii,re.reversedDepth),Be=this.localClippingEnabled,Ee=rt.init(this.clippingPlanes,Be),M=Pe.get(U,A.length),M.init(),A.push(M),ke.enabled===!0&&ke.isPresenting===!0){const Ze=P.xr.getDepthSensingMesh();Ze!==null&&hh(Ze,re,-1/0,P.sortObjects)}hh(U,re,0,P.sortObjects),M.finish(),P.sortObjects===!0&&M.sort(Fe,et),Se=ke.enabled===!1||ke.isPresenting===!1||ke.hasDepthSensing()===!1,Se&&ae.addToRenderList(M,U),this.info.render.frame++,Ee===!0&&rt.beginShadows();const oe=w.state.shadowsArray;if(Z.render(oe,U,re),Ee===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(fe&&R.hasRenderPass())===!1){const Ze=M.opaque,Ce=M.transmissive;if(w.setupLights(),re.isArrayCamera){const Ue=re.cameras;if(Ce.length>0)for(let at=0,ht=Ue.length;at<ht;at++){const ot=Ue[at];zm(Ze,Ce,U,ot)}Se&&ae.render(U);for(let at=0,ht=Ue.length;at<ht;at++){const ot=Ue[at];Bm(M,U,ot,ot.viewport)}}else Ce.length>0&&zm(Ze,Ce,U,re),Se&&ae.render(U),Bm(M,U,re)}F!==null&&k===0&&(ee.updateMultisampleRenderTarget(F),ee.updateRenderTargetMipmap(F)),fe&&R.end(P),U.isScene===!0&&U.onAfterRender(P,U,re),Ye.resetDefaultState(),X=-1,G=null,T.pop(),T.length>0?(w=T[T.length-1],Ee===!0&&rt.setGlobalState(P.clippingPlanes,w.state.camera)):w=null,A.pop(),A.length>0?M=A[A.length-1]:M=null};function hh(U,re,he,fe){if(U.visible===!1)return;if(U.layers.test(re.layers)){if(U.isGroup)he=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(re);else if(U.isLight)w.pushLight(U),U.castShadow&&w.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||_e.intersectsSprite(U)){fe&&ce.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ve);const Ze=He.update(U),Ce=U.material;Ce.visible&&M.push(U,Ze,Ce,he,ce.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||_e.intersectsObject(U))){const Ze=He.update(U),Ce=U.material;if(fe&&(U.boundingSphere!==void 0?(U.boundingSphere===null&&U.computeBoundingSphere(),ce.copy(U.boundingSphere.center)):(Ze.boundingSphere===null&&Ze.computeBoundingSphere(),ce.copy(Ze.boundingSphere.center)),ce.applyMatrix4(U.matrixWorld).applyMatrix4(ve)),Array.isArray(Ce)){const Ue=Ze.groups;for(let at=0,ht=Ue.length;at<ht;at++){const ot=Ue[at],At=Ce[ot.materialIndex];At&&At.visible&&M.push(U,Ze,At,he,ce.z,ot)}}else Ce.visible&&M.push(U,Ze,Ce,he,ce.z,null)}}const We=U.children;for(let Ze=0,Ce=We.length;Ze<Ce;Ze++)hh(We[Ze],re,he,fe)}function Bm(U,re,he,fe){const{opaque:oe,transmissive:We,transparent:Ze}=U;w.setupLightsView(he),Ee===!0&&rt.setGlobalState(P.clippingPlanes,he),fe&&Re.viewport(q.copy(fe)),oe.length>0&&Fu(oe,re,he),We.length>0&&Fu(We,re,he),Ze.length>0&&Fu(Ze,re,he),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function zm(U,re,he,fe){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;if(w.state.transmissionRenderTarget[fe.id]===void 0){const At=Ge.has("EXT_color_buffer_half_float")||Ge.has("EXT_color_buffer_float");w.state.transmissionRenderTarget[fe.id]=new Di(1,1,{generateMipmaps:!0,type:At?ha:Kr,minFilter:ta,samples:pt.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Vt.workingColorSpace})}const We=w.state.transmissionRenderTarget[fe.id],Ze=fe.viewport||q;We.setSize(Ze.z*P.transmissionResolutionScale,Ze.w*P.transmissionResolutionScale);const Ce=P.getRenderTarget(),Ue=P.getActiveCubeFace(),at=P.getActiveMipmapLevel();P.setRenderTarget(We),P.getClearColor(V),z=P.getClearAlpha(),z<1&&P.setClearColor(16777215,.5),P.clear(),Se&&ae.render(he);const ht=P.toneMapping;P.toneMapping=io;const ot=fe.viewport;if(fe.viewport!==void 0&&(fe.viewport=void 0),w.setupLightsView(fe),Ee===!0&&rt.setGlobalState(P.clippingPlanes,fe),Fu(U,he,fe),ee.updateMultisampleRenderTarget(We),ee.updateRenderTargetMipmap(We),Ge.has("WEBGL_multisampled_render_to_texture")===!1){let At=!1;for(let Bt=0,kt=re.length;Bt<kt;Bt++){const un=re[Bt],{object:en,geometry:xt,material:Ht,group:zt}=un;if(Ht.side===Fr&&en.layers.test(fe.layers)){const gn=Ht.side;Ht.side=ti,Ht.needsUpdate=!0,Vm(en,he,fe,xt,Ht,zt),Ht.side=gn,Ht.needsUpdate=!0,At=!0}}At===!0&&(ee.updateMultisampleRenderTarget(We),ee.updateRenderTargetMipmap(We))}P.setRenderTarget(Ce,Ue,at),P.setClearColor(V,z),ot!==void 0&&(fe.viewport=ot),P.toneMapping=ht}function Fu(U,re,he){const fe=re.isScene===!0?re.overrideMaterial:null;for(let oe=0,We=U.length;oe<We;oe++){const Ze=U[oe],{object:Ce,geometry:Ue,group:at}=Ze;let ht=Ze.material;ht.allowOverride===!0&&fe!==null&&(ht=fe),Ce.layers.test(he.layers)&&Vm(Ce,re,he,Ue,ht,at)}}function Vm(U,re,he,fe,oe,We){U.onBeforeRender(P,re,he,fe,oe,We),U.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),oe.onBeforeRender(P,re,he,fe,U,We),oe.transparent===!0&&oe.side===Fr&&oe.forceSinglePass===!1?(oe.side=ti,oe.needsUpdate=!0,P.renderBufferDirect(he,re,fe,oe,U,We),oe.side=Qa,oe.needsUpdate=!0,P.renderBufferDirect(he,re,fe,oe,U,We),oe.side=Fr):P.renderBufferDirect(he,re,fe,oe,U,We),U.onAfterRender(P,re,he,fe,oe,We)}function Bu(U,re,he){re.isScene!==!0&&(re=Me);const fe=N.get(U),oe=w.state.lights,We=w.state.shadowsArray,Ze=oe.state.version,Ce=it.getParameters(U,oe.state,We,re,he),Ue=it.getProgramCacheKey(Ce);let at=fe.programs;fe.environment=U.isMeshStandardMaterial?re.environment:null,fe.fog=re.fog,fe.envMap=(U.isMeshStandardMaterial?Te:pe).get(U.envMap||fe.environment),fe.envMapRotation=fe.environment!==null&&U.envMap===null?re.environmentRotation:U.envMapRotation,at===void 0&&(U.addEventListener("dispose",Kn),at=new Map,fe.programs=at);let ht=at.get(Ue);if(ht!==void 0){if(fe.currentProgram===ht&&fe.lightsStateVersion===Ze)return jm(U,Ce),ht}else Ce.uniforms=it.getUniforms(U),U.onBeforeCompile(Ce,P),ht=it.acquireProgram(Ce,Ue),at.set(Ue,ht),fe.uniforms=Ce.uniforms;const ot=fe.uniforms;return(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(ot.clippingPlanes=rt.uniform),jm(U,Ce),fe.needsLights=DS(U),fe.lightsStateVersion=Ze,fe.needsLights&&(ot.ambientLightColor.value=oe.state.ambient,ot.lightProbe.value=oe.state.probe,ot.directionalLights.value=oe.state.directional,ot.directionalLightShadows.value=oe.state.directionalShadow,ot.spotLights.value=oe.state.spot,ot.spotLightShadows.value=oe.state.spotShadow,ot.rectAreaLights.value=oe.state.rectArea,ot.ltc_1.value=oe.state.rectAreaLTC1,ot.ltc_2.value=oe.state.rectAreaLTC2,ot.pointLights.value=oe.state.point,ot.pointLightShadows.value=oe.state.pointShadow,ot.hemisphereLights.value=oe.state.hemi,ot.directionalShadowMap.value=oe.state.directionalShadowMap,ot.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,ot.spotShadowMap.value=oe.state.spotShadowMap,ot.spotLightMatrix.value=oe.state.spotLightMatrix,ot.spotLightMap.value=oe.state.spotLightMap,ot.pointShadowMap.value=oe.state.pointShadowMap,ot.pointShadowMatrix.value=oe.state.pointShadowMatrix),fe.currentProgram=ht,fe.uniformsList=null,ht}function dh(U){if(U.uniformsList===null){const re=U.currentProgram.getUniforms();U.uniformsList=wy.seqWithValue(re.seq,U.uniforms)}return U.uniformsList}function jm(U,re){const he=N.get(U);he.outputColorSpace=re.outputColorSpace,he.batching=re.batching,he.batchingColor=re.batchingColor,he.instancing=re.instancing,he.instancingColor=re.instancingColor,he.instancingMorph=re.instancingMorph,he.skinning=re.skinning,he.morphTargets=re.morphTargets,he.morphNormals=re.morphNormals,he.morphColors=re.morphColors,he.morphTargetsCount=re.morphTargetsCount,he.numClippingPlanes=re.numClippingPlanes,he.numIntersection=re.numClipIntersection,he.vertexAlphas=re.vertexAlphas,he.vertexTangents=re.vertexTangents,he.toneMapping=re.toneMapping}function LS(U,re,he,fe,oe){re.isScene!==!0&&(re=Me),ee.resetTextureUnits();const We=re.fog,Ze=fe.isMeshStandardMaterial?re.environment:null,Ce=F===null?P.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:bu,Ue=(fe.isMeshStandardMaterial?Te:pe).get(fe.envMap||Ze),at=fe.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,ht=!!he.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),ot=!!he.morphAttributes.position,At=!!he.morphAttributes.normal,Bt=!!he.morphAttributes.color;let kt=io;fe.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(kt=P.toneMapping);const un=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,en=un!==void 0?un.length:0,xt=N.get(fe),Ht=w.state.lights;if(Ee===!0&&(Be===!0||U!==G)){const jn=U===G&&fe.id===X;rt.setState(fe,U,jn)}let zt=!1;fe.version===xt.__version?(xt.needsLights&&xt.lightsStateVersion!==Ht.state.version||xt.outputColorSpace!==Ce||oe.isBatchedMesh&&xt.batching===!1||!oe.isBatchedMesh&&xt.batching===!0||oe.isBatchedMesh&&xt.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&xt.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&xt.instancing===!1||!oe.isInstancedMesh&&xt.instancing===!0||oe.isSkinnedMesh&&xt.skinning===!1||!oe.isSkinnedMesh&&xt.skinning===!0||oe.isInstancedMesh&&xt.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&xt.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&xt.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&xt.instancingMorph===!1&&oe.morphTexture!==null||xt.envMap!==Ue||fe.fog===!0&&xt.fog!==We||xt.numClippingPlanes!==void 0&&(xt.numClippingPlanes!==rt.numPlanes||xt.numIntersection!==rt.numIntersection)||xt.vertexAlphas!==at||xt.vertexTangents!==ht||xt.morphTargets!==ot||xt.morphNormals!==At||xt.morphColors!==Bt||xt.toneMapping!==kt||xt.morphTargetsCount!==en)&&(zt=!0):(zt=!0,xt.__version=fe.version);let gn=xt.currentProgram;zt===!0&&(gn=Bu(fe,re,oe));let ss=!1,$r=!1,cl=!1;const Zt=gn.getUniforms(),Zn=xt.uniforms;if(Re.useProgram(gn.program)&&(ss=!0,$r=!0,cl=!0),fe.id!==X&&(X=fe.id,$r=!0),ss||G!==U){Re.buffers.depth.getReversed()&&U.reversedDepth!==!0&&(U._reversedDepth=!0,U.updateProjectionMatrix()),Zt.setValue($,"projectionMatrix",U.projectionMatrix),Zt.setValue($,"viewMatrix",U.matrixWorldInverse);const Er=Zt.map.cameraPosition;Er!==void 0&&Er.setValue($,$e.setFromMatrixPosition(U.matrixWorld)),pt.logarithmicDepthBuffer&&Zt.setValue($,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Zt.setValue($,"isOrthographic",U.isOrthographicCamera===!0),G!==U&&(G=U,$r=!0,cl=!0)}if(xt.needsLights&&(Ht.state.directionalShadowMap.length>0&&Zt.setValue($,"directionalShadowMap",Ht.state.directionalShadowMap,ee),Ht.state.spotShadowMap.length>0&&Zt.setValue($,"spotShadowMap",Ht.state.spotShadowMap,ee),Ht.state.pointShadowMap.length>0&&Zt.setValue($,"pointShadowMap",Ht.state.pointShadowMap,ee)),oe.isSkinnedMesh){Zt.setOptional($,oe,"bindMatrix"),Zt.setOptional($,oe,"bindMatrixInverse");const jn=oe.skeleton;jn&&(jn.boneTexture===null&&jn.computeBoneTexture(),Zt.setValue($,"boneTexture",jn.boneTexture,ee))}oe.isBatchedMesh&&(Zt.setOptional($,oe,"batchingTexture"),Zt.setValue($,"batchingTexture",oe._matricesTexture,ee),Zt.setOptional($,oe,"batchingIdTexture"),Zt.setValue($,"batchingIdTexture",oe._indirectTexture,ee),Zt.setOptional($,oe,"batchingColorTexture"),oe._colorsTexture!==null&&Zt.setValue($,"batchingColorTexture",oe._colorsTexture,ee));const sr=he.morphAttributes;if((sr.position!==void 0||sr.normal!==void 0||sr.color!==void 0)&&ze.update(oe,he,gn),($r||xt.receiveShadow!==oe.receiveShadow)&&(xt.receiveShadow=oe.receiveShadow,Zt.setValue($,"receiveShadow",oe.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Zn.envMap.value=Ue,Zn.flipEnvMap.value=Ue.isCubeTexture&&Ue.isRenderTargetTexture===!1?-1:1),fe.isMeshStandardMaterial&&fe.envMap===null&&re.environment!==null&&(Zn.envMapIntensity.value=re.environmentIntensity),Zn.dfgLUT!==void 0&&(Zn.dfgLUT.value=K1e()),$r&&(Zt.setValue($,"toneMappingExposure",P.toneMappingExposure),xt.needsLights&&NS(Zn,cl),We&&fe.fog===!0&&_t.refreshFogUniforms(Zn,We),_t.refreshMaterialUniforms(Zn,fe,de,ne,w.state.transmissionRenderTarget[U.id]),wy.upload($,dh(xt),Zn,ee)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(wy.upload($,dh(xt),Zn,ee),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Zt.setValue($,"center",oe.center),Zt.setValue($,"modelViewMatrix",oe.modelViewMatrix),Zt.setValue($,"normalMatrix",oe.normalMatrix),Zt.setValue($,"modelMatrix",oe.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const jn=fe.uniformsGroups;for(let Er=0,mh=jn.length;Er<mh;Er++){const mo=jn[Er];Ie.update(mo,gn),Ie.bind(mo,gn)}}return gn}function NS(U,re){U.ambientLightColor.needsUpdate=re,U.lightProbe.needsUpdate=re,U.directionalLights.needsUpdate=re,U.directionalLightShadows.needsUpdate=re,U.pointLights.needsUpdate=re,U.pointLightShadows.needsUpdate=re,U.spotLights.needsUpdate=re,U.spotLightShadows.needsUpdate=re,U.rectAreaLights.needsUpdate=re,U.hemisphereLights.needsUpdate=re}function DS(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(U,re,he){const fe=N.get(U);fe.__autoAllocateDepthBuffer=U.resolveDepthBuffer===!1,fe.__autoAllocateDepthBuffer===!1&&(fe.__useRenderToTexture=!1),N.get(U.texture).__webglTexture=re,N.get(U.depthTexture).__webglTexture=fe.__autoAllocateDepthBuffer?void 0:he,fe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(U,re){const he=N.get(U);he.__webglFramebuffer=re,he.__useDefaultFramebuffer=re===void 0};const kS=$.createFramebuffer();this.setRenderTarget=function(U,re=0,he=0){F=U,L=re,k=he;let fe=null,oe=!1,We=!1;if(U){const Ce=N.get(U);if(Ce.__useDefaultFramebuffer!==void 0){Re.bindFramebuffer($.FRAMEBUFFER,Ce.__webglFramebuffer),q.copy(U.viewport),W.copy(U.scissor),D=U.scissorTest,Re.viewport(q),Re.scissor(W),Re.setScissorTest(D),X=-1;return}else if(Ce.__webglFramebuffer===void 0)ee.setupRenderTarget(U);else if(Ce.__hasExternalTextures)ee.rebindTextures(U,N.get(U.texture).__webglTexture,N.get(U.depthTexture).__webglTexture);else if(U.depthBuffer){const ht=U.depthTexture;if(Ce.__boundDepthTexture!==ht){if(ht!==null&&N.has(ht)&&(U.width!==ht.image.width||U.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ee.setupDepthRenderbuffer(U)}}const Ue=U.texture;(Ue.isData3DTexture||Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(We=!0);const at=N.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Array.isArray(at[re])?fe=at[re][he]:fe=at[re],oe=!0):U.samples>0&&ee.useMultisampledRTT(U)===!1?fe=N.get(U).__webglMultisampledFramebuffer:Array.isArray(at)?fe=at[he]:fe=at,q.copy(U.viewport),W.copy(U.scissor),D=U.scissorTest}else q.copy(se).multiplyScalar(de).floor(),W.copy(xe).multiplyScalar(de).floor(),D=je;if(he!==0&&(fe=kS),Re.bindFramebuffer($.FRAMEBUFFER,fe)&&Re.drawBuffers(U,fe),Re.viewport(q),Re.scissor(W),Re.setScissorTest(D),oe){const Ce=N.get(U.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+re,Ce.__webglTexture,he)}else if(We){const Ce=re;for(let Ue=0;Ue<U.textures.length;Ue++){const at=N.get(U.textures[Ue]);$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0+Ue,at.__webglTexture,he,Ce)}}else if(U!==null&&he!==0){const Ce=N.get(U.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,Ce.__webglTexture,he)}X=-1},this.readRenderTargetPixels=function(U,re,he,fe,oe,We,Ze,Ce=0){if(!(U&&U.isWebGLRenderTarget)){gt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=N.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Ze!==void 0&&(Ue=Ue[Ze]),Ue){Re.bindFramebuffer($.FRAMEBUFFER,Ue);try{const at=U.textures[Ce],ht=at.format,ot=at.type;if(!pt.textureFormatReadable(ht)){gt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!pt.textureTypeReadable(ot)){gt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=U.width-fe&&he>=0&&he<=U.height-oe&&(U.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+Ce),$.readPixels(re,he,fe,oe,Oe.convert(ht),Oe.convert(ot),We))}finally{const at=F!==null?N.get(F).__webglFramebuffer:null;Re.bindFramebuffer($.FRAMEBUFFER,at)}}},this.readRenderTargetPixelsAsync=async function(U,re,he,fe,oe,We,Ze,Ce=0){if(!(U&&U.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ue=N.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&Ze!==void 0&&(Ue=Ue[Ze]),Ue)if(re>=0&&re<=U.width-fe&&he>=0&&he<=U.height-oe){Re.bindFramebuffer($.FRAMEBUFFER,Ue);const at=U.textures[Ce],ht=at.format,ot=at.type;if(!pt.textureFormatReadable(ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!pt.textureTypeReadable(ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const At=$.createBuffer();$.bindBuffer($.PIXEL_PACK_BUFFER,At),$.bufferData($.PIXEL_PACK_BUFFER,We.byteLength,$.STREAM_READ),U.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+Ce),$.readPixels(re,he,fe,oe,Oe.convert(ht),Oe.convert(ot),0);const Bt=F!==null?N.get(F).__webglFramebuffer:null;Re.bindFramebuffer($.FRAMEBUFFER,Bt);const kt=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);return $.flush(),await ove($,kt,4),$.bindBuffer($.PIXEL_PACK_BUFFER,At),$.getBufferSubData($.PIXEL_PACK_BUFFER,0,We),$.deleteBuffer(At),$.deleteSync(kt),We}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(U,re=null,he=0){const fe=Math.pow(2,-he),oe=Math.floor(U.image.width*fe),We=Math.floor(U.image.height*fe),Ze=re!==null?re.x:0,Ce=re!==null?re.y:0;ee.setTexture2D(U,0),$.copyTexSubImage2D($.TEXTURE_2D,he,0,0,Ze,Ce,oe,We),Re.unbindTexture()};const US=$.createFramebuffer(),ph=$.createFramebuffer();this.copyTextureToTexture=function(U,re,he=null,fe=null,oe=0,We=null){We===null&&(oe!==0?(Uf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),We=oe,oe=0):We=0);let Ze,Ce,Ue,at,ht,ot,At,Bt,kt;const un=U.isCompressedTexture?U.mipmaps[We]:U.image;if(he!==null)Ze=he.max.x-he.min.x,Ce=he.max.y-he.min.y,Ue=he.isBox3?he.max.z-he.min.z:1,at=he.min.x,ht=he.min.y,ot=he.isBox3?he.min.z:0;else{const sr=Math.pow(2,-oe);Ze=Math.floor(un.width*sr),Ce=Math.floor(un.height*sr),U.isDataArrayTexture?Ue=un.depth:U.isData3DTexture?Ue=Math.floor(un.depth*sr):Ue=1,at=0,ht=0,ot=0}fe!==null?(At=fe.x,Bt=fe.y,kt=fe.z):(At=0,Bt=0,kt=0);const en=Oe.convert(re.format),xt=Oe.convert(re.type);let Ht;re.isData3DTexture?(ee.setTexture3D(re,0),Ht=$.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(ee.setTexture2DArray(re,0),Ht=$.TEXTURE_2D_ARRAY):(ee.setTexture2D(re,0),Ht=$.TEXTURE_2D),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,re.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,re.unpackAlignment);const zt=$.getParameter($.UNPACK_ROW_LENGTH),gn=$.getParameter($.UNPACK_IMAGE_HEIGHT),ss=$.getParameter($.UNPACK_SKIP_PIXELS),$r=$.getParameter($.UNPACK_SKIP_ROWS),cl=$.getParameter($.UNPACK_SKIP_IMAGES);$.pixelStorei($.UNPACK_ROW_LENGTH,un.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,un.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,at),$.pixelStorei($.UNPACK_SKIP_ROWS,ht),$.pixelStorei($.UNPACK_SKIP_IMAGES,ot);const Zt=U.isDataArrayTexture||U.isData3DTexture,Zn=re.isDataArrayTexture||re.isData3DTexture;if(U.isDepthTexture){const sr=N.get(U),jn=N.get(re),Er=N.get(sr.__renderTarget),mh=N.get(jn.__renderTarget);Re.bindFramebuffer($.READ_FRAMEBUFFER,Er.__webglFramebuffer),Re.bindFramebuffer($.DRAW_FRAMEBUFFER,mh.__webglFramebuffer);for(let mo=0;mo<Ue;mo++)Zt&&($.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,N.get(U).__webglTexture,oe,ot+mo),$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,N.get(re).__webglTexture,We,kt+mo)),$.blitFramebuffer(at,ht,Ze,Ce,At,Bt,Ze,Ce,$.DEPTH_BUFFER_BIT,$.NEAREST);Re.bindFramebuffer($.READ_FRAMEBUFFER,null),Re.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else if(oe!==0||U.isRenderTargetTexture||N.has(U)){const sr=N.get(U),jn=N.get(re);Re.bindFramebuffer($.READ_FRAMEBUFFER,US),Re.bindFramebuffer($.DRAW_FRAMEBUFFER,ph);for(let Er=0;Er<Ue;Er++)Zt?$.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,sr.__webglTexture,oe,ot+Er):$.framebufferTexture2D($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,sr.__webglTexture,oe),Zn?$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,jn.__webglTexture,We,kt+Er):$.framebufferTexture2D($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,jn.__webglTexture,We),oe!==0?$.blitFramebuffer(at,ht,Ze,Ce,At,Bt,Ze,Ce,$.COLOR_BUFFER_BIT,$.NEAREST):Zn?$.copyTexSubImage3D(Ht,We,At,Bt,kt+Er,at,ht,Ze,Ce):$.copyTexSubImage2D(Ht,We,At,Bt,at,ht,Ze,Ce);Re.bindFramebuffer($.READ_FRAMEBUFFER,null),Re.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else Zn?U.isDataTexture||U.isData3DTexture?$.texSubImage3D(Ht,We,At,Bt,kt,Ze,Ce,Ue,en,xt,un.data):re.isCompressedArrayTexture?$.compressedTexSubImage3D(Ht,We,At,Bt,kt,Ze,Ce,Ue,en,un.data):$.texSubImage3D(Ht,We,At,Bt,kt,Ze,Ce,Ue,en,xt,un):U.isDataTexture?$.texSubImage2D($.TEXTURE_2D,We,At,Bt,Ze,Ce,en,xt,un.data):U.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,We,At,Bt,un.width,un.height,en,un.data):$.texSubImage2D($.TEXTURE_2D,We,At,Bt,Ze,Ce,en,xt,un);$.pixelStorei($.UNPACK_ROW_LENGTH,zt),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,gn),$.pixelStorei($.UNPACK_SKIP_PIXELS,ss),$.pixelStorei($.UNPACK_SKIP_ROWS,$r),$.pixelStorei($.UNPACK_SKIP_IMAGES,cl),We===0&&re.generateMipmaps&&$.generateMipmap(Ht),Re.unbindTexture()},this.initRenderTarget=function(U){N.get(U).__webglFramebuffer===void 0&&ee.setupRenderTarget(U)},this.initTexture=function(U){U.isCubeTexture?ee.setTextureCube(U,0):U.isData3DTexture?ee.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?ee.setTexture2DArray(U,0):ee.setTexture2D(U,0),Re.unbindTexture()},this.resetState=function(){L=0,k=0,F=null,Re.reset(),Ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ii}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Vt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Vt._getUnpackColorSpace()}}const Z1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Z_,AddEquation:Os,AddOperation:b5,AdditiveAnimationBlendMode:$P,AdditiveBlending:cA,AgXToneMapping:DP,AlphaFormat:jP,AlwaysCompare:N5,AlwaysDepth:J0,AlwaysStencilFunc:pA,AmbientLight:TV,AnimationAction:DV,AnimationClip:sm,AnimationLoader:qye,AnimationMixer:M0e,AnimationObjectGroup:b0e,AnimationUtils:Gye,ArcCurve:eV,ArrayCamera:IV,ArrowHelper:q0e,AttachedBindMode:dA,Audio:LV,AudioAnalyser:h0e,AudioContext:vC,AudioListener:u0e,AudioLoader:a0e,AxesHelper:K0e,BackSide:ti,BasicDepthPacking:T5,BasicShadowMap:n5,BatchedMesh:Y5,Bone:JP,BooleanKeyframeTrack:Nu,Box2:L0e,Box3:Vr,Box3Helper:X0e,BoxGeometry:Lu,BoxHelper:W0e,BufferAttribute:ln,BufferGeometry:Tt,BufferGeometryLoader:RV,ByteType:FP,Cache:na,Camera:Pm,CameraHelper:G0e,CanvasTexture:pye,CapsuleGeometry:gS,CatmullRomCurve3:tV,CineonToneMapping:LP,CircleGeometry:vS,ClampToEdgeWrapping:mi,Clock:yC,Color:nt,ColorKeyframeTrack:dC,ColorManagement:Vt,CompressedArrayTexture:hye,CompressedCubeTexture:dye,CompressedTexture:mS,CompressedTextureLoader:Kye,ConeGeometry:Rm,ConstantAlphaFactor:x5,ConstantColorFactor:v5,Controls:J0e,CubeCamera:j5,CubeDepthTexture:J5,CubeReflectionMapping:fa,CubeRefractionMapping:qs,CubeTexture:Cm,CubeTextureLoader:Zye,CubeUVReflectionMapping:sh,CubicBezierCurve:nC,CubicBezierCurve3:nV,CubicInterpolant:xV,CullFaceBack:uA,CullFaceFront:t5,CullFaceFrontBack:mge,CullFaceNone:e5,Curve:Fo,CurvePath:iV,CustomBlending:r5,CustomToneMapping:NP,CylinderGeometry:Om,Cylindrical:I0e,Data3DTexture:uS,DataArrayTexture:lS,DataTexture:Do,DataTextureLoader:Jye,DataUtils:Uve,DecrementStencilOp:Lge,DecrementWrapStencilOp:Dge,DefaultLoadingManager:bV,DepthFormat:da,DepthStencilFormat:Ns,DepthTexture:Vf,DetachedBindMode:w5,DirectionalLight:AV,DirectionalLightHelper:$0e,DiscreteInterpolant:_V,DodecahedronGeometry:yS,DoubleSide:Fr,DstAlphaFactor:h5,DstColorFactor:p5,DynamicCopyUsage:Kge,DynamicDrawUsage:$ge,DynamicReadUsage:Xge,EdgesGeometry:Q5,EllipseCurve:xS,EqualCompare:R5,EqualDepth:ex,EqualStencilFunc:Bge,EquirectangularReflectionMapping:Wp,EquirectangularRefractionMapping:Xp,Euler:Ui,EventDispatcher:ma,ExternalTexture:eC,ExtrudeGeometry:_S,FileLoader:es,Float16BufferAttribute:$ve,Float32BufferAttribute:ut,FloatType:Qr,Fog:fS,FogExp2:cS,FramebufferTexture:fye,FrontSide:Qa,Frustum:lh,FrustumArray:pS,GLBufferAttribute:C0e,GLSL1:Jge,GLSL3:mA,GreaterCompare:I5,GreaterDepth:nx,GreaterEqualCompare:sS,GreaterEqualDepth:tx,GreaterEqualStencilFunc:Hge,GreaterStencilFunc:Vge,GridHelper:j0e,Group:Gc,HalfFloatType:ha,HemisphereLight:wV,HemisphereLightHelper:V0e,IcosahedronGeometry:SS,ImageBitmapLoader:o0e,ImageLoader:lm,ImageUtils:F5,IncrementStencilOp:Ige,IncrementWrapStencilOp:Nge,InstancedBufferAttribute:zf,InstancedBufferGeometry:OV,InstancedInterleavedBuffer:P0e,InstancedMesh:X5,Int16BufferAttribute:jve,Int32BufferAttribute:Hve,Int8BufferAttribute:Bve,IntType:Q_,InterleavedBuffer:hS,InterleavedBufferAttribute:wu,Interpolant:Nm,InterpolateDiscrete:Kp,InterpolateLinear:kx,InterpolateSmooth:Sy,InterpolationSamplingMode:tve,InterpolationSamplingType:eve,InvertStencilOp:kge,KeepStencilOp:jl,KeyframeTrack:po,LOD:G5,LatheGeometry:bS,Layers:uu,LessCompare:O5,LessDepth:Q0,LessEqualCompare:aS,LessEqualDepth:_u,LessEqualStencilFunc:zge,LessStencilFunc:Fge,Light:ul,LightProbe:CV,Line:Zs,Line3:k0e,LineBasicMaterial:ii,LineCurve:rC,LineCurve3:rV,LineDashedMaterial:vV,LineLoop:q5,LineSegments:ga,LinearFilter:bn,LinearInterpolant:hC,LinearMipMapLinearFilter:xge,LinearMipMapNearestFilter:yge,LinearMipmapLinearFilter:ta,LinearMipmapNearestFilter:Fd,LinearSRGBColorSpace:bu,LinearToneMapping:RP,LinearTransfer:Jp,Loader:_i,LoaderUtils:_A,LoadingManager:pC,LoopOnce:M5,LoopPingPong:A5,LoopRepeat:E5,MOUSE:zl,Material:Hr,MaterialLoader:CS,MathUtils:bve,Matrix2:bC,Matrix3:Ot,Matrix4:Et,MaxEquation:s5,Mesh:qn,MeshBasicMaterial:sl,MeshDepthMaterial:uC,MeshDistanceMaterial:cC,MeshLambertMaterial:mV,MeshMatcapMaterial:gV,MeshNormalMaterial:pV,MeshPhongMaterial:hV,MeshPhysicalMaterial:fV,MeshStandardMaterial:lC,MeshToonMaterial:dV,MinEquation:a5,MirroredRepeatWrapping:qp,MixOperation:S5,MultiplyBlending:hA,MultiplyOperation:Am,NearestFilter:Vn,NearestMipMapLinearFilter:vge,NearestMipMapNearestFilter:gge,NearestMipmapLinearFilter:Hc,NearestMipmapNearestFilter:UP,NeutralToneMapping:kP,NeverCompare:C5,NeverDepth:Z0,NeverStencilFunc:Uge,NoBlending:sa,NoColorSpace:La,NoNormalPacking:Tge,NoToneMapping:io,NormalAnimationBlendMode:oS,NormalBlending:su,NormalGAPacking:Cge,NormalRGPacking:Pge,NotEqualCompare:L5,NotEqualDepth:rx,NotEqualStencilFunc:jge,NumberKeyframeTrack:om,Object3D:Wt,ObjectLoader:r0e,ObjectSpaceNormalMap:P5,OctahedronGeometry:Im,OneFactor:u5,OneMinusConstantAlphaFactor:_5,OneMinusConstantColorFactor:y5,OneMinusDstAlphaFactor:d5,OneMinusDstColorFactor:m5,OneMinusSrcAlphaFactor:K0,OneMinusSrcColorFactor:f5,OrthographicCamera:$a,PCFShadowMap:rf,PCFSoftShadowMap:Ud,PMREMGenerator:MA,Path:zx,PerspectiveCamera:zn,Plane:Zo,PlaneGeometry:uh,PlaneHelper:Y0e,PointLight:EV,PointLightHelper:B0e,Points:K5,PointsMaterial:QP,PolarGridHelper:H0e,PolyhedronGeometry:ll,PositionalAudio:f0e,PropertyBinding:$t,PropertyMixer:NV,QuadraticBezierCurve:iC,QuadraticBezierCurve3:oC,Quaternion:zr,QuaternionKeyframeTrack:Dm,QuaternionLinearInterpolant:SV,R11_EAC_Format:fx,RED_GREEN_RGTC2_Format:Nx,RED_RGTC1_Format:Ix,REVISION:K_,RG11_EAC_Format:dx,RGBADepthPacking:Mge,RGBAFormat:Br,RGBAIntegerFormat:iS,RGBA_ASTC_10x10_Format:Ax,RGBA_ASTC_10x5_Format:wx,RGBA_ASTC_10x6_Format:Mx,RGBA_ASTC_10x8_Format:Ex,RGBA_ASTC_12x10_Format:Tx,RGBA_ASTC_12x12_Format:Px,RGBA_ASTC_4x4_Format:mx,RGBA_ASTC_5x4_Format:gx,RGBA_ASTC_5x5_Format:vx,RGBA_ASTC_6x5_Format:yx,RGBA_ASTC_6x6_Format:xx,RGBA_ASTC_8x5_Format:_x,RGBA_ASTC_8x6_Format:Sx,RGBA_ASTC_8x8_Format:bx,RGBA_BPTC_Format:Cx,RGBA_ETC2_EAC_Format:cx,RGBA_PVRTC_2BPPV1_Format:sx,RGBA_PVRTC_4BPPV1_Format:ax,RGBA_S3TC_DXT1_Format:zd,RGBA_S3TC_DXT3_Format:Vd,RGBA_S3TC_DXT5_Format:jd,RGBDepthPacking:Ege,RGBFormat:HP,RGBIntegerFormat:_ge,RGB_BPTC_SIGNED_Format:Ox,RGB_BPTC_UNSIGNED_Format:Rx,RGB_ETC1_Format:lx,RGB_ETC2_Format:ux,RGB_PVRTC_2BPPV1_Format:ox,RGB_PVRTC_4BPPV1_Format:ix,RGB_S3TC_DXT1_Format:Bd,RGDepthPacking:Age,RGFormat:Su,RGIntegerFormat:rS,RawShaderMaterial:sC,Ray:Iu,Raycaster:kV,RectAreaLight:PV,RedFormat:nS,RedIntegerFormat:Tm,ReinhardToneMapping:IP,RenderTarget:WP,RenderTarget3D:E0e,RepeatWrapping:Yp,ReplaceStencilOp:Rge,ReverseSubtractEquation:o5,RingGeometry:wS,SIGNED_R11_EAC_Format:hx,SIGNED_RED_GREEN_RGTC2_Format:Dx,SIGNED_RED_RGTC1_Format:Lx,SIGNED_RG11_EAC_Format:px,SRGBColorSpace:ci,SRGBTransfer:nn,Scene:KP,ShaderChunk:It,ShaderLib:Po,ShaderMaterial:uo,ShadowMaterial:cV,Shape:cu,ShapeGeometry:MS,ShapePath:Z0e,ShapeUtils:Ro,ShortType:BP,Skeleton:dS,SkeletonHelper:F0e,SkinnedMesh:W5,Source:Ds,Sphere:br,SphereGeometry:Lm,Spherical:bA,SphericalHarmonics3:gC,SplineCurve:aC,SpotLight:MV,SpotLightHelper:U0e,Sprite:$5,SpriteMaterial:ZP,SrcAlphaFactor:q0,SrcAlphaSaturateFactor:g5,SrcColorFactor:c5,StaticCopyUsage:qge,StaticDrawUsage:Qp,StaticReadUsage:Wge,StereoCamera:s0e,StreamCopyUsage:Zge,StreamDrawUsage:Gge,StreamReadUsage:Yge,StringKeyframeTrack:Du,SubtractEquation:i5,SubtractiveBlending:fA,TOUCH:Vl,TangentSpaceNormalMap:al,TetrahedronGeometry:ES,Texture:kn,TextureLoader:Qye,TextureUtils:rxe,Timer:O0e,TimestampQuery:Qge,TorusGeometry:AS,TorusKnotGeometry:TS,Triangle:hi,TriangleFanDrawMode:wge,TriangleStripDrawMode:bge,TrianglesDrawMode:Sge,TubeGeometry:PS,UVMapping:J_,Uint16BufferAttribute:XP,Uint32BufferAttribute:YP,Uint8BufferAttribute:zve,Uint8ClampedBufferAttribute:Vve,Uniform:SC,UniformsGroup:T0e,UniformsLib:Ke,UniformsUtils:V5,UnsignedByteType:Kr,UnsignedInt101111Type:VP,UnsignedInt248Type:Df,UnsignedInt5999Type:zP,UnsignedIntType:lo,UnsignedShort4444Type:eS,UnsignedShort5551Type:tS,UnsignedShortType:Nf,VSMShadowMap:Zl,Vector2:we,Vector3:H,Vector4:fn,VectorKeyframeTrack:am,VideoFrameTexture:cye,VideoTexture:Z5,WebGL3DRenderTarget:Tve,WebGLArrayRenderTarget:Ave,WebGLCoordinateSystem:Ii,WebGLCubeRenderTarget:qP,WebGLRenderTarget:Di,WebGLRenderer:$V,WebGLUtils:HV,WebGPUCoordinateSystem:kf,WebXRController:by,WireframeGeometry:uV,WrapAroundEnding:Zp,ZeroCurvatureEnding:Jl,ZeroFactor:l5,ZeroSlopeEnding:Ql,ZeroStencilOp:Oge,createCanvasElement:U5,error:gt,getConsoleFunction:ive,log:tm,setConsoleFunction:rve,warn:qe,warnOnce:Uf},Symbol.toStringTag,{value:"Module"}));var GV={exports:{}},ku={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ku.ConcurrentRoot=1;ku.ContinuousEventPriority=4;ku.DefaultEventPriority=16;ku.DiscreteEventPriority=1;ku.IdleEventPriority=536870912;ku.LegacyRoot=0;GV.exports=ku;var Wc=GV.exports;function J1e(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,o=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const v=c(e);if(!f(p,v)){const x=p;u(p=v,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?o(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Q1e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),OD=Q1e?j.useEffect:j.useLayoutEffect;function ewe(t){const e=typeof t=="function"?J1e(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=j.useReducer(y=>y+1,0),a=e.getState(),s=j.useRef(a),l=j.useRef(r),u=j.useRef(i),c=j.useRef(!1),f=j.useRef();f.current===void 0&&(f.current=r(a));let p,m=!1;(s.current!==a||l.current!==r||u.current!==i||c.current)&&(p=r(a),m=!i(f.current,p)),OD(()=>{m&&(f.current=p),s.current=a,l.current=r,u.current=i,c.current=!1});const v=j.useRef(a);OD(()=>{const y=()=>{try{const _=e.getState(),S=l.current(_);u.current(f.current,S)||(s.current=_,f.current=S,o())}catch{c.current=!0,o()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:f.current;return j.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var WV={exports:{}},Nw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function twe(){return RD||(RD=1,function(t){function e(D,V){var z=D.length;D.push(V);e:for(;0<z;){var Q=z-1>>>1,ne=D[Q];if(0<i(ne,V))D[Q]=V,D[z]=ne,z=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],z=D.pop();if(z!==V){D[0]=z;e:for(var Q=0,ne=D.length,de=ne>>>1;Q<de;){var Fe=2*(Q+1)-1,et=D[Fe],se=Fe+1,xe=D[se];if(0>i(et,z))se<ne&&0>i(xe,et)?(D[Q]=xe,D[se]=z,Q=se):(D[Q]=et,D[Fe]=z,Q=Fe);else if(se<ne&&0>i(xe,z))D[Q]=xe,D[se]=z,Q=se;else break e}}return V}function i(D,V){var z=D.sortIndex-V.sortIndex;return z!==0?z:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function M(D){if(x=!1,S(D),!v)if(n(l)!==null)v=!0,q(w);else{var V=n(u);V!==null&&W(M,V.startTime-D)}}function w(D,V){v=!1,x&&(x=!1,g(R),R=-1),m=!0;var z=p;try{for(S(V),f=n(l);f!==null&&(!(f.expirationTime>V)||D&&!L());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ne=Q(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),S(V)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Fe=n(u);Fe!==null&&W(M,Fe.startTime-V),de=!1}return de}finally{f=null,p=z,m=!1}}var A=!1,T=null,R=-1,P=5,O=-1;function L(){return!(t.unstable_now()-O<P)}function k(){if(T!==null){var D=t.unstable_now();O=D;var V=!0;try{V=T(!0,D)}finally{V?F():(A=!1,T=null)}}else A=!1}var F;if(typeof _=="function")F=function(){_(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=k,F=function(){G.postMessage(null)}}else F=function(){y(k,0)};function q(D){T=D,A||(A=!0,F())}function W(D,V){R=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var z=p;p=V;try{return D()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=p;p=D;try{return V()}finally{p=z}},t.unstable_scheduleCallback=function(D,V,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,D={id:c++,callback:V,priorityLevel:D,startTime:z,expirationTime:ne,sortIndex:-1},z>Q?(D.sortIndex=z,e(u,D),n(l)===null&&D===n(u)&&(x?(g(R),R=-1):x=!0,W(M,z-Q))):(D.sortIndex=ne,e(l,D),v||m||(v=!0,q(w))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var V=p;return function(){var z=p;p=V;try{return D.apply(this,arguments)}finally{p=z}}}}(Dw)),Dw}var ID;function nwe(){return ID||(ID=1,Nw.exports=twe()),Nw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rwe=function(e){var n={},r=j,i=nwe(),o=Object.assign;function a(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),w=Symbol.iterator;function A(h){return h===null||typeof h!="object"?null:(h=w&&h[w]||h["@@iterator"],typeof h=="function"?h:null)}function T(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case x:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return d=h.displayName||null,d!==null?d:T(h.type)||"Memo";case S:d=h._payload,h=h._init;try{return T(h(d))}catch{}}return null}function R(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=d.render,h=h.displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(d);case 8:return d===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function P(h){var d=h,b=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,d.flags&4098&&(b=d.return),h=d.return;while(h)}return d.tag===3?b:null}function O(h){if(P(h)!==h)throw Error(a(188))}function L(h){var d=h.alternate;if(!d){if(d=P(h),d===null)throw Error(a(188));return d!==h?null:h}for(var b=h,E=d;;){var C=b.return;if(C===null)break;var I=C.alternate;if(I===null){if(E=C.return,E!==null){b=E;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===b)return O(C),h;if(I===E)return O(C),d;I=I.sibling}throw Error(a(188))}if(b.return!==E.return)b=C,E=I;else{for(var Y=!1,te=C.child;te;){if(te===b){Y=!0,b=C,E=I;break}if(te===E){Y=!0,E=C,b=I;break}te=te.sibling}if(!Y){for(te=I.child;te;){if(te===b){Y=!0,b=I,E=C;break}if(te===E){Y=!0,E=I,b=C;break}te=te.sibling}if(!Y)throw Error(a(189))}}if(b.alternate!==E)throw Error(a(190))}if(b.tag!==3)throw Error(a(188));return b.stateNode.current===b?h:d}function k(h){return h=L(h),h!==null?F(h):null}function F(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=F(h);if(d!==null)return d;h=h.sibling}return null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=X(h);if(d!==null)return d}h=h.sibling}return null}var G=Array.isArray,q=e.getPublicInstance,W=e.getRootHostContext,D=e.getChildHostContext,V=e.prepareForCommit,z=e.resetAfterCommit,Q=e.createInstance,ne=e.appendInitialChild,de=e.finalizeInitialChildren,Fe=e.prepareUpdate,et=e.shouldSetTextContent,se=e.createTextInstance,xe=e.scheduleTimeout,je=e.cancelTimeout,_e=e.noTimeout,Ee=e.isPrimaryRenderer,Be=e.supportsMutation,ve=e.supportsPersistence,$e=e.supportsHydration,ce=e.getInstanceFromNode,Me=e.preparePortalMount,Se=e.getCurrentEventPriority,Le=e.detachDeletedInstance,$=e.supportsMicrotasks,ct=e.scheduleMicrotask,Ge=e.supportsTestSelectors,pt=e.findFiberRoot,Re=e.getBoundingRect,B=e.getTextContent,N=e.isHiddenSubtree,ee=e.matchAccessibilityRole,pe=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,me=e.appendChild,ft=e.appendChildToContainer,He=e.commitTextUpdate,it=e.commitMount,_t=e.commitUpdate,Pe=e.insertBefore,Xe=e.insertInContainerBefore,rt=e.removeChild,Z=e.removeChildFromContainer,ae=e.resetTextContent,ze=e.hideInstance,J=e.hideTextInstance,Ne=e.unhideInstance,Oe=e.unhideTextInstance,Ye=e.clearContainer,Ie=e.cloneInstance,Ae=e.createContainerChildSet,ke=e.appendChildToContainerChildSet,yt=e.finalizeContainerChildren,Ft=e.replaceContainerChildren,Dt=e.cloneHiddenInstance,Kn=e.cloneHiddenTextInstance,Mr=e.canHydrateInstance,IS=e.canHydrateTextInstance,Um=e.canHydrateSuspenseInstance,Uu=e.isSuspenseInstancePending,fh=e.isSuspenseInstanceFallback,Fm=e.registerSuspenseInstanceRetry,as=e.getNextHydratableSibling,va=e.getFirstHydratableChild,hh=e.getFirstHydratableChildWithinContainer,Bm=e.getFirstHydratableChildWithinSuspenseInstance,zm=e.hydrateInstance,Fu=e.hydrateTextInstance,Vm=e.hydrateSuspenseInstance,Bu=e.getNextHydratableInstanceAfterSuspenseInstance,dh=e.commitHydratedContainer,jm=e.commitHydratedSuspenseInstance,LS=e.clearSuspenseBoundary,NS=e.clearSuspenseBoundaryFromContainer,DS=e.shouldDeleteUnhydratedTailInstances,kS=e.didNotMatchHydratedContainerTextInstance,US=e.didNotMatchHydratedTextInstance,ph;function U(h){if(ph===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);ph=d&&d[1]||""}return`
`+ph+h}var re=!1;function he(h,d){if(!h||re)return"";re=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ve){var E=Ve}Reflect.construct(h,[],d)}else{try{d.call()}catch(Ve){E=Ve}h.call(d.prototype)}else{try{throw Error()}catch(Ve){E=Ve}h()}}catch(Ve){if(Ve&&E&&typeof Ve.stack=="string"){for(var C=Ve.stack.split(`
`),I=E.stack.split(`
`),Y=C.length-1,te=I.length-1;1<=Y&&0<=te&&C[Y]!==I[te];)te--;for(;1<=Y&&0<=te;Y--,te--)if(C[Y]!==I[te]){if(Y!==1||te!==1)do if(Y--,te--,0>te||C[Y]!==I[te]){var ye=`
`+C[Y].replace(" at new "," at ");return h.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",h.displayName)),ye}while(1<=Y&&0<=te);break}}}finally{re=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?U(h):""}var fe=Object.prototype.hasOwnProperty,oe=[],We=-1;function Ze(h){return{current:h}}function Ce(h){0>We||(h.current=oe[We],oe[We]=null,We--)}function Ue(h,d){We++,oe[We]=h.current,h.current=d}var at={},ht=Ze(at),ot=Ze(!1),At=at;function Bt(h,d){var b=h.type.contextTypes;if(!b)return at;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===d)return E.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in b)C[I]=d[I];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=C),C}function kt(h){return h=h.childContextTypes,h!=null}function un(){Ce(ot),Ce(ht)}function en(h,d,b){if(ht.current!==at)throw Error(a(168));Ue(ht,d),Ue(ot,b)}function xt(h,d,b){var E=h.stateNode;if(d=d.childContextTypes,typeof E.getChildContext!="function")return b;E=E.getChildContext();for(var C in E)if(!(C in d))throw Error(a(108,R(h)||"Unknown",C));return o({},b,E)}function Ht(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||at,At=ht.current,Ue(ht,h),Ue(ot,ot.current),!0}function zt(h,d,b){var E=h.stateNode;if(!E)throw Error(a(169));b?(h=xt(h,d,At),E.__reactInternalMemoizedMergedChildContext=h,Ce(ot),Ce(ht),Ue(ht,h)):Ce(ot),Ue(ot,b)}var gn=Math.clz32?Math.clz32:cl,ss=Math.log,$r=Math.LN2;function cl(h){return h>>>=0,h===0?32:31-(ss(h)/$r|0)|0}var Zt=64,Zn=4194304;function sr(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function jn(h,d){var b=h.pendingLanes;if(b===0)return 0;var E=0,C=h.suspendedLanes,I=h.pingedLanes,Y=b&268435455;if(Y!==0){var te=Y&~C;te!==0?E=sr(te):(I&=Y,I!==0&&(E=sr(I)))}else Y=b&~C,Y!==0?E=sr(Y):I!==0&&(E=sr(I));if(E===0)return 0;if(d!==0&&d!==E&&!(d&C)&&(C=E&-E,I=d&-d,C>=I||C===16&&(I&4194240)!==0))return d;if(E&4&&(E|=b&16),d=h.entangledLanes,d!==0)for(h=h.entanglements,d&=E;0<d;)b=31-gn(d),C=1<<b,E|=h[b],d&=~C;return E}function Er(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mh(h,d){for(var b=h.suspendedLanes,E=h.pingedLanes,C=h.expirationTimes,I=h.pendingLanes;0<I;){var Y=31-gn(I),te=1<<Y,ye=C[Y];ye===-1?(!(te&b)||te&E)&&(C[Y]=Er(te,d)):ye<=d&&(h.expiredLanes|=te),I&=~te}}function mo(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function FS(h){for(var d=[],b=0;31>b;b++)d.push(h);return d}function gh(h,d,b){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,d=31-gn(d),h[d]=b}function fj(h,d){var b=h.pendingLanes&~d;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=d,h.mutableReadLanes&=d,h.entangledLanes&=d,d=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<b;){var C=31-gn(b),I=1<<C;d[C]=0,E[C]=-1,h[C]=-1,b&=~I}}function BS(h,d){var b=h.entangledLanes|=d;for(h=h.entanglements;b;){var E=31-gn(b),C=1<<E;C&d|h[E]&d&&(h[E]|=d),b&=~C}}var Xt=0;function EC(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var zS=i.unstable_scheduleCallback,AC=i.unstable_cancelCallback,hj=i.unstable_shouldYield,dj=i.unstable_requestPaint,lr=i.unstable_now,VS=i.unstable_ImmediatePriority,pj=i.unstable_UserBlockingPriority,jS=i.unstable_NormalPriority,mj=i.unstable_IdlePriority,Hm=null,Bo=null;function gj(h){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(Hm,h,void 0,(h.current.flags&128)===128)}catch{}}function vj(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var zo=typeof Object.is=="function"?Object.is:vj,ya=null,$m=!1,HS=!1;function TC(h){ya===null?ya=[h]:ya.push(h)}function yj(h){$m=!0,TC(h)}function Vo(){if(!HS&&ya!==null){HS=!0;var h=0,d=Xt;try{var b=ya;for(Xt=1;h<b.length;h++){var E=b[h];do E=E(!0);while(E!==null)}ya=null,$m=!1}catch(C){throw ya!==null&&(ya=ya.slice(h+1)),zS(VS,Vo),C}finally{Xt=d,HS=!1}}return null}var xj=s.ReactCurrentBatchConfig;function Gm(h,d){if(zo(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var b=Object.keys(h),E=Object.keys(d);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var C=b[E];if(!fe.call(d,C)||!zo(h[C],d[C]))return!1}return!0}function _j(h){switch(h.tag){case 5:return U(h.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return h=he(h.type,!1),h;case 11:return h=he(h.type.render,!1),h;case 1:return h=he(h.type,!0),h;default:return""}}function go(h,d){if(h&&h.defaultProps){d=o({},d),h=h.defaultProps;for(var b in h)d[b]===void 0&&(d[b]=h[b]);return d}return d}var Wm=Ze(null),Xm=null,zu=null,$S=null;function GS(){$S=zu=Xm=null}function PC(h,d,b){Ee?(Ue(Wm,d._currentValue),d._currentValue=b):(Ue(Wm,d._currentValue2),d._currentValue2=b)}function WS(h){var d=Wm.current;Ce(Wm),Ee?h._currentValue=d:h._currentValue2=d}function XS(h,d,b){for(;h!==null;){var E=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),h===b)break;h=h.return}}function Vu(h,d){Xm=h,$S=zu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&d&&(wi=!0),h.firstContext=null)}function zi(h){var d=Ee?h._currentValue:h._currentValue2;if($S!==h)if(h={context:h,memoizedValue:d,next:null},zu===null){if(Xm===null)throw Error(a(308));zu=h,Xm.dependencies={lanes:0,firstContext:h}}else zu=zu.next=h;return d}var jo=null,ls=!1;function YS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function xa(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function us(h,d){var b=h.updateQueue;b!==null&&(b=b.shared,Hn!==null&&h.mode&1&&!(Nt&2)?(h=b.interleaved,h===null?(d.next=d,jo===null?jo=[b]:jo.push(b)):(d.next=h.next,h.next=d),b.interleaved=d):(h=b.pending,h===null?d.next=d:(d.next=h.next,h.next=d),b.pending=d))}function Ym(h,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194240)!==0)){var E=d.lanes;E&=h.pendingLanes,b|=E,d.lanes=b,BS(h,b)}}function OC(h,d){var b=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var C=null,I=null;if(b=b.firstBaseUpdate,b!==null){do{var Y={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};I===null?C=I=Y:I=I.next=Y,b=b.next}while(b!==null);I===null?C=I=d:I=I.next=d}else C=I=d;b={baseState:E.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:E.shared,effects:E.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=d:h.next=d,b.lastBaseUpdate=d}function qm(h,d,b,E){var C=h.updateQueue;ls=!1;var I=C.firstBaseUpdate,Y=C.lastBaseUpdate,te=C.shared.pending;if(te!==null){C.shared.pending=null;var ye=te,Ve=ye.next;ye.next=null,Y===null?I=Ve:Y.next=Ve,Y=ye;var dt=h.alternate;dt!==null&&(dt=dt.updateQueue,te=dt.lastBaseUpdate,te!==Y&&(te===null?dt.firstBaseUpdate=Ve:te.next=Ve,dt.lastBaseUpdate=ye))}if(I!==null){var Pt=C.baseState;Y=0,dt=Ve=ye=null,te=I;do{var St=te.lane,cn=te.eventTime;if((E&St)===St){dt!==null&&(dt=dt.next={eventTime:cn,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var vt=h,Cr=te;switch(St=d,cn=b,Cr.tag){case 1:if(vt=Cr.payload,typeof vt=="function"){Pt=vt.call(cn,Pt,St);break e}Pt=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Cr.payload,St=typeof vt=="function"?vt.call(cn,Pt,St):vt,St==null)break e;Pt=o({},Pt,St);break e;case 2:ls=!0}}te.callback!==null&&te.lane!==0&&(h.flags|=64,St=C.effects,St===null?C.effects=[te]:St.push(te))}else cn={eventTime:cn,lane:St,tag:te.tag,payload:te.payload,callback:te.callback,next:null},dt===null?(Ve=dt=cn,ye=Pt):dt=dt.next=cn,Y|=St;if(te=te.next,te===null){if(te=C.shared.pending,te===null)break;St=te,te=St.next,St.next=null,C.lastBaseUpdate=St,C.shared.pending=null}}while(!0);if(dt===null&&(ye=Pt),C.baseState=ye,C.firstBaseUpdate=Ve,C.lastBaseUpdate=dt,d=C.shared.interleaved,d!==null){C=d;do Y|=C.lane,C=C.next;while(C!==d)}else I===null&&(C.shared.lanes=0);Ku|=Y,h.lanes=Y,h.memoizedState=Pt}}function RC(h,d,b){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var E=h[d],C=E.callback;if(C!==null){if(E.callback=null,E=b,typeof C!="function")throw Error(a(191,C));C.call(E)}}}var IC=new r.Component().refs;function qS(h,d,b,E){d=h.memoizedState,b=b(E,d),b=b==null?d:o({},d,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Km={isMounted:function(h){return(h=h._reactInternals)?P(h)===h:!1},enqueueSetState:function(h,d,b){h=h._reactInternals;var E=Wr(),C=hs(h),I=xa(E,C);I.payload=d,b!=null&&(I.callback=b),us(h,I),d=Gi(h,C,E),d!==null&&Ym(d,h,C)},enqueueReplaceState:function(h,d,b){h=h._reactInternals;var E=Wr(),C=hs(h),I=xa(E,C);I.tag=1,I.payload=d,b!=null&&(I.callback=b),us(h,I),d=Gi(h,C,E),d!==null&&Ym(d,h,C)},enqueueForceUpdate:function(h,d){h=h._reactInternals;var b=Wr(),E=hs(h),C=xa(b,E);C.tag=2,d!=null&&(C.callback=d),us(h,C),d=Gi(h,E,b),d!==null&&Ym(d,h,E)}};function LC(h,d,b,E,C,I,Y){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,I,Y):d.prototype&&d.prototype.isPureReactComponent?!Gm(b,E)||!Gm(C,I):!0}function NC(h,d,b){var E=!1,C=at,I=d.contextType;return typeof I=="object"&&I!==null?I=zi(I):(C=kt(d)?At:ht.current,E=d.contextTypes,I=(E=E!=null)?Bt(h,C):at),d=new d(b,I),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Km,h.stateNode=d,d._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=C,h.__reactInternalMemoizedMaskedChildContext=I),d}function DC(h,d,b,E){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,E),d.state!==h&&Km.enqueueReplaceState(d,d.state,null)}function KS(h,d,b,E){var C=h.stateNode;C.props=b,C.state=h.memoizedState,C.refs=IC,YS(h);var I=d.contextType;typeof I=="object"&&I!==null?C.context=zi(I):(I=kt(d)?At:ht.current,C.context=Bt(h,I)),C.state=h.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(qS(h,d,I,b),C.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(d=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),d!==C.state&&Km.enqueueReplaceState(C,C.state,null),qm(h,b,C,E),C.state=h.memoizedState),typeof C.componentDidMount=="function"&&(h.flags|=4194308)}var ju=[],Hu=0,Zm=null,Jm=0,Vi=[],ji=0,fl=null,_a=1,Sa="";function hl(h,d){ju[Hu++]=Jm,ju[Hu++]=Zm,Zm=h,Jm=d}function kC(h,d,b){Vi[ji++]=_a,Vi[ji++]=Sa,Vi[ji++]=fl,fl=h;var E=_a;h=Sa;var C=32-gn(E)-1;E&=~(1<<C),b+=1;var I=32-gn(d)+C;if(30<I){var Y=C-C%5;I=(E&(1<<Y)-1).toString(32),E>>=Y,C-=Y,_a=1<<32-gn(d)+C|b<<C|E,Sa=I+h}else _a=1<<I|b<<C|E,Sa=h}function ZS(h){h.return!==null&&(hl(h,1),kC(h,1,0))}function JS(h){for(;h===Zm;)Zm=ju[--Hu],ju[Hu]=null,Jm=ju[--Hu],ju[Hu]=null;for(;h===fl;)fl=Vi[--ji],Vi[ji]=null,Sa=Vi[--ji],Vi[ji]=null,_a=Vi[--ji],Vi[ji]=null}var Si=null,bi=null,wn=!1,vh=!1,vo=null;function UC(h,d){var b=Wi(5,null,null,0);b.elementType="DELETED",b.stateNode=d,b.return=h,d=h.deletions,d===null?(h.deletions=[b],h.flags|=16):d.push(b)}function FC(h,d){switch(h.tag){case 5:return d=Mr(d,h.type,h.pendingProps),d!==null?(h.stateNode=d,Si=h,bi=va(d),!0):!1;case 6:return d=IS(d,h.pendingProps),d!==null?(h.stateNode=d,Si=h,bi=null,!0):!1;case 13:if(d=Um(d),d!==null){var b=fl!==null?{id:_a,overflow:Sa}:null;return h.memoizedState={dehydrated:d,treeContext:b,retryLane:1073741824},b=Wi(18,null,null,0),b.stateNode=d,b.return=h,h.child=b,Si=h,bi=null,!0}return!1;default:return!1}}function QS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function eb(h){if(wn){var d=bi;if(d){var b=d;if(!FC(h,d)){if(QS(h))throw Error(a(418));d=as(b);var E=Si;d&&FC(h,d)?UC(E,b):(h.flags=h.flags&-4097|2,wn=!1,Si=h)}}else{if(QS(h))throw Error(a(418));h.flags=h.flags&-4097|2,wn=!1,Si=h}}}function BC(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Si=h}function yh(h){if(!$e||h!==Si)return!1;if(!wn)return BC(h),wn=!0,!1;if(h.tag!==3&&(h.tag!==5||DS(h.type)&&!et(h.type,h.memoizedProps))){var d=bi;if(d){if(QS(h)){for(h=bi;h;)h=as(h);throw Error(a(418))}for(;d;)UC(h,d),d=as(d)}}if(BC(h),h.tag===13){if(!$e)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));bi=Bu(h)}else bi=Si?as(h.stateNode):null;return!0}function $u(){$e&&(bi=Si=null,vh=wn=!1)}function tb(h){vo===null?vo=[h]:vo.push(h)}function xh(h,d,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(a(309));var E=b.stateNode}if(!E)throw Error(a(147,h));var C=E,I=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(Y){var te=C.refs;te===IC&&(te=C.refs={}),Y===null?delete te[I]:te[I]=Y},d._stringRef=I,d)}if(typeof h!="string")throw Error(a(284));if(!b._owner)throw Error(a(290,h))}return h}function Qm(h,d){throw h=Object.prototype.toString.call(d),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function zC(h){var d=h._init;return d(h._payload)}function VC(h){function d(ue,ie){if(h){var ge=ue.deletions;ge===null?(ue.deletions=[ie],ue.flags|=16):ge.push(ie)}}function b(ue,ie){if(!h)return null;for(;ie!==null;)d(ue,ie),ie=ie.sibling;return null}function E(ue,ie){for(ue=new Map;ie!==null;)ie.key!==null?ue.set(ie.key,ie):ue.set(ie.index,ie),ie=ie.sibling;return ue}function C(ue,ie){return ue=ps(ue,ie),ue.index=0,ue.sibling=null,ue}function I(ue,ie,ge){return ue.index=ge,h?(ge=ue.alternate,ge!==null?(ge=ge.index,ge<ie?(ue.flags|=2,ie):ge):(ue.flags|=2,ie)):(ue.flags|=1048576,ie)}function Y(ue){return h&&ue.alternate===null&&(ue.flags|=2),ue}function te(ue,ie,ge,tt){return ie===null||ie.tag!==6?(ie=Fb(ge,ue.mode,tt),ie.return=ue,ie):(ie=C(ie,ge),ie.return=ue,ie)}function ye(ue,ie,ge,tt){var mt=ge.type;return mt===c?dt(ue,ie,ge.props.children,tt,ge.key):ie!==null&&(ie.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&zC(mt)===ie.type)?(tt=C(ie,ge.props),tt.ref=xh(ue,ie,ge),tt.return=ue,tt):(tt=Og(ge.type,ge.key,ge.props,null,ue.mode,tt),tt.ref=xh(ue,ie,ge),tt.return=ue,tt)}function Ve(ue,ie,ge,tt){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=Bb(ge,ue.mode,tt),ie.return=ue,ie):(ie=C(ie,ge.children||[]),ie.return=ue,ie)}function dt(ue,ie,ge,tt,mt){return ie===null||ie.tag!==7?(ie=xl(ge,ue.mode,tt,mt),ie.return=ue,ie):(ie=C(ie,ge),ie.return=ue,ie)}function Pt(ue,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Fb(""+ie,ue.mode,ge),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return ge=Og(ie.type,ie.key,ie.props,null,ue.mode,ge),ge.ref=xh(ue,null,ie),ge.return=ue,ge;case u:return ie=Bb(ie,ue.mode,ge),ie.return=ue,ie;case S:var tt=ie._init;return Pt(ue,tt(ie._payload),ge)}if(G(ie)||A(ie))return ie=xl(ie,ue.mode,ge,null),ie.return=ue,ie;Qm(ue,ie)}return null}function St(ue,ie,ge,tt){var mt=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return mt!==null?null:te(ue,ie,""+ge,tt);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===mt?ye(ue,ie,ge,tt):null;case u:return ge.key===mt?Ve(ue,ie,ge,tt):null;case S:return mt=ge._init,St(ue,ie,mt(ge._payload),tt)}if(G(ge)||A(ge))return mt!==null?null:dt(ue,ie,ge,tt,null);Qm(ue,ge)}return null}function cn(ue,ie,ge,tt,mt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return ue=ue.get(ge)||null,te(ie,ue,""+tt,mt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case l:return ue=ue.get(tt.key===null?ge:tt.key)||null,ye(ie,ue,tt,mt);case u:return ue=ue.get(tt.key===null?ge:tt.key)||null,Ve(ie,ue,tt,mt);case S:var Lt=tt._init;return cn(ue,ie,ge,Lt(tt._payload),mt)}if(G(tt)||A(tt))return ue=ue.get(ge)||null,dt(ie,ue,tt,mt,null);Qm(ie,tt)}return null}function vt(ue,ie,ge,tt){for(var mt=null,Lt=null,Ct=ie,Yt=ie=0,cr=null;Ct!==null&&Yt<ge.length;Yt++){Ct.index>Yt?(cr=Ct,Ct=null):cr=Ct.sibling;var qt=St(ue,Ct,ge[Yt],tt);if(qt===null){Ct===null&&(Ct=cr);break}h&&Ct&&qt.alternate===null&&d(ue,Ct),ie=I(qt,ie,Yt),Lt===null?mt=qt:Lt.sibling=qt,Lt=qt,Ct=cr}if(Yt===ge.length)return b(ue,Ct),wn&&hl(ue,Yt),mt;if(Ct===null){for(;Yt<ge.length;Yt++)Ct=Pt(ue,ge[Yt],tt),Ct!==null&&(ie=I(Ct,ie,Yt),Lt===null?mt=Ct:Lt.sibling=Ct,Lt=Ct);return wn&&hl(ue,Yt),mt}for(Ct=E(ue,Ct);Yt<ge.length;Yt++)cr=cn(Ct,ue,Yt,ge[Yt],tt),cr!==null&&(h&&cr.alternate!==null&&Ct.delete(cr.key===null?Yt:cr.key),ie=I(cr,ie,Yt),Lt===null?mt=cr:Lt.sibling=cr,Lt=cr);return h&&Ct.forEach(function(ms){return d(ue,ms)}),wn&&hl(ue,Yt),mt}function Cr(ue,ie,ge,tt){var mt=A(ge);if(typeof mt!="function")throw Error(a(150));if(ge=mt.call(ge),ge==null)throw Error(a(151));for(var Lt=mt=null,Ct=ie,Yt=ie=0,cr=null,qt=ge.next();Ct!==null&&!qt.done;Yt++,qt=ge.next()){Ct.index>Yt?(cr=Ct,Ct=null):cr=Ct.sibling;var ms=St(ue,Ct,qt.value,tt);if(ms===null){Ct===null&&(Ct=cr);break}h&&Ct&&ms.alternate===null&&d(ue,Ct),ie=I(ms,ie,Yt),Lt===null?mt=ms:Lt.sibling=ms,Lt=ms,Ct=cr}if(qt.done)return b(ue,Ct),wn&&hl(ue,Yt),mt;if(Ct===null){for(;!qt.done;Yt++,qt=ge.next())qt=Pt(ue,qt.value,tt),qt!==null&&(ie=I(qt,ie,Yt),Lt===null?mt=qt:Lt.sibling=qt,Lt=qt);return wn&&hl(ue,Yt),mt}for(Ct=E(ue,Ct);!qt.done;Yt++,qt=ge.next())qt=cn(Ct,ue,Yt,qt.value,tt),qt!==null&&(h&&qt.alternate!==null&&Ct.delete(qt.key===null?Yt:qt.key),ie=I(qt,ie,Yt),Lt===null?mt=qt:Lt.sibling=qt,Lt=qt);return h&&Ct.forEach(function(Kj){return d(ue,Kj)}),wn&&hl(ue,Yt),mt}function Xi(ue,ie,ge,tt){if(typeof ge=="object"&&ge!==null&&ge.type===c&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var mt=ge.key,Lt=ie;Lt!==null;){if(Lt.key===mt){if(mt=ge.type,mt===c){if(Lt.tag===7){b(ue,Lt.sibling),ie=C(Lt,ge.props.children),ie.return=ue,ue=ie;break e}}else if(Lt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&zC(mt)===Lt.type){b(ue,Lt.sibling),ie=C(Lt,ge.props),ie.ref=xh(ue,Lt,ge),ie.return=ue,ue=ie;break e}b(ue,Lt);break}else d(ue,Lt);Lt=Lt.sibling}ge.type===c?(ie=xl(ge.props.children,ue.mode,tt,ge.key),ie.return=ue,ue=ie):(tt=Og(ge.type,ge.key,ge.props,null,ue.mode,tt),tt.ref=xh(ue,ie,ge),tt.return=ue,ue=tt)}return Y(ue);case u:e:{for(Lt=ge.key;ie!==null;){if(ie.key===Lt)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){b(ue,ie.sibling),ie=C(ie,ge.children||[]),ie.return=ue,ue=ie;break e}else{b(ue,ie);break}else d(ue,ie);ie=ie.sibling}ie=Bb(ge,ue.mode,tt),ie.return=ue,ue=ie}return Y(ue);case S:return Lt=ge._init,Xi(ue,ie,Lt(ge._payload),tt)}if(G(ge))return vt(ue,ie,ge,tt);if(A(ge))return Cr(ue,ie,ge,tt);Qm(ue,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ie!==null&&ie.tag===6?(b(ue,ie.sibling),ie=C(ie,ge),ie.return=ue,ue=ie):(b(ue,ie),ie=Fb(ge,ue.mode,tt),ie.return=ue,ue=ie),Y(ue)):b(ue,ie)}return Xi}var Gu=VC(!0),jC=VC(!1),_h={},Hi=Ze(_h),Sh=Ze(_h),Wu=Ze(_h);function Ho(h){if(h===_h)throw Error(a(174));return h}function nb(h,d){Ue(Wu,d),Ue(Sh,h),Ue(Hi,_h),h=W(d),Ce(Hi),Ue(Hi,h)}function Xu(){Ce(Hi),Ce(Sh),Ce(Wu)}function HC(h){var d=Ho(Wu.current),b=Ho(Hi.current);d=D(b,h.type,d),b!==d&&(Ue(Sh,h),Ue(Hi,d))}function rb(h){Sh.current===h&&(Ce(Hi),Ce(Sh))}var An=Ze(0);function eg(h){for(var d=h;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Uu(b)||fh(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ib=[];function ob(){for(var h=0;h<ib.length;h++){var d=ib[h];Ee?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}ib.length=0}var tg=s.ReactCurrentDispatcher,$i=s.ReactCurrentBatchConfig,Yu=0,In=null,Ar=null,ur=null,ng=!1,bh=!1,wh=0,Sj=0;function Tr(){throw Error(a(321))}function ab(h,d){if(d===null)return!1;for(var b=0;b<d.length&&b<h.length;b++)if(!zo(h[b],d[b]))return!1;return!0}function sb(h,d,b,E,C,I){if(Yu=I,In=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,tg.current=h===null||h.memoizedState===null?Ej:Aj,h=b(E,C),bh){I=0;do{if(bh=!1,wh=0,25<=I)throw Error(a(301));I+=1,ur=Ar=null,d.updateQueue=null,tg.current=Tj,h=b(E,C)}while(bh)}if(tg.current=sg,d=Ar!==null&&Ar.next!==null,Yu=0,ur=Ar=In=null,ng=!1,d)throw Error(a(300));return h}function lb(){var h=wh!==0;return wh=0,h}function ba(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?In.memoizedState=ur=h:ur=ur.next=h,ur}function $o(){if(Ar===null){var h=In.alternate;h=h!==null?h.memoizedState:null}else h=Ar.next;var d=ur===null?In.memoizedState:ur.next;if(d!==null)ur=d,Ar=h;else{if(h===null)throw Error(a(310));Ar=h,h={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},ur===null?In.memoizedState=ur=h:ur=ur.next=h}return ur}function dl(h,d){return typeof d=="function"?d(h):d}function rg(h){var d=$o(),b=d.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=h;var E=Ar,C=E.baseQueue,I=b.pending;if(I!==null){if(C!==null){var Y=C.next;C.next=I.next,I.next=Y}E.baseQueue=C=I,b.pending=null}if(C!==null){I=C.next,E=E.baseState;var te=Y=null,ye=null,Ve=I;do{var dt=Ve.lane;if((Yu&dt)===dt)ye!==null&&(ye=ye.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),E=Ve.hasEagerState?Ve.eagerState:h(E,Ve.action);else{var Pt={lane:dt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};ye===null?(te=ye=Pt,Y=E):ye=ye.next=Pt,In.lanes|=dt,Ku|=dt}Ve=Ve.next}while(Ve!==null&&Ve!==I);ye===null?Y=E:ye.next=te,zo(E,d.memoizedState)||(wi=!0),d.memoizedState=E,d.baseState=Y,d.baseQueue=ye,b.lastRenderedState=E}if(h=b.interleaved,h!==null){C=h;do I=C.lane,In.lanes|=I,Ku|=I,C=C.next;while(C!==h)}else C===null&&(b.lanes=0);return[d.memoizedState,b.dispatch]}function ig(h){var d=$o(),b=d.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=h;var E=b.dispatch,C=b.pending,I=d.memoizedState;if(C!==null){b.pending=null;var Y=C=C.next;do I=h(I,Y.action),Y=Y.next;while(Y!==C);zo(I,d.memoizedState)||(wi=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),b.lastRenderedState=I}return[I,E]}function $C(){}function GC(h,d){var b=In,E=$o(),C=d(),I=!zo(E.memoizedState,C);if(I&&(E.memoizedState=C,wi=!0),E=E.queue,Eh(YC.bind(null,b,E,h),[h]),E.getSnapshot!==d||I||ur!==null&&ur.memoizedState.tag&1){if(b.flags|=2048,Mh(9,XC.bind(null,b,E,C,d),void 0,null),Hn===null)throw Error(a(349));Yu&30||WC(b,d,C)}return C}function WC(h,d,b){h.flags|=16384,h={getSnapshot:d,value:b},d=In.updateQueue,d===null?(d={lastEffect:null,stores:null},In.updateQueue=d,d.stores=[h]):(b=d.stores,b===null?d.stores=[h]:b.push(h))}function XC(h,d,b,E){d.value=b,d.getSnapshot=E,qC(d)&&Gi(h,1,-1)}function YC(h,d,b){return b(function(){qC(d)&&Gi(h,1,-1)})}function qC(h){var d=h.getSnapshot;h=h.value;try{var b=d();return!zo(h,b)}catch{return!0}}function ub(h){var d=ba();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:h},d.queue=h,h=h.dispatch=Mj.bind(null,In,h),[d.memoizedState,h]}function Mh(h,d,b,E){return h={tag:h,create:d,destroy:b,deps:E,next:null},d=In.updateQueue,d===null?(d={lastEffect:null,stores:null},In.updateQueue=d,d.lastEffect=h.next=h):(b=d.lastEffect,b===null?d.lastEffect=h.next=h:(E=b.next,b.next=h,h.next=E,d.lastEffect=h)),h}function KC(){return $o().memoizedState}function og(h,d,b,E){var C=ba();In.flags|=h,C.memoizedState=Mh(1|d,b,void 0,E===void 0?null:E)}function ag(h,d,b,E){var C=$o();E=E===void 0?null:E;var I=void 0;if(Ar!==null){var Y=Ar.memoizedState;if(I=Y.destroy,E!==null&&ab(E,Y.deps)){C.memoizedState=Mh(d,b,I,E);return}}In.flags|=h,C.memoizedState=Mh(1|d,b,I,E)}function cb(h,d){return og(8390656,8,h,d)}function Eh(h,d){return ag(2048,8,h,d)}function ZC(h,d){return ag(4,2,h,d)}function JC(h,d){return ag(4,4,h,d)}function QC(h,d){if(typeof d=="function")return h=h(),d(h),function(){d(null)};if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function e2(h,d,b){return b=b!=null?b.concat([h]):null,ag(4,4,QC.bind(null,d,h),b)}function fb(){}function t2(h,d){var b=$o();d=d===void 0?null:d;var E=b.memoizedState;return E!==null&&d!==null&&ab(d,E[1])?E[0]:(b.memoizedState=[h,d],h)}function n2(h,d){var b=$o();d=d===void 0?null:d;var E=b.memoizedState;return E!==null&&d!==null&&ab(d,E[1])?E[0]:(h=h(),b.memoizedState=[h,d],h)}function bj(h,d){var b=Xt;Xt=b!==0&&4>b?b:4,h(!0);var E=$i.transition;$i.transition={};try{h(!1),d()}finally{Xt=b,$i.transition=E}}function r2(){return $o().memoizedState}function wj(h,d,b){var E=hs(h);b={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null},i2(h)?o2(d,b):(a2(h,d,b),b=Wr(),h=Gi(h,E,b),h!==null&&s2(h,d,E))}function Mj(h,d,b){var E=hs(h),C={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(i2(h))o2(d,C);else{a2(h,d,C);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var Y=d.lastRenderedState,te=I(Y,b);if(C.hasEagerState=!0,C.eagerState=te,zo(te,Y))return}catch{}finally{}b=Wr(),h=Gi(h,E,b),h!==null&&s2(h,d,E)}}function i2(h){var d=h.alternate;return h===In||d!==null&&d===In}function o2(h,d){bh=ng=!0;var b=h.pending;b===null?d.next=d:(d.next=b.next,b.next=d),h.pending=d}function a2(h,d,b){Hn!==null&&h.mode&1&&!(Nt&2)?(h=d.interleaved,h===null?(b.next=b,jo===null?jo=[d]:jo.push(d)):(b.next=h.next,h.next=b),d.interleaved=b):(h=d.pending,h===null?b.next=b:(b.next=h.next,h.next=b),d.pending=b)}function s2(h,d,b){if(b&4194240){var E=d.lanes;E&=h.pendingLanes,b|=E,d.lanes=b,BS(h,b)}}var sg={readContext:zi,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},Ej={readContext:zi,useCallback:function(h,d){return ba().memoizedState=[h,d===void 0?null:d],h},useContext:zi,useEffect:cb,useImperativeHandle:function(h,d,b){return b=b!=null?b.concat([h]):null,og(4194308,4,QC.bind(null,d,h),b)},useLayoutEffect:function(h,d){return og(4194308,4,h,d)},useInsertionEffect:function(h,d){return og(4,2,h,d)},useMemo:function(h,d){var b=ba();return d=d===void 0?null:d,h=h(),b.memoizedState=[h,d],h},useReducer:function(h,d,b){var E=ba();return d=b!==void 0?b(d):d,E.memoizedState=E.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},E.queue=h,h=h.dispatch=wj.bind(null,In,h),[E.memoizedState,h]},useRef:function(h){var d=ba();return h={current:h},d.memoizedState=h},useState:ub,useDebugValue:fb,useDeferredValue:function(h){var d=ub(h),b=d[0],E=d[1];return cb(function(){var C=$i.transition;$i.transition={};try{E(h)}finally{$i.transition=C}},[h]),b},useTransition:function(){var h=ub(!1),d=h[0];return h=bj.bind(null,h[1]),ba().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,b){var E=In,C=ba();if(wn){if(b===void 0)throw Error(a(407));b=b()}else{if(b=d(),Hn===null)throw Error(a(349));Yu&30||WC(E,d,b)}C.memoizedState=b;var I={value:b,getSnapshot:d};return C.queue=I,cb(YC.bind(null,E,I,h),[h]),E.flags|=2048,Mh(9,XC.bind(null,E,I,b,d),void 0,null),b},useId:function(){var h=ba(),d=Hn.identifierPrefix;if(wn){var b=Sa,E=_a;b=(E&~(1<<32-gn(E)-1)).toString(32)+b,d=":"+d+"R"+b,b=wh++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=Sj++,d=":"+d+"r"+b.toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},Aj={readContext:zi,useCallback:t2,useContext:zi,useEffect:Eh,useImperativeHandle:e2,useInsertionEffect:ZC,useLayoutEffect:JC,useMemo:n2,useReducer:rg,useRef:KC,useState:function(){return rg(dl)},useDebugValue:fb,useDeferredValue:function(h){var d=rg(dl),b=d[0],E=d[1];return Eh(function(){var C=$i.transition;$i.transition={};try{E(h)}finally{$i.transition=C}},[h]),b},useTransition:function(){var h=rg(dl)[0],d=$o().memoizedState;return[h,d]},useMutableSource:$C,useSyncExternalStore:GC,useId:r2,unstable_isNewReconciler:!1},Tj={readContext:zi,useCallback:t2,useContext:zi,useEffect:Eh,useImperativeHandle:e2,useInsertionEffect:ZC,useLayoutEffect:JC,useMemo:n2,useReducer:ig,useRef:KC,useState:function(){return ig(dl)},useDebugValue:fb,useDeferredValue:function(h){var d=ig(dl),b=d[0],E=d[1];return Eh(function(){var C=$i.transition;$i.transition={};try{E(h)}finally{$i.transition=C}},[h]),b},useTransition:function(){var h=ig(dl)[0],d=$o().memoizedState;return[h,d]},useMutableSource:$C,useSyncExternalStore:GC,useId:r2,unstable_isNewReconciler:!1};function hb(h,d){try{var b="",E=d;do b+=_j(E),E=E.return;while(E);var C=b}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:d,stack:C}}function db(h,d){try{console.error(d.value)}catch(b){setTimeout(function(){throw b})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function l2(h,d,b){b=xa(-1,b),b.tag=3,b.payload={element:null};var E=d.value;return b.callback=function(){wg||(wg=!0,Rb=E),db(h,d)},b}function u2(h,d,b){b=xa(-1,b),b.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var C=d.value;b.payload=function(){return E(C)},b.callback=function(){db(h,d)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(b.callback=function(){db(h,d),typeof E!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})}),b}function c2(h,d,b){var E=h.pingCache;if(E===null){E=h.pingCache=new Pj;var C=new Set;E.set(d,C)}else C=E.get(d),C===void 0&&(C=new Set,E.set(d,C));C.has(b)||(C.add(b),h=jj.bind(null,h,d,b),d.then(h,h))}function f2(h){do{var d;if((d=h.tag===13)&&(d=h.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return h;h=h.return}while(h!==null);return null}function h2(h,d,b,E,C){return h.mode&1?(h.flags|=65536,h.lanes=C,h):(h===d?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(d=xa(-1,1),d.tag=2,us(b,d))),b.lanes|=1),h)}function Go(h){h.flags|=4}function d2(h,d){if(h!==null&&h.child===d.child)return!0;if(d.flags&16)return!1;for(h=d.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Ah,Th,lg,ug;if(Be)Ah=function(h,d){for(var b=d.child;b!==null;){if(b.tag===5||b.tag===6)ne(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Th=function(){},lg=function(h,d,b,E,C){if(h=h.memoizedProps,h!==E){var I=d.stateNode,Y=Ho(Hi.current);b=Fe(I,b,h,E,C,Y),(d.updateQueue=b)&&Go(d)}},ug=function(h,d,b,E){b!==E&&Go(d)};else if(ve){Ah=function(h,d,b,E){for(var C=d.child;C!==null;){if(C.tag===5){var I=C.stateNode;b&&E&&(I=Dt(I,C.type,C.memoizedProps,C)),ne(h,I)}else if(C.tag===6)I=C.stateNode,b&&E&&(I=Kn(I,C.memoizedProps,C)),ne(h,I);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)I=C.child,I!==null&&(I.return=C),Ah(h,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var p2=function(h,d,b,E){for(var C=d.child;C!==null;){if(C.tag===5){var I=C.stateNode;b&&E&&(I=Dt(I,C.type,C.memoizedProps,C)),ke(h,I)}else if(C.tag===6)I=C.stateNode,b&&E&&(I=Kn(I,C.memoizedProps,C)),ke(h,I);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)I=C.child,I!==null&&(I.return=C),p2(h,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Th=function(h,d){var b=d.stateNode;if(!d2(h,d)){h=b.containerInfo;var E=Ae(h);p2(E,d,!1,!1),b.pendingChildren=E,Go(d),yt(h,E)}},lg=function(h,d,b,E,C){var I=h.stateNode,Y=h.memoizedProps;if((h=d2(h,d))&&Y===E)d.stateNode=I;else{var te=d.stateNode,ye=Ho(Hi.current),Ve=null;Y!==E&&(Ve=Fe(te,b,Y,E,C,ye)),h&&Ve===null?d.stateNode=I:(I=Ie(I,Ve,b,Y,E,d,h,te),de(I,b,E,C,ye)&&Go(d),d.stateNode=I,h?Go(d):Ah(I,d,!1,!1))}},ug=function(h,d,b,E){b!==E?(h=Ho(Wu.current),b=Ho(Hi.current),d.stateNode=se(E,h,b,d),Go(d)):d.stateNode=h.stateNode}}else Th=function(){},lg=function(){},ug=function(){};function Ph(h,d){if(!wn)switch(h.tailMode){case"hidden":d=h.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Pr(h){var d=h.alternate!==null&&h.alternate.child===h.child,b=0,E=0;if(d)for(var C=h.child;C!==null;)b|=C.lanes|C.childLanes,E|=C.subtreeFlags&14680064,E|=C.flags&14680064,C.return=h,C=C.sibling;else for(C=h.child;C!==null;)b|=C.lanes|C.childLanes,E|=C.subtreeFlags,E|=C.flags,C.return=h,C=C.sibling;return h.subtreeFlags|=E,h.childLanes=b,d}function Cj(h,d,b){var E=d.pendingProps;switch(JS(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(d),null;case 1:return kt(d.type)&&un(),Pr(d),null;case 3:return E=d.stateNode,Xu(),Ce(ot),Ce(ht),ob(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(yh(d)?Go(d):h===null||h.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,vo!==null&&(Nb(vo),vo=null))),Th(h,d),Pr(d),null;case 5:rb(d),b=Ho(Wu.current);var C=d.type;if(h!==null&&d.stateNode!=null)lg(h,d,C,E,b),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!E){if(d.stateNode===null)throw Error(a(166));return Pr(d),null}if(h=Ho(Hi.current),yh(d)){if(!$e)throw Error(a(175));h=zm(d.stateNode,d.type,d.memoizedProps,b,h,d,!vh),d.updateQueue=h,h!==null&&Go(d)}else{var I=Q(C,E,b,h,d);Ah(I,d,!1,!1),d.stateNode=I,de(I,C,E,b,h)&&Go(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Pr(d),null;case 6:if(h&&d.stateNode!=null)ug(h,d,h.memoizedProps,E);else{if(typeof E!="string"&&d.stateNode===null)throw Error(a(166));if(h=Ho(Wu.current),b=Ho(Hi.current),yh(d)){if(!$e)throw Error(a(176));if(h=d.stateNode,E=d.memoizedProps,(b=Fu(h,E,d,!vh))&&(C=Si,C!==null))switch(I=(C.mode&1)!==0,C.tag){case 3:kS(C.stateNode.containerInfo,h,E,I);break;case 5:US(C.type,C.memoizedProps,C.stateNode,h,E,I)}b&&Go(d)}else d.stateNode=se(E,h,b,d)}return Pr(d),null;case 13:if(Ce(An),E=d.memoizedState,wn&&bi!==null&&d.mode&1&&!(d.flags&128)){for(h=bi;h;)h=as(h);return $u(),d.flags|=98560,d}if(E!==null&&E.dehydrated!==null){if(E=yh(d),h===null){if(!E)throw Error(a(318));if(!$e)throw Error(a(344));if(h=d.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));Vm(h,d)}else $u(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return Pr(d),null}return vo!==null&&(Nb(vo),vo=null),d.flags&128?(d.lanes=b,d):(E=E!==null,b=!1,h===null?yh(d):b=h.memoizedState!==null,E&&!b&&(d.child.flags|=8192,d.mode&1&&(h===null||An.current&1?Jn===0&&(Jn=3):kb())),d.updateQueue!==null&&(d.flags|=4),Pr(d),null);case 4:return Xu(),Th(h,d),h===null&&Me(d.stateNode.containerInfo),Pr(d),null;case 10:return WS(d.type._context),Pr(d),null;case 17:return kt(d.type)&&un(),Pr(d),null;case 19:if(Ce(An),C=d.memoizedState,C===null)return Pr(d),null;if(E=(d.flags&128)!==0,I=C.rendering,I===null)if(E)Ph(C,!1);else{if(Jn!==0||h!==null&&h.flags&128)for(h=d.child;h!==null;){if(I=eg(h),I!==null){for(d.flags|=128,Ph(C,!1),h=I.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=b,E=d.child;E!==null;)b=E,C=h,b.flags&=14680066,I=b.alternate,I===null?(b.childLanes=0,b.lanes=C,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=I.childLanes,b.lanes=I.lanes,b.child=I.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=I.memoizedProps,b.memoizedState=I.memoizedState,b.updateQueue=I.updateQueue,b.type=I.type,C=I.dependencies,b.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),E=E.sibling;return Ue(An,An.current&1|2),d.child}h=h.sibling}C.tail!==null&&lr()>Ob&&(d.flags|=128,E=!0,Ph(C,!1),d.lanes=4194304)}else{if(!E)if(h=eg(I),h!==null){if(d.flags|=128,E=!0,h=h.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),Ph(C,!0),C.tail===null&&C.tailMode==="hidden"&&!I.alternate&&!wn)return Pr(d),null}else 2*lr()-C.renderingStartTime>Ob&&b!==1073741824&&(d.flags|=128,E=!0,Ph(C,!1),d.lanes=4194304);C.isBackwards?(I.sibling=d.child,d.child=I):(h=C.last,h!==null?h.sibling=I:d.child=I,C.last=I)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=lr(),d.sibling=null,h=An.current,Ue(An,E?h&1|2:h&1),d):(Pr(d),null);case 22:case 23:return Db(),E=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(d.flags|=8192),E&&d.mode&1?Mi&1073741824&&(Pr(d),Be&&d.subtreeFlags&6&&(d.flags|=8192)):Pr(d),null;case 24:return null;case 25:return null}throw Error(a(156,d.tag))}var Oj=s.ReactCurrentOwner,wi=!1;function Gr(h,d,b,E){d.child=h===null?jC(d,null,b,E):Gu(d,h.child,b,E)}function m2(h,d,b,E,C){b=b.render;var I=d.ref;return Vu(d,C),E=sb(h,d,b,E,I,C),b=lb(),h!==null&&!wi?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~C,wa(h,d,C)):(wn&&b&&ZS(d),d.flags|=1,Gr(h,d,E,C),d.child)}function g2(h,d,b,E,C){if(h===null){var I=b.type;return typeof I=="function"&&!Ub(I)&&I.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(d.tag=15,d.type=I,v2(h,d,I,E,C)):(h=Og(b.type,null,E,d,d.mode,C),h.ref=d.ref,h.return=d,d.child=h)}if(I=h.child,!(h.lanes&C)){var Y=I.memoizedProps;if(b=b.compare,b=b!==null?b:Gm,b(Y,E)&&h.ref===d.ref)return wa(h,d,C)}return d.flags|=1,h=ps(I,E),h.ref=d.ref,h.return=d,d.child=h}function v2(h,d,b,E,C){if(h!==null&&Gm(h.memoizedProps,E)&&h.ref===d.ref)if(wi=!1,(h.lanes&C)!==0)h.flags&131072&&(wi=!0);else return d.lanes=h.lanes,wa(h,d,C);return pb(h,d,b,E,C)}function y2(h,d,b){var E=d.pendingProps,C=E.children,I=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Ue(qu,Mi),Mi|=b;else if(b&1073741824)d.memoizedState={baseLanes:0,cachePool:null},E=I!==null?I.baseLanes:b,Ue(qu,Mi),Mi|=E;else return h=I!==null?I.baseLanes|b:b,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null},d.updateQueue=null,Ue(qu,Mi),Mi|=h,null;else I!==null?(E=I.baseLanes|b,d.memoizedState=null):E=b,Ue(qu,Mi),Mi|=E;return Gr(h,d,C,b),d.child}function x2(h,d){var b=d.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(d.flags|=512,d.flags|=2097152)}function pb(h,d,b,E,C){var I=kt(b)?At:ht.current;return I=Bt(d,I),Vu(d,C),b=sb(h,d,b,E,I,C),E=lb(),h!==null&&!wi?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~C,wa(h,d,C)):(wn&&E&&ZS(d),d.flags|=1,Gr(h,d,b,C),d.child)}function _2(h,d,b,E,C){if(kt(b)){var I=!0;Ht(d)}else I=!1;if(Vu(d,C),d.stateNode===null)h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),NC(d,b,E),KS(d,b,E,C),E=!0;else if(h===null){var Y=d.stateNode,te=d.memoizedProps;Y.props=te;var ye=Y.context,Ve=b.contextType;typeof Ve=="object"&&Ve!==null?Ve=zi(Ve):(Ve=kt(b)?At:ht.current,Ve=Bt(d,Ve));var dt=b.getDerivedStateFromProps,Pt=typeof dt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Pt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(te!==E||ye!==Ve)&&DC(d,Y,E,Ve),ls=!1;var St=d.memoizedState;Y.state=St,qm(d,E,Y,C),ye=d.memoizedState,te!==E||St!==ye||ot.current||ls?(typeof dt=="function"&&(qS(d,b,dt,E),ye=d.memoizedState),(te=ls||LC(d,b,te,E,St,ye,Ve))?(Pt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=ye),Y.props=E,Y.state=ye,Y.context=Ve,E=te):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{Y=d.stateNode,CC(h,d),te=d.memoizedProps,Ve=d.type===d.elementType?te:go(d.type,te),Y.props=Ve,Pt=d.pendingProps,St=Y.context,ye=b.contextType,typeof ye=="object"&&ye!==null?ye=zi(ye):(ye=kt(b)?At:ht.current,ye=Bt(d,ye));var cn=b.getDerivedStateFromProps;(dt=typeof cn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(te!==Pt||St!==ye)&&DC(d,Y,E,ye),ls=!1,St=d.memoizedState,Y.state=St,qm(d,E,Y,C);var vt=d.memoizedState;te!==Pt||St!==vt||ot.current||ls?(typeof cn=="function"&&(qS(d,b,cn,E),vt=d.memoizedState),(Ve=ls||LC(d,b,Ve,E,St,vt,ye)||!1)?(dt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(E,vt,ye),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(E,vt,ye)),typeof Y.componentDidUpdate=="function"&&(d.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Y.componentDidUpdate!="function"||te===h.memoizedProps&&St===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||te===h.memoizedProps&&St===h.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=vt),Y.props=E,Y.state=vt,Y.context=ye,E=Ve):(typeof Y.componentDidUpdate!="function"||te===h.memoizedProps&&St===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||te===h.memoizedProps&&St===h.memoizedState||(d.flags|=1024),E=!1)}return mb(h,d,b,E,I,C)}function mb(h,d,b,E,C,I){x2(h,d);var Y=(d.flags&128)!==0;if(!E&&!Y)return C&&zt(d,b,!1),wa(h,d,I);E=d.stateNode,Oj.current=d;var te=Y&&typeof b.getDerivedStateFromError!="function"?null:E.render();return d.flags|=1,h!==null&&Y?(d.child=Gu(d,h.child,null,I),d.child=Gu(d,null,te,I)):Gr(h,d,te,I),d.memoizedState=E.state,C&&zt(d,b,!0),d.child}function S2(h){var d=h.stateNode;d.pendingContext?en(h,d.pendingContext,d.pendingContext!==d.context):d.context&&en(h,d.context,!1),nb(h,d.containerInfo)}function b2(h,d,b,E,C){return $u(),tb(C),d.flags|=256,Gr(h,d,b,E),d.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function fg(h){return{baseLanes:h,cachePool:null}}function w2(h,d,b){var E=d.pendingProps,C=An.current,I=!1,Y=(d.flags&128)!==0,te;if((te=Y)||(te=h!==null&&h.memoizedState===null?!1:(C&2)!==0),te?(I=!0,d.flags&=-129):(h===null||h.memoizedState!==null)&&(C|=1),Ue(An,C&1),h===null)return eb(d),h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(d.mode&1?fh(h)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(C=E.children,h=E.fallback,I?(E=d.mode,I=d.child,C={mode:"hidden",children:C},!(E&1)&&I!==null?(I.childLanes=0,I.pendingProps=C):I=Rg(C,E,0,null),h=xl(h,E,b,null),I.return=d,h.return=d,I.sibling=h,d.child=I,d.child.memoizedState=fg(b),d.memoizedState=cg,h):gb(d,C));if(C=h.memoizedState,C!==null){if(te=C.dehydrated,te!==null){if(Y)return d.flags&256?(d.flags&=-257,hg(h,d,b,Error(a(422)))):d.memoizedState!==null?(d.child=h.child,d.flags|=128,null):(I=E.fallback,C=d.mode,E=Rg({mode:"visible",children:E.children},C,0,null),I=xl(I,C,b,null),I.flags|=2,E.return=d,I.return=d,E.sibling=I,d.child=E,d.mode&1&&Gu(d,h.child,null,b),d.child.memoizedState=fg(b),d.memoizedState=cg,I);if(!(d.mode&1))d=hg(h,d,b,null);else if(fh(te))d=hg(h,d,b,Error(a(419)));else if(E=(b&h.childLanes)!==0,wi||E){if(E=Hn,E!==null){switch(b&-b){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}E=I&(E.suspendedLanes|b)?0:I,E!==0&&E!==C.retryLane&&(C.retryLane=E,Gi(h,E,-1))}kb(),d=hg(h,d,b,Error(a(421)))}else Uu(te)?(d.flags|=128,d.child=h.child,d=Hj.bind(null,h),Fm(te,d),d=null):(b=C.treeContext,$e&&(bi=Bm(te),Si=d,wn=!0,vo=null,vh=!1,b!==null&&(Vi[ji++]=_a,Vi[ji++]=Sa,Vi[ji++]=fl,_a=b.id,Sa=b.overflow,fl=d)),d=gb(d,d.pendingProps.children),d.flags|=4096);return d}return I?(E=E2(h,d,E.children,E.fallback,b),I=d.child,C=h.child.memoizedState,I.memoizedState=C===null?fg(b):{baseLanes:C.baseLanes|b,cachePool:null},I.childLanes=h.childLanes&~b,d.memoizedState=cg,E):(b=M2(h,d,E.children,b),d.memoizedState=null,b)}return I?(E=E2(h,d,E.children,E.fallback,b),I=d.child,C=h.child.memoizedState,I.memoizedState=C===null?fg(b):{baseLanes:C.baseLanes|b,cachePool:null},I.childLanes=h.childLanes&~b,d.memoizedState=cg,E):(b=M2(h,d,E.children,b),d.memoizedState=null,b)}function gb(h,d){return d=Rg({mode:"visible",children:d},h.mode,0,null),d.return=h,h.child=d}function M2(h,d,b,E){var C=h.child;return h=C.sibling,b=ps(C,{mode:"visible",children:b}),!(d.mode&1)&&(b.lanes=E),b.return=d,b.sibling=null,h!==null&&(E=d.deletions,E===null?(d.deletions=[h],d.flags|=16):E.push(h)),d.child=b}function E2(h,d,b,E,C){var I=d.mode;h=h.child;var Y=h.sibling,te={mode:"hidden",children:b};return!(I&1)&&d.child!==h?(b=d.child,b.childLanes=0,b.pendingProps=te,d.deletions=null):(b=ps(h,te),b.subtreeFlags=h.subtreeFlags&14680064),Y!==null?E=ps(Y,E):(E=xl(E,I,C,null),E.flags|=2),E.return=d,b.return=d,b.sibling=E,d.child=b,E}function hg(h,d,b,E){return E!==null&&tb(E),Gu(d,h.child,null,b),h=gb(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function A2(h,d,b){h.lanes|=d;var E=h.alternate;E!==null&&(E.lanes|=d),XS(h.return,d,b)}function vb(h,d,b,E,C){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:C}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=E,I.tail=b,I.tailMode=C)}function T2(h,d,b){var E=d.pendingProps,C=E.revealOrder,I=E.tail;if(Gr(h,d,E.children,b),E=An.current,E&2)E=E&1|2,d.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&A2(h,b,d);else if(h.tag===19)A2(h,b,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(Ue(An,E),!(d.mode&1))d.memoizedState=null;else switch(C){case"forwards":for(b=d.child,C=null;b!==null;)h=b.alternate,h!==null&&eg(h)===null&&(C=b),b=b.sibling;b=C,b===null?(C=d.child,d.child=null):(C=b.sibling,b.sibling=null),vb(d,!1,C,b,I);break;case"backwards":for(b=null,C=d.child,d.child=null;C!==null;){if(h=C.alternate,h!==null&&eg(h)===null){d.child=C;break}h=C.sibling,C.sibling=b,b=C,C=h}vb(d,!0,b,null,I);break;case"together":vb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function wa(h,d,b){if(h!==null&&(d.dependencies=h.dependencies),Ku|=d.lanes,!(b&d.childLanes))return null;if(h!==null&&d.child!==h.child)throw Error(a(153));if(d.child!==null){for(h=d.child,b=ps(h,h.pendingProps),d.child=b,b.return=d;h.sibling!==null;)h=h.sibling,b=b.sibling=ps(h,h.pendingProps),b.return=d;b.sibling=null}return d.child}function Rj(h,d,b){switch(d.tag){case 3:S2(d),$u();break;case 5:HC(d);break;case 1:kt(d.type)&&Ht(d);break;case 4:nb(d,d.stateNode.containerInfo);break;case 10:PC(d,d.type._context,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(Ue(An,An.current&1),d.flags|=128,null):b&d.child.childLanes?w2(h,d,b):(Ue(An,An.current&1),h=wa(h,d,b),h!==null?h.sibling:null);Ue(An,An.current&1);break;case 19:if(E=(b&d.childLanes)!==0,h.flags&128){if(E)return T2(h,d,b);d.flags|=128}var C=d.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ue(An,An.current),E)break;return null;case 22:case 23:return d.lanes=0,y2(h,d,b)}return wa(h,d,b)}function Ij(h,d){switch(JS(d),d.tag){case 1:return kt(d.type)&&un(),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return Xu(),Ce(ot),Ce(ht),ob(),h=d.flags,h&65536&&!(h&128)?(d.flags=h&-65537|128,d):null;case 5:return rb(d),null;case 13:if(Ce(An),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(a(340));$u()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return Ce(An),null;case 4:return Xu(),null;case 10:return WS(d.type._context),null;case 22:case 23:return Db(),null;case 24:return null;default:return null}}var dg=!1,pl=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,Je=null;function pg(h,d){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(E){si(h,d,E)}else b.current=null}function yb(h,d,b){try{b()}catch(E){si(h,d,E)}}var P2=!1;function Nj(h,d){for(V(h.containerInfo),Je=d;Je!==null;)if(h=Je,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Je=d;else for(;Je!==null;){h=Je;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,C=b.memoizedState,I=h.stateNode,Y=I.getSnapshotBeforeUpdate(h.elementType===h.type?E:go(h.type,E),C);I.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:Be&&Ye(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(te){si(h,h.return,te)}if(d=h.sibling,d!==null){d.return=h.return,Je=d;break}Je=h.return}return b=P2,P2=!1,b}function ml(h,d,b){var E=d.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var C=E=E.next;do{if((C.tag&h)===h){var I=C.destroy;C.destroy=void 0,I!==void 0&&yb(d,b,I)}C=C.next}while(C!==E)}}function Ch(h,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&h)===h){var E=b.create;b.destroy=E()}b=b.next}while(b!==d)}}function xb(h){var d=h.ref;if(d!==null){var b=h.stateNode;switch(h.tag){case 5:h=q(b);break;default:h=b}typeof d=="function"?d(h):d.current=h}}function C2(h,d,b){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(Hm,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var E=h=h.next;do{var C=E,I=C.destroy;C=C.tag,I!==void 0&&(C&2||C&4)&&yb(d,b,I),E=E.next}while(E!==h)}break;case 1:if(pg(d,b),h=d.stateNode,typeof h.componentWillUnmount=="function")try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(Y){si(d,b,Y)}break;case 5:pg(d,b);break;case 4:Be?D2(h,d,b):ve&&ve&&(d=d.stateNode.containerInfo,b=Ae(d),Ft(d,b))}}function O2(h,d,b){for(var E=d;;)if(C2(h,E,b),E.child===null||Be&&E.tag===4){if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function R2(h){var d=h.alternate;d!==null&&(h.alternate=null,R2(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&Le(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function I2(h){return h.tag===5||h.tag===3||h.tag===4}function L2(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||I2(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function N2(h){if(Be){e:{for(var d=h.return;d!==null;){if(I2(d))break e;d=d.return}throw Error(a(160))}var b=d;switch(b.tag){case 5:d=b.stateNode,b.flags&32&&(ae(d),b.flags&=-33),b=L2(h),Sb(h,b,d);break;case 3:case 4:d=b.stateNode.containerInfo,b=L2(h),_b(h,b,d);break;default:throw Error(a(161))}}}function _b(h,d,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?Xe(b,h,d):ft(b,h);else if(E!==4&&(h=h.child,h!==null))for(_b(h,d,b),h=h.sibling;h!==null;)_b(h,d,b),h=h.sibling}function Sb(h,d,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?Pe(b,h,d):me(b,h);else if(E!==4&&(h=h.child,h!==null))for(Sb(h,d,b),h=h.sibling;h!==null;)Sb(h,d,b),h=h.sibling}function D2(h,d,b){for(var E=d,C=!1,I,Y;;){if(!C){C=E.return;e:for(;;){if(C===null)throw Error(a(160));switch(I=C.stateNode,C.tag){case 5:Y=!1;break e;case 3:I=I.containerInfo,Y=!0;break e;case 4:I=I.containerInfo,Y=!0;break e}C=C.return}C=!0}if(E.tag===5||E.tag===6)O2(h,E,b),Y?Z(I,E.stateNode):rt(I,E.stateNode);else if(E.tag===18)Y?NS(I,E.stateNode):LS(I,E.stateNode);else if(E.tag===4){if(E.child!==null){I=E.stateNode.containerInfo,Y=!0,E.child.return=E,E=E.child;continue}}else if(C2(h,E,b),E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return,E.tag===4&&(C=!1)}E.sibling.return=E.return,E=E.sibling}}function bb(h,d){if(Be){switch(d.tag){case 0:case 11:case 14:case 15:ml(3,d,d.return),Ch(3,d),ml(5,d,d.return);return;case 1:return;case 5:var b=d.stateNode;if(b!=null){var E=d.memoizedProps;h=h!==null?h.memoizedProps:E;var C=d.type,I=d.updateQueue;d.updateQueue=null,I!==null&&_t(b,I,C,h,E,d)}return;case 6:if(d.stateNode===null)throw Error(a(162));b=d.memoizedProps,He(d.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:$e&&h!==null&&h.memoizedState.isDehydrated&&dh(d.stateNode.containerInfo);return;case 12:return;case 13:mg(d);return;case 19:mg(d);return;case 17:return}throw Error(a(163))}switch(d.tag){case 0:case 11:case 14:case 15:ml(3,d,d.return),Ch(3,d),ml(5,d,d.return);return;case 12:return;case 13:mg(d);return;case 19:mg(d);return;case 3:$e&&h!==null&&h.memoizedState.isDehydrated&&dh(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(ve){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Ft(d.containerInfo,d.pendingChildren);break e}throw Error(a(163))}}function mg(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new Lj),d.forEach(function(E){var C=$j.bind(null,h,E);b.has(E)||(b.add(E),E.then(C,C))})}}function Dj(h,d){for(Je=d;Je!==null;){d=Je;var b=d.deletions;if(b!==null)for(var E=0;E<b.length;E++){var C=b[E];try{var I=h;Be?D2(I,C,d):O2(I,C,d);var Y=C.alternate;Y!==null&&(Y.return=null),C.return=null}catch(mt){si(C,d,mt)}}if(b=d.child,d.subtreeFlags&12854&&b!==null)b.return=d,Je=b;else for(;Je!==null;){d=Je;try{var te=d.flags;if(te&32&&Be&&ae(d.stateNode),te&512){var ye=d.alternate;if(ye!==null){var Ve=ye.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(te&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var dt=d.alternate;(dt===null||dt.memoizedState===null)&&(Cb=lr())}break;case 22:var Pt=d.memoizedState!==null,St=d.alternate,cn=St!==null&&St.memoizedState!==null;if(b=d,Be){e:if(E=b,C=Pt,I=null,Be)for(var vt=E;;){if(vt.tag===5){if(I===null){I=vt;var Cr=vt.stateNode;C?ze(Cr):Ne(vt.stateNode,vt.memoizedProps)}}else if(vt.tag===6){if(I===null){var Xi=vt.stateNode;C?J(Xi):Oe(Xi,vt.memoizedProps)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===E)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===E)break;for(;vt.sibling===null;){if(vt.return===null||vt.return===E)break e;I===vt&&(I=null),vt=vt.return}I===vt&&(I=null),vt.sibling.return=vt.return,vt=vt.sibling}}if(Pt&&!cn&&b.mode&1){Je=b;for(var ue=b.child;ue!==null;){for(b=Je=ue;Je!==null;){E=Je;var ie=E.child;switch(E.tag){case 0:case 11:case 14:case 15:ml(4,E,E.return);break;case 1:pg(E,E.return);var ge=E.stateNode;if(typeof ge.componentWillUnmount=="function"){var tt=E.return;try{ge.props=E.memoizedProps,ge.state=E.memoizedState,ge.componentWillUnmount()}catch(mt){si(E,tt,mt)}}break;case 5:pg(E,E.return);break;case 22:if(E.memoizedState!==null){F2(b);continue}}ie!==null?(ie.return=E,Je=ie):F2(b)}ue=ue.sibling}}}switch(te&4102){case 2:N2(d),d.flags&=-3;break;case 6:N2(d),d.flags&=-3,bb(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,bb(d.alternate,d);break;case 4:bb(d.alternate,d)}}catch(mt){si(d,d.return,mt)}if(b=d.sibling,b!==null){b.return=d.return,Je=b;break}Je=d.return}}}function kj(h,d,b){Je=h,k2(h)}function k2(h,d,b){for(var E=(h.mode&1)!==0;Je!==null;){var C=Je,I=C.child;if(C.tag===22&&E){var Y=C.memoizedState!==null||dg;if(!Y){var te=C.alternate,ye=te!==null&&te.memoizedState!==null||pl;te=dg;var Ve=pl;if(dg=Y,(pl=ye)&&!Ve)for(Je=C;Je!==null;)Y=Je,ye=Y.child,Y.tag===22&&Y.memoizedState!==null?B2(C):ye!==null?(ye.return=Y,Je=ye):B2(C);for(;I!==null;)Je=I,k2(I),I=I.sibling;Je=C,dg=te,pl=Ve}U2(h)}else C.subtreeFlags&8772&&I!==null?(I.return=C,Je=I):U2(h)}}function U2(h){for(;Je!==null;){var d=Je;if(d.flags&8772){var b=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:pl||Ch(5,d);break;case 1:var E=d.stateNode;if(d.flags&4&&!pl)if(b===null)E.componentDidMount();else{var C=d.elementType===d.type?b.memoizedProps:go(d.type,b.memoizedProps);E.componentDidUpdate(C,b.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&RC(d,I,E);break;case 3:var Y=d.updateQueue;if(Y!==null){if(b=null,d.child!==null)switch(d.child.tag){case 5:b=q(d.child.stateNode);break;case 1:b=d.child.stateNode}RC(d,Y,b)}break;case 5:var te=d.stateNode;b===null&&d.flags&4&&it(te,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if($e&&d.memoizedState===null){var ye=d.alternate;if(ye!==null){var Ve=ye.memoizedState;if(Ve!==null){var dt=Ve.dehydrated;dt!==null&&jm(dt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}pl||d.flags&512&&xb(d)}catch(Pt){si(d,d.return,Pt)}}if(d===h){Je=null;break}if(b=d.sibling,b!==null){b.return=d.return,Je=b;break}Je=d.return}}function F2(h){for(;Je!==null;){var d=Je;if(d===h){Je=null;break}var b=d.sibling;if(b!==null){b.return=d.return,Je=b;break}Je=d.return}}function B2(h){for(;Je!==null;){var d=Je;try{switch(d.tag){case 0:case 11:case 15:var b=d.return;try{Ch(4,d)}catch(ye){si(d,b,ye)}break;case 1:var E=d.stateNode;if(typeof E.componentDidMount=="function"){var C=d.return;try{E.componentDidMount()}catch(ye){si(d,C,ye)}}var I=d.return;try{xb(d)}catch(ye){si(d,I,ye)}break;case 5:var Y=d.return;try{xb(d)}catch(ye){si(d,Y,ye)}}}catch(ye){si(d,d.return,ye)}if(d===h){Je=null;break}var te=d.sibling;if(te!==null){te.return=d.return,Je=te;break}Je=d.return}}var gg=0,vg=1,yg=2,xg=3,_g=4;if(typeof Symbol=="function"&&Symbol.for){var Oh=Symbol.for;gg=Oh("selector.component"),vg=Oh("selector.has_pseudo_class"),yg=Oh("selector.role"),xg=Oh("selector.test_id"),_g=Oh("selector.text")}function wb(h){var d=ce(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(a(364));return d}if(h=pt(h),h===null)throw Error(a(362));return h.stateNode.current}function Mb(h,d){switch(d.$$typeof){case gg:if(h.type===d.value)return!0;break;case vg:e:{d=d.value,h=[h,0];for(var b=0;b<h.length;){var E=h[b++],C=h[b++],I=d[C];if(E.tag!==5||!N(E)){for(;I!=null&&Mb(E,I);)C++,I=d[C];if(C===d.length){d=!0;break e}else for(E=E.child;E!==null;)h.push(E,C),E=E.sibling}}d=!1}return d;case yg:if(h.tag===5&&ee(h.stateNode,d.value))return!0;break;case _g:if((h.tag===5||h.tag===6)&&(h=B(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case xg:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Eb(h){switch(h.$$typeof){case gg:return"<"+(T(h.value)||"Unknown")+">";case vg:return":has("+(Eb(h)||"")+")";case yg:return'[role="'+h.value+'"]';case _g:return'"'+h.value+'"';case xg:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function z2(h,d){var b=[];h=[h,0];for(var E=0;E<h.length;){var C=h[E++],I=h[E++],Y=d[I];if(C.tag!==5||!N(C)){for(;Y!=null&&Mb(C,Y);)I++,Y=d[I];if(I===d.length)b.push(C);else for(C=C.child;C!==null;)h.push(C,I),C=C.sibling}}return b}function Ab(h,d){if(!Ge)throw Error(a(363));h=wb(h),h=z2(h,d),d=[],h=Array.from(h);for(var b=0;b<h.length;){var E=h[b++];if(E.tag===5)N(E)||d.push(E.stateNode);else for(E=E.child;E!==null;)h.push(E),E=E.sibling}return d}var Uj=Math.ceil,Sg=s.ReactCurrentDispatcher,Tb=s.ReactCurrentOwner,Un=s.ReactCurrentBatchConfig,Nt=0,Hn=null,$n=null,vr=0,Mi=0,qu=Ze(0),Jn=0,Rh=null,Ku=0,bg=0,Pb=0,Ih=null,oi=null,Cb=0,Ob=1/0;function Zu(){Ob=lr()+500}var wg=!1,Rb=null,cs=null,Mg=!1,fs=null,Eg=0,Lh=0,Ib=null,Ag=-1,Tg=0;function Wr(){return Nt&6?lr():Ag!==-1?Ag:Ag=lr()}function hs(h){return h.mode&1?Nt&2&&vr!==0?vr&-vr:xj.transition!==null?(Tg===0&&(h=Zt,Zt<<=1,!(Zt&4194240)&&(Zt=64),Tg=h),Tg):(h=Xt,h!==0?h:Se()):1}function Gi(h,d,b){if(50<Lh)throw Lh=0,Ib=null,Error(a(185));var E=Pg(h,d);return E===null?null:(gh(E,d,b),(!(Nt&2)||E!==Hn)&&(E===Hn&&(!(Nt&2)&&(bg|=d),Jn===4&&ds(E,vr)),ai(E,b),d===1&&Nt===0&&!(h.mode&1)&&(Zu(),$m&&Vo())),E)}function Pg(h,d){h.lanes|=d;var b=h.alternate;for(b!==null&&(b.lanes|=d),b=h,h=h.return;h!==null;)h.childLanes|=d,b=h.alternate,b!==null&&(b.childLanes|=d),b=h,h=h.return;return b.tag===3?b.stateNode:null}function ai(h,d){var b=h.callbackNode;mh(h,d);var E=jn(h,h===Hn?vr:0);if(E===0)b!==null&&AC(b),h.callbackNode=null,h.callbackPriority=0;else if(d=E&-E,h.callbackPriority!==d){if(b!=null&&AC(b),d===1)h.tag===0?yj(j2.bind(null,h)):TC(j2.bind(null,h)),$?ct(function(){Nt===0&&Vo()}):zS(VS,Vo),b=null;else{switch(EC(E)){case 1:b=VS;break;case 4:b=pj;break;case 16:b=jS;break;case 536870912:b=mj;break;default:b=jS}b=Z2(b,V2.bind(null,h))}h.callbackPriority=d,h.callbackNode=b}}function V2(h,d){if(Ag=-1,Tg=0,Nt&6)throw Error(a(327));var b=h.callbackNode;if(yl()&&h.callbackNode!==b)return null;var E=jn(h,h===Hn?vr:0);if(E===0)return null;if(E&30||E&h.expiredLanes||d)d=Cg(h,E);else{d=E;var C=Nt;Nt|=2;var I=G2();(Hn!==h||vr!==d)&&(Zu(),gl(h,d));do try{zj();break}catch(te){$2(h,te)}while(!0);GS(),Sg.current=I,Nt=C,$n!==null?d=0:(Hn=null,vr=0,d=Jn)}if(d!==0){if(d===2&&(C=mo(h),C!==0&&(E=C,d=Lb(h,C))),d===1)throw b=Rh,gl(h,0),ds(h,E),ai(h,lr()),b;if(d===6)ds(h,E);else{if(C=h.current.alternate,!(E&30)&&!Fj(C)&&(d=Cg(h,E),d===2&&(I=mo(h),I!==0&&(E=I,d=Lb(h,I))),d===1))throw b=Rh,gl(h,0),ds(h,E),ai(h,lr()),b;switch(h.finishedWork=C,h.finishedLanes=E,d){case 0:case 1:throw Error(a(345));case 2:vl(h,oi);break;case 3:if(ds(h,E),(E&130023424)===E&&(d=Cb+500-lr(),10<d)){if(jn(h,0)!==0)break;if(C=h.suspendedLanes,(C&E)!==E){Wr(),h.pingedLanes|=h.suspendedLanes&C;break}h.timeoutHandle=xe(vl.bind(null,h,oi),d);break}vl(h,oi);break;case 4:if(ds(h,E),(E&4194240)===E)break;for(d=h.eventTimes,C=-1;0<E;){var Y=31-gn(E);I=1<<Y,Y=d[Y],Y>C&&(C=Y),E&=~I}if(E=C,E=lr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*Uj(E/1960))-E,10<E){h.timeoutHandle=xe(vl.bind(null,h,oi),E);break}vl(h,oi);break;case 5:vl(h,oi);break;default:throw Error(a(329))}}}return ai(h,lr()),h.callbackNode===b?V2.bind(null,h):null}function Lb(h,d){var b=Ih;return h.current.memoizedState.isDehydrated&&(gl(h,d).flags|=256),h=Cg(h,d),h!==2&&(d=oi,oi=b,d!==null&&Nb(d)),h}function Nb(h){oi===null?oi=h:oi.push.apply(oi,h)}function Fj(h){for(var d=h;;){if(d.flags&16384){var b=d.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var E=0;E<b.length;E++){var C=b[E],I=C.getSnapshot;C=C.value;try{if(!zo(I(),C))return!1}catch{return!1}}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ds(h,d){for(d&=~Pb,d&=~bg,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var b=31-gn(d),E=1<<b;h[b]=-1,d&=~E}}function j2(h){if(Nt&6)throw Error(a(327));yl();var d=jn(h,0);if(!(d&1))return ai(h,lr()),null;var b=Cg(h,d);if(h.tag!==0&&b===2){var E=mo(h);E!==0&&(d=E,b=Lb(h,E))}if(b===1)throw b=Rh,gl(h,0),ds(h,d),ai(h,lr()),b;if(b===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,vl(h,oi),ai(h,lr()),null}function H2(h){fs!==null&&fs.tag===0&&!(Nt&6)&&yl();var d=Nt;Nt|=1;var b=Un.transition,E=Xt;try{if(Un.transition=null,Xt=1,h)return h()}finally{Xt=E,Un.transition=b,Nt=d,!(Nt&6)&&Vo()}}function Db(){Mi=qu.current,Ce(qu)}function gl(h,d){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==_e&&(h.timeoutHandle=_e,je(b)),$n!==null)for(b=$n.return;b!==null;){var E=b;switch(JS(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&un();break;case 3:Xu(),Ce(ot),Ce(ht),ob();break;case 5:rb(E);break;case 4:Xu();break;case 13:Ce(An);break;case 19:Ce(An);break;case 10:WS(E.type._context);break;case 22:case 23:Db()}b=b.return}if(Hn=h,$n=h=ps(h.current,null),vr=Mi=d,Jn=0,Rh=null,Pb=bg=Ku=0,oi=Ih=null,jo!==null){for(d=0;d<jo.length;d++)if(b=jo[d],E=b.interleaved,E!==null){b.interleaved=null;var C=E.next,I=b.pending;if(I!==null){var Y=I.next;I.next=C,E.next=Y}b.pending=E}jo=null}return h}function $2(h,d){do{var b=$n;try{if(GS(),tg.current=sg,ng){for(var E=In.memoizedState;E!==null;){var C=E.queue;C!==null&&(C.pending=null),E=E.next}ng=!1}if(Yu=0,ur=Ar=In=null,bh=!1,wh=0,Tb.current=null,b===null||b.return===null){Jn=1,Rh=d,$n=null;break}e:{var I=h,Y=b.return,te=b,ye=d;if(d=vr,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ve=ye,dt=te,Pt=dt.tag;if(!(dt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var St=dt.alternate;St?(dt.updateQueue=St.updateQueue,dt.memoizedState=St.memoizedState,dt.lanes=St.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var cn=f2(Y);if(cn!==null){cn.flags&=-257,h2(cn,Y,te,I,d),cn.mode&1&&c2(I,Ve,d),d=cn,ye=Ve;var vt=d.updateQueue;if(vt===null){var Cr=new Set;Cr.add(ye),d.updateQueue=Cr}else vt.add(ye);break e}else{if(!(d&1)){c2(I,Ve,d),kb();break e}ye=Error(a(426))}}else if(wn&&te.mode&1){var Xi=f2(Y);if(Xi!==null){!(Xi.flags&65536)&&(Xi.flags|=256),h2(Xi,Y,te,I,d),tb(ye);break e}}I=ye,Jn!==4&&(Jn=2),Ih===null?Ih=[I]:Ih.push(I),ye=hb(ye,te),te=Y;do{switch(te.tag){case 3:te.flags|=65536,d&=-d,te.lanes|=d;var ue=l2(te,ye,d);OC(te,ue);break e;case 1:I=ye;var ie=te.type,ge=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(cs===null||!cs.has(ge)))){te.flags|=65536,d&=-d,te.lanes|=d;var tt=u2(te,I,d);OC(te,tt);break e}}te=te.return}while(te!==null)}X2(b)}catch(mt){d=mt,$n===b&&b!==null&&($n=b=b.return);continue}break}while(!0)}function G2(){var h=Sg.current;return Sg.current=sg,h===null?sg:h}function kb(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),Hn===null||!(Ku&268435455)&&!(bg&268435455)||ds(Hn,vr)}function Cg(h,d){var b=Nt;Nt|=2;var E=G2();Hn===h&&vr===d||gl(h,d);do try{Bj();break}catch(C){$2(h,C)}while(!0);if(GS(),Nt=b,Sg.current=E,$n!==null)throw Error(a(261));return Hn=null,vr=0,Jn}function Bj(){for(;$n!==null;)W2($n)}function zj(){for(;$n!==null&&!hj();)W2($n)}function W2(h){var d=K2(h.alternate,h,Mi);h.memoizedProps=h.pendingProps,d===null?X2(h):$n=d,Tb.current=null}function X2(h){var d=h;do{var b=d.alternate;if(h=d.return,d.flags&32768){if(b=Ij(b,d),b!==null){b.flags&=32767,$n=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Jn=6,$n=null;return}}else if(b=Cj(b,d,Mi),b!==null){$n=b;return}if(d=d.sibling,d!==null){$n=d;return}$n=d=h}while(d!==null);Jn===0&&(Jn=5)}function vl(h,d){var b=Xt,E=Un.transition;try{Un.transition=null,Xt=1,Vj(h,d,b)}finally{Un.transition=E,Xt=b}return null}function Vj(h,d,b){do yl();while(fs!==null);if(Nt&6)throw Error(a(327));var E=h.finishedWork,C=h.finishedLanes;if(E===null)return null;if(h.finishedWork=null,h.finishedLanes=0,E===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var I=E.lanes|E.childLanes;if(fj(h,I),h===Hn&&($n=Hn=null,vr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Mg||(Mg=!0,Z2(jS,function(){return yl(),null})),I=(E.flags&15990)!==0,E.subtreeFlags&15990||I){I=Un.transition,Un.transition=null;var Y=Xt;Xt=1;var te=Nt;Nt|=4,Tb.current=null,Nj(h,E),Dj(h,E),z(h.containerInfo),h.current=E,kj(E),dj(),Nt=te,Xt=Y,Un.transition=I}else h.current=E;if(Mg&&(Mg=!1,fs=h,Eg=C),I=h.pendingLanes,I===0&&(cs=null),gj(E.stateNode),ai(h,lr()),d!==null)for(b=h.onRecoverableError,E=0;E<d.length;E++)b(d[E]);if(wg)throw wg=!1,h=Rb,Rb=null,h;return Eg&1&&h.tag!==0&&yl(),I=h.pendingLanes,I&1?h===Ib?Lh++:(Lh=0,Ib=h):Lh=0,Vo(),null}function yl(){if(fs!==null){var h=EC(Eg),d=Un.transition,b=Xt;try{if(Un.transition=null,Xt=16>h?16:h,fs===null)var E=!1;else{if(h=fs,fs=null,Eg=0,Nt&6)throw Error(a(331));var C=Nt;for(Nt|=4,Je=h.current;Je!==null;){var I=Je,Y=I.child;if(Je.flags&16){var te=I.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var Ve=te[ye];for(Je=Ve;Je!==null;){var dt=Je;switch(dt.tag){case 0:case 11:case 15:ml(8,dt,I)}var Pt=dt.child;if(Pt!==null)Pt.return=dt,Je=Pt;else for(;Je!==null;){dt=Je;var St=dt.sibling,cn=dt.return;if(R2(dt),dt===Ve){Je=null;break}if(St!==null){St.return=cn,Je=St;break}Je=cn}}}var vt=I.alternate;if(vt!==null){var Cr=vt.child;if(Cr!==null){vt.child=null;do{var Xi=Cr.sibling;Cr.sibling=null,Cr=Xi}while(Cr!==null)}}Je=I}}if(I.subtreeFlags&2064&&Y!==null)Y.return=I,Je=Y;else e:for(;Je!==null;){if(I=Je,I.flags&2048)switch(I.tag){case 0:case 11:case 15:ml(9,I,I.return)}var ue=I.sibling;if(ue!==null){ue.return=I.return,Je=ue;break e}Je=I.return}}var ie=h.current;for(Je=ie;Je!==null;){Y=Je;var ge=Y.child;if(Y.subtreeFlags&2064&&ge!==null)ge.return=Y,Je=ge;else e:for(Y=ie;Je!==null;){if(te=Je,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Ch(9,te)}}catch(mt){si(te,te.return,mt)}if(te===Y){Je=null;break e}var tt=te.sibling;if(tt!==null){tt.return=te.return,Je=tt;break e}Je=te.return}}if(Nt=C,Vo(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(Hm,h)}catch{}E=!0}return E}finally{Xt=b,Un.transition=d}}return!1}function Y2(h,d,b){d=hb(b,d),d=l2(h,d,1),us(h,d),d=Wr(),h=Pg(h,1),h!==null&&(gh(h,1,d),ai(h,d))}function si(h,d,b){if(h.tag===3)Y2(h,h,b);else for(;d!==null;){if(d.tag===3){Y2(d,h,b);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(cs===null||!cs.has(E))){h=hb(b,h),h=u2(d,h,1),us(d,h),h=Wr(),d=Pg(d,1),d!==null&&(gh(d,1,h),ai(d,h));break}}d=d.return}}function jj(h,d,b){var E=h.pingCache;E!==null&&E.delete(d),d=Wr(),h.pingedLanes|=h.suspendedLanes&b,Hn===h&&(vr&b)===b&&(Jn===4||Jn===3&&(vr&130023424)===vr&&500>lr()-Cb?gl(h,0):Pb|=b),ai(h,d)}function q2(h,d){d===0&&(h.mode&1?(d=Zn,Zn<<=1,!(Zn&130023424)&&(Zn=4194304)):d=1);var b=Wr();h=Pg(h,d),h!==null&&(gh(h,d,b),ai(h,b))}function Hj(h){var d=h.memoizedState,b=0;d!==null&&(b=d.retryLane),q2(h,b)}function $j(h,d){var b=0;switch(h.tag){case 13:var E=h.stateNode,C=h.memoizedState;C!==null&&(b=C.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(a(314))}E!==null&&E.delete(d),q2(h,b)}var K2;K2=function(h,d,b){if(h!==null)if(h.memoizedProps!==d.pendingProps||ot.current)wi=!0;else{if(!(h.lanes&b)&&!(d.flags&128))return wi=!1,Rj(h,d,b);wi=!!(h.flags&131072)}else wi=!1,wn&&d.flags&1048576&&kC(d,Jm,d.index);switch(d.lanes=0,d.tag){case 2:var E=d.type;h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps;var C=Bt(d,ht.current);Vu(d,b),C=sb(null,d,E,h,C,b);var I=lb();return d.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,kt(E)?(I=!0,Ht(d)):I=!1,d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,YS(d),C.updater=Km,d.stateNode=C,C._reactInternals=d,KS(d,E,h,b),d=mb(null,d,E,!0,I,b)):(d.tag=0,wn&&I&&ZS(d),Gr(null,d,C,b),d=d.child),d;case 16:E=d.elementType;e:{switch(h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps,C=E._init,E=C(E._payload),d.type=E,C=d.tag=Wj(E),h=go(E,h),C){case 0:d=pb(null,d,E,h,b);break e;case 1:d=_2(null,d,E,h,b);break e;case 11:d=m2(null,d,E,h,b);break e;case 14:d=g2(null,d,E,go(E.type,h),b);break e}throw Error(a(306,E,""))}return d;case 0:return E=d.type,C=d.pendingProps,C=d.elementType===E?C:go(E,C),pb(h,d,E,C,b);case 1:return E=d.type,C=d.pendingProps,C=d.elementType===E?C:go(E,C),_2(h,d,E,C,b);case 3:e:{if(S2(d),h===null)throw Error(a(387));E=d.pendingProps,I=d.memoizedState,C=I.element,CC(h,d),qm(d,E,null,b);var Y=d.memoizedState;if(E=Y.element,$e&&I.isDehydrated)if(I={element:E,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){C=Error(a(423)),d=b2(h,d,E,b,C);break e}else if(E!==C){C=Error(a(424)),d=b2(h,d,E,b,C);break e}else for($e&&(bi=hh(d.stateNode.containerInfo),Si=d,wn=!0,vo=null,vh=!1),b=jC(d,null,E,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if($u(),E===C){d=wa(h,d,b);break e}Gr(h,d,E,b)}d=d.child}return d;case 5:return HC(d),h===null&&eb(d),E=d.type,C=d.pendingProps,I=h!==null?h.memoizedProps:null,Y=C.children,et(E,C)?Y=null:I!==null&&et(E,I)&&(d.flags|=32),x2(h,d),Gr(h,d,Y,b),d.child;case 6:return h===null&&eb(d),null;case 13:return w2(h,d,b);case 4:return nb(d,d.stateNode.containerInfo),E=d.pendingProps,h===null?d.child=Gu(d,null,E,b):Gr(h,d,E,b),d.child;case 11:return E=d.type,C=d.pendingProps,C=d.elementType===E?C:go(E,C),m2(h,d,E,C,b);case 7:return Gr(h,d,d.pendingProps,b),d.child;case 8:return Gr(h,d,d.pendingProps.children,b),d.child;case 12:return Gr(h,d,d.pendingProps.children,b),d.child;case 10:e:{if(E=d.type._context,C=d.pendingProps,I=d.memoizedProps,Y=C.value,PC(d,E,Y),I!==null)if(zo(I.value,Y)){if(I.children===C.children&&!ot.current){d=wa(h,d,b);break e}}else for(I=d.child,I!==null&&(I.return=d);I!==null;){var te=I.dependencies;if(te!==null){Y=I.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===E){if(I.tag===1){ye=xa(-1,b&-b),ye.tag=2;var Ve=I.updateQueue;if(Ve!==null){Ve=Ve.shared;var dt=Ve.pending;dt===null?ye.next=ye:(ye.next=dt.next,dt.next=ye),Ve.pending=ye}}I.lanes|=b,ye=I.alternate,ye!==null&&(ye.lanes|=b),XS(I.return,b,d),te.lanes|=b;break}ye=ye.next}}else if(I.tag===10)Y=I.type===d.type?null:I.child;else if(I.tag===18){if(Y=I.return,Y===null)throw Error(a(341));Y.lanes|=b,te=Y.alternate,te!==null&&(te.lanes|=b),XS(Y,b,d),Y=I.sibling}else Y=I.child;if(Y!==null)Y.return=I;else for(Y=I;Y!==null;){if(Y===d){Y=null;break}if(I=Y.sibling,I!==null){I.return=Y.return,Y=I;break}Y=Y.return}I=Y}Gr(h,d,C.children,b),d=d.child}return d;case 9:return C=d.type,E=d.pendingProps.children,Vu(d,b),C=zi(C),E=E(C),d.flags|=1,Gr(h,d,E,b),d.child;case 14:return E=d.type,C=go(E,d.pendingProps),C=go(E.type,C),g2(h,d,E,C,b);case 15:return v2(h,d,d.type,d.pendingProps,b);case 17:return E=d.type,C=d.pendingProps,C=d.elementType===E?C:go(E,C),h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,kt(E)?(h=!0,Ht(d)):h=!1,Vu(d,b),NC(d,E,C),KS(d,E,C,b),mb(null,d,E,!0,h,b);case 19:return T2(h,d,b);case 22:return y2(h,d,b)}throw Error(a(156,d.tag))};function Z2(h,d){return zS(h,d)}function Gj(h,d,b,E){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(h,d,b,E){return new Gj(h,d,b,E)}function Ub(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Wj(h){if(typeof h=="function")return Ub(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===_)return 14}return 2}function ps(h,d){var b=h.alternate;return b===null?(b=Wi(h.tag,d,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=d,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,d=h.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function Og(h,d,b,E,C,I){var Y=2;if(E=h,typeof h=="function")Ub(h)&&(Y=1);else if(typeof h=="string")Y=5;else e:switch(h){case c:return xl(b.children,C,I,d);case f:Y=8,C|=8;break;case p:return h=Wi(12,b,d,C|2),h.elementType=p,h.lanes=I,h;case y:return h=Wi(13,b,d,C),h.elementType=y,h.lanes=I,h;case g:return h=Wi(19,b,d,C),h.elementType=g,h.lanes=I,h;case M:return Rg(b,C,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:Y=10;break e;case v:Y=9;break e;case x:Y=11;break e;case _:Y=14;break e;case S:Y=16,E=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return d=Wi(Y,b,d,C),d.elementType=h,d.type=E,d.lanes=I,d}function xl(h,d,b,E){return h=Wi(7,h,E,d),h.lanes=b,h}function Rg(h,d,b,E){return h=Wi(22,h,E,d),h.elementType=M,h.lanes=b,h.stateNode={},h}function Fb(h,d,b){return h=Wi(6,h,null,d),h.lanes=b,h}function Bb(h,d,b){return d=Wi(4,h.children!==null?h.children:[],h.key,d),d.lanes=b,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Xj(h,d,b,E,C){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=FS(0),this.expirationTimes=FS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FS(0),this.identifierPrefix=E,this.onRecoverableError=C,$e&&(this.mutableSourceEagerHydrationData=null)}function J2(h,d,b,E,C,I,Y,te,ye){return h=new Xj(h,d,b,te,ye),d===1?(d=1,I===!0&&(d|=8)):d=0,I=Wi(3,null,null,d),h.current=I,I.stateNode=h,I.memoizedState={element:E,isDehydrated:b,cache:null,transitions:null},YS(I),h}function Q2(h){if(!h)return at;h=h._reactInternals;e:{if(P(h)!==h||h.tag!==1)throw Error(a(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(kt(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(a(171))}if(h.tag===1){var b=h.type;if(kt(b))return xt(h,b,d)}return d}function eO(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=k(d),h===null?null:h.stateNode}function tO(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<d?b:d}}function zb(h,d){tO(h,d),(h=h.alternate)&&tO(h,d)}function Yj(h){return h=k(h),h===null?null:h.stateNode}function qj(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var d=Wr();Gi(h,134217728,d),zb(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Wr(),b=hs(h);Gi(h,b,d),zb(h,b)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var b=sr(d.pendingLanes);b!==0&&(BS(d,b|1),ai(d,lr()),!(Nt&6)&&(Zu(),Vo()))}break;case 13:var E=Wr();H2(function(){return Gi(h,1,E)}),zb(h,1)}},n.batchedUpdates=function(h,d){var b=Nt;Nt|=1;try{return h(d)}finally{Nt=b,Nt===0&&(Zu(),$m&&Vo())}},n.createComponentSelector=function(h){return{$$typeof:gg,value:h}},n.createContainer=function(h,d,b,E,C,I,Y){return J2(h,d,!1,null,b,E,C,I,Y)},n.createHasPseudoClassSelector=function(h){return{$$typeof:vg,value:h}},n.createHydrationContainer=function(h,d,b,E,C,I,Y,te,ye){return h=J2(b,E,!0,h,C,I,Y,te,ye),h.context=Q2(null),b=h.current,E=Wr(),C=hs(b),I=xa(E,C),I.callback=d??null,us(b,I),h.current.lanes=C,gh(h,C,E),ai(h,E),h},n.createPortal=function(h,d,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:h,containerInfo:d,implementation:b}},n.createRoleSelector=function(h){return{$$typeof:yg,value:h}},n.createTestNameSelector=function(h){return{$$typeof:xg,value:h}},n.createTextSelector=function(h){return{$$typeof:_g,value:h}},n.deferredUpdates=function(h){var d=Xt,b=Un.transition;try{return Un.transition=null,Xt=16,h()}finally{Xt=d,Un.transition=b}},n.discreteUpdates=function(h,d,b,E,C){var I=Xt,Y=Un.transition;try{return Un.transition=null,Xt=1,h(d,b,E,C)}finally{Xt=I,Un.transition=Y,Nt===0&&Zu()}},n.findAllNodes=Ab,n.findBoundingRects=function(h,d){if(!Ge)throw Error(a(363));d=Ab(h,d),h=[];for(var b=0;b<d.length;b++)h.push(Re(d[b]));for(d=h.length-1;0<d;d--){b=h[d];for(var E=b.x,C=E+b.width,I=b.y,Y=I+b.height,te=d-1;0<=te;te--)if(d!==te){var ye=h[te],Ve=ye.x,dt=Ve+ye.width,Pt=ye.y,St=Pt+ye.height;if(E>=Ve&&I>=Pt&&C<=dt&&Y<=St){h.splice(d,1);break}else if(E!==Ve||b.width!==ye.width||St<I||Pt>Y){if(!(I!==Pt||b.height!==ye.height||dt<E||Ve>C)){Ve>E&&(ye.width+=Ve-E,ye.x=E),dt<C&&(ye.width=C-Ve),h.splice(d,1);break}}else{Pt>I&&(ye.height+=Pt-I,ye.y=I),St<Y&&(ye.height=Y-Pt),h.splice(d,1);break}}}return h},n.findHostInstance=eO,n.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?X(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return eO(h)},n.flushControlled=function(h){var d=Nt;Nt|=1;var b=Un.transition,E=Xt;try{Un.transition=null,Xt=1,h()}finally{Xt=E,Un.transition=b,Nt=d,Nt===0&&(Zu(),Vo())}},n.flushPassiveEffects=yl,n.flushSync=H2,n.focusWithin=function(h,d){if(!Ge)throw Error(a(363));for(h=wb(h),d=z2(h,d),d=Array.from(d),h=0;h<d.length;){var b=d[h++];if(!N(b)){if(b.tag===5&&pe(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Xt},n.getFindAllNodesFailureDescription=function(h,d){if(!Ge)throw Error(a(363));var b=0,E=[];h=[wb(h),0];for(var C=0;C<h.length;){var I=h[C++],Y=h[C++],te=d[Y];if((I.tag!==5||!N(I))&&(Mb(I,te)&&(E.push(Eb(te)),Y++,Y>b&&(b=Y)),Y<d.length))for(I=I.child;I!==null;)h.push(I,Y),I=I.sibling}if(b<d.length){for(h=[];b<d.length;b++)h.push(Eb(d[b]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return q(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Yj,findFiberByHostInstance:h.findFiberByHostInstance||qj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{Hm=d.inject(h),Bo=d}catch{}h=!!d.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,d,b,E){if(!Ge)throw Error(a(363));h=Ab(h,d);var C=Te(h,b,E).disconnect;return{disconnect:function(){C()}}},n.registerMutableSourceForHydration=function(h,d){var b=d._getVersion;b=b(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,b]:h.mutableSourceEagerHydrationData.push(d,b)},n.runWithPriority=function(h,d){var b=Xt;try{return Xt=h,d()}finally{Xt=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,d,b,E){var C=d.current,I=Wr(),Y=hs(C);return b=Q2(b),d.context===null?d.context=b:d.pendingContext=b,d=xa(I,Y),d.payload={element:h},E=E===void 0?null:E,E!==null&&(d.callback=E),us(C,d),h=Gi(C,Y,I),h!==null&&Ym(h,C,Y),Y},n};WV.exports=rwe;var iwe=WV.exports;const owe=dn(iwe);var XV={exports:{}},YV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,V){var z=D.length;D.push(V);e:for(;0<z;){var Q=z-1>>>1,ne=D[Q];if(0<i(ne,V))D[Q]=V,D[z]=ne,z=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var V=D[0],z=D.pop();if(z!==V){D[0]=z;e:for(var Q=0,ne=D.length,de=ne>>>1;Q<de;){var Fe=2*(Q+1)-1,et=D[Fe],se=Fe+1,xe=D[se];if(0>i(et,z))se<ne&&0>i(xe,et)?(D[Q]=xe,D[se]=z,Q=se):(D[Q]=et,D[Fe]=z,Q=Fe);else if(se<ne&&0>i(xe,z))D[Q]=xe,D[se]=z,Q=se;else break e}}return V}function i(D,V){var z=D.sortIndex-V.sortIndex;return z!==0?z:D.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=D)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function M(D){if(x=!1,S(D),!v)if(n(l)!==null)v=!0,q(w);else{var V=n(u);V!==null&&W(M,V.startTime-D)}}function w(D,V){v=!1,x&&(x=!1,g(R),R=-1),m=!0;var z=p;try{for(S(V),f=n(l);f!==null&&(!(f.expirationTime>V)||D&&!L());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ne=Q(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),S(V)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var Fe=n(u);Fe!==null&&W(M,Fe.startTime-V),de=!1}return de}finally{f=null,p=z,m=!1}}var A=!1,T=null,R=-1,P=5,O=-1;function L(){return!(t.unstable_now()-O<P)}function k(){if(T!==null){var D=t.unstable_now();O=D;var V=!0;try{V=T(!0,D)}finally{V?F():(A=!1,T=null)}}else A=!1}var F;if(typeof _=="function")F=function(){_(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,G=X.port2;X.port1.onmessage=k,F=function(){G.postMessage(null)}}else F=function(){y(k,0)};function q(D){T=D,A||(A=!0,F())}function W(D,V){R=y(function(){D(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,q(w))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var z=p;p=V;try{return D()}finally{p=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=p;p=D;try{return V()}finally{p=z}},t.unstable_scheduleCallback=function(D,V,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,D={id:c++,callback:V,priorityLevel:D,startTime:z,expirationTime:ne,sortIndex:-1},z>Q?(D.sortIndex=z,e(u,D),n(l)===null&&D===n(u)&&(x?(g(R),R=-1):x=!0,W(M,z-Q))):(D.sortIndex=ne,e(l,D),v||m||(v=!0,q(w))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var V=p;return function(){var z=p;p=V;try{return D.apply(this,arguments)}finally{p=z}}}})(YV);XV.exports=YV;var LD=XV.exports;const wC={},awe=t=>void Object.assign(wC,t);function swe(t,e){function n(c,{args:f=[],attach:p,...m},v){let x=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Ac(g,{type:c,root:v,attach:p,primitive:!0})}else{const g=wC[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Ac(new g(...f),{type:c,root:v,attach:p,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),x!=="inject"&&Fw(y,m),y}function r(c,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?Uw(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),p=!0),p||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Ac(f,{}),f.__r3f.parent=c,PA(f),Tc(f)}}function i(c,f,p){let m=!1;if(f){var v,x;if((v=f.__r3f)!=null&&v.attach)Uw(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(_=>_!==f),g=y.indexOf(p);c.children=[...y.slice(0,g),f,...y.slice(g)],m=!0}m||(x=c.__r3f)==null||x.objects.push(f),f.__r3f||Ac(f,{}),f.__r3f.parent=c,PA(f),Tc(f)}}function o(c,f,p=!1){c&&[...c].forEach(m=>a(f,m,p))}function a(c,f,p){if(f){var m,v,x;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(v=f.__r3f)!=null&&v.attach)FD(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&pwe(My(f),f)}const _=(x=f.__r3f)==null?void 0:x.primitive,S=!_&&(p===void 0?f.dispose!==null:p);if(!_){var g;o((g=f.__r3f)==null?void 0:g.objects,f,S),o(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?LD.unstable_scheduleCallback(LD.unstable_IdlePriority,M):M()}Tc(c)}}function s(c,f,p,m){var v;const x=(v=c.__r3f)==null?void 0:v.parent;if(!x)return;const y=n(f,p,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(y,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(y,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(x,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&My(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:owe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,p)=>{if(!f||!p)return;const m=c.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,p,m){var v;if(((v=c==null?void 0:c.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:g,..._}=m,{args:S=[],children:M,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,R)=>T!==S[R]))return[!0];const A=tj(c,_,w,!0);return A.changes.length?[!1,A]:null}},commitUpdate(c,[f,p],m,v,x,y){f?s(c,m,x,y):Fw(c,p)},commitMount(c,f,p,m){var v;const x=(v=c.__r3f)!=null?v:{};c.raycast&&x.handlers&&x.eventCount&&My(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Ac(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:p,parent:m}=(f=c.__r3f)!=null?f:{};p&&m&&FD(m,c,p),c.isObject3D&&(c.visible=!1),Tc(c)},unhideInstance(c,f){var p;const{attach:m,parent:v}=(p=c.__r3f)!=null?p:{};m&&v&&Uw(v,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Tc(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Wc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xn.fun(performance.now)?performance.now:xn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Fw}}var ND,DD;const kw=t=>"colorSpace"in t||"outputColorSpace"in t,qV=()=>{var t;return(t=wC.ColorManagement)!=null?t:null},KV=t=>t&&t.isOrthographicCamera,lwe=t=>t&&t.hasOwnProperty("current"),km=typeof window<"u"&&((ND=window.document)!=null&&ND.createElement||((DD=window.navigator)==null?void 0:DD.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function ZV(t){const e=j.useRef(t);return km(()=>void(e.current=t),[t]),e}function uwe({set:t}){return km(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class JV extends j.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}JV.getDerivedStateFromError=()=>({error:!0});const QV="__default",kD=new Map,cwe=t=>t&&!!t.memoized&&!!t.changes;function ej(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const dd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function My(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xn={obj:t=>t===Object(t)&&!xn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(xn.str(t)||xn.num(t)||xn.boo(t))return t===e;const o=xn.obj(t);if(o&&r==="reference")return t===e;const a=xn.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!xn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(xn.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function fwe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ac(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function TA(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const UD=/-\d+$/;function Uw(t,e,n){if(xn.str(n)){if(UD.test(n)){const o=n.replace(UD,""),{target:a,key:s}=TA(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=TA(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function FD(t,e,n){var r,i;if(xn.str(n)){const{target:o,key:a}=TA(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function tj(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),p=[];if(u){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||f.unshift([v[x],QV+"remove"])}f.forEach(([v,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||xn.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const _ in i){const S=i[_];_.startsWith(`${v}-`)&&p.push([_,S,!1,_.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:p}}function Fw(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=cwe(e)?e:tj(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let p=0;p<s.length;p++){let[m,v,x,y]=s[p];if(kw(t)){const M="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:w):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:w)}let g=t,_=g[m];if(y.length&&(_=y.reduce((S,M)=>S[M],t),!(_&&_.set))){const[S,...M]=y.reverse();g=M.reverse().reduce((w,A)=>w[A],t),m=S}if(v===QV+"remove")if(g.constructor){let S=kD.get(g.constructor);S||(S=new g.constructor,kD.set(g.constructor,S)),v=S[m]}else v=0;if(x&&r)v?r.handlers[m]=v:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof uu)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&_.constructor===v.constructor)_.copy(v);else if(v!==void 0){var u;const S=(u=_)==null?void 0:u.isColor;!S&&_.setScalar?_.setScalar(v):_ instanceof uu&&v instanceof uu?_.mask=v.mask:_.set(v),!qV()&&o&&!o.linear&&S&&_.convertSRGBToLinear()}}else{var c;if(g[m]=v,(c=g[m])!=null&&c.isTexture&&g[m].format===Br&&g[m].type===Kr&&o){const S=g[m];kw(S)&&kw(o.gl)?S.colorSpace=o.gl.outputColorSpace:S.encoding=o.gl.outputEncoding}}Tc(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=My(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),r.eventCount&&p.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&PA(t),t}function Tc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function PA(t){t.onUpdate==null||t.onUpdate(t)}function hwe(t,e){t.manual||(KV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ty(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function dwe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Wc.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Wc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wc.ContinuousEventPriority;default:return Wc.DefaultEventPriority}}function nj(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function pwe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{nj(n.capturedMap,e,r,i)})}function mwe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<m.length;g++){const _=dd(m[g]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(g){const _=dd(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,_)=>{const S=dd(g.object),M=dd(_.object);return!S||!M?g.distance-_.distance:M.events.priority-S.events.priority||g.distance-_.distance}).filter(g=>{const _=ty(g);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const g of x){let _=g.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())f.has(ty(g.intersection))||p.push(g.intersection);return p}function i(l,u,c,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=dd(v.object)||p,{raycaster:y,pointer:g,camera:_,internal:S}=x,M=new H(g.x,g.y,0).unproject(_),w=O=>{var L,k;return(L=(k=S.capturedMap.get(O))==null?void 0:k.has(v.eventObject))!=null?L:!1},A=O=>{const L={intersection:v,target:u.target};S.capturedMap.has(O)?S.capturedMap.get(O).set(v.eventObject,L):S.capturedMap.set(O,new Map([[v.eventObject,L]])),u.target.setPointerCapture(O)},T=O=>{const L=S.capturedMap.get(O);L&&nj(S.capturedMap,v.eventObject,L,O)};let R={};for(let O in u){let L=u[O];typeof L!="function"&&(R[O]=L)}let P={...v,...R,pointer:g,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:y.ray,camera:_,stopPropagation(){const O="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!O||O.has(v.eventObject))&&(P.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(L=>L.eventObject===v.eventObject))){const L=l.slice(0,l.indexOf(v));o([...L,v])}},target:{hasPointerCapture:w,setPointerCapture:A,releasePointerCapture:T},currentTarget:{hasPointerCapture:w,setPointerCapture:A,releasePointerCapture:T},nativeEvent:u};if(f(P),m.stopped===!0)break}}return l}function o(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(ty(c)),p!=null&&p.eventCount){const v={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function a(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),g=v?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=y.map(S=>S.eventObject)),v&&!y.length&&g<=2&&(a(c,p.interaction),f&&f(c)),m&&o(y);function _(S){const M=S.eventObject,w=M.__r3f,A=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const T=ty(S),R=p.hovered.get(T);R?R.stopped&&S.stopPropagation():(p.hovered.set(T,S),A.onPointerOver==null||A.onPointerOver(S),A.onPointerEnter==null||A.onPointerEnter(S))}A.onPointerMove==null||A.onPointerMove(S)}else{const T=A[l];T?(!v||p.initialHits.includes(M))&&(a(c,p.interaction.filter(R=>!p.initialHits.includes(R))),T(S)):v&&p.initialHits.includes(M)&&a(c,p.interaction.filter(R=>!p.initialHits.includes(R)))}}i(y,c,g,_)}}return{handlePointer:s}}const rj=t=>!!(t!=null&&t.render),ij=j.createContext(null),gwe=(t,e)=>{const n=ewe((s,l)=>{const u=new H,c=new H,f=new H;function p(g=l().camera,_=c,S=l().size){const{width:M,height:w,top:A,left:T}=S,R=M/w;_.isVector3?f.copy(_):f.set(..._);const P=g.getWorldPosition(u).distanceTo(f);if(KV(g))return{width:M/g.zoom,height:w/g.zoom,top:A,left:T,factor:1,distance:P,aspect:R};{const O=g.fov*Math.PI/180,L=2*Math.tan(O/2)*P,k=L*(M/w);return{width:k,height:L,top:A,left:T,factor:M/k,distance:P,aspect:R}}}let m;const v=g=>s(_=>({performance:{..._.performance,current:g}})),x=new we;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yC,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>s(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,S,M,w)=>{const A=l().camera,T={width:g,height:_,top:M||0,left:w||0,updateStyle:S};s(R=>({size:T,viewport:{...R.viewport,...p(A,c,T)}}))},setDpr:g=>s(_=>{const S=ej(g);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),s(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:j.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:g,priority:_,store:S}),M.subscribers=M.subscribers.sort((w,A)=>w.priority-A.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(_>0?1:0),w.subscribers=w.subscribers.filter(A=>A.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==o){var p;i=l,o=u.dpr,hwe(s,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}s!==a&&(a=s,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let ny,vwe=new Set,ywe=new Set,xwe=new Set;function Bw(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function pd(t,e){switch(t){case"before":return Bw(vwe,e);case"after":return Bw(ywe,e);case"tail":return Bw(xwe,e)}}let zw,Vw;function jw(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),zw=e.internal.subscribers,ny=0;ny<zw.length;ny++)Vw=zw[ny],Vw.ref.current(Vw.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function _we(t){let e=!1,n=!1,r,i,o;function a(u){i=requestAnimationFrame(a),e=!0,r=0,pd("before",u),n=!0;for(const f of t.values()){var c;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((c=o.gl.xr)!=null&&c.isPresenting)&&(r+=jw(u,o))}if(n=!1,pd("after",u),r===0)return pd("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return t.forEach(p=>s(p.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(u,c=!0,f,p){if(c&&pd("before",u),f)jw(u,f,p);else for(const m of t.values())jw(u,m.store.getState());c&&pd("after",u)}return{loop:a,invalidate:s,advance:l}}function oj(){const t=j.useContext(ij);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ms(t=n=>n,e){return oj()(t,e)}function Swe(t,e=0){const n=oj(),r=n.getState().internal.subscribe,i=ZV(t);return km(()=>r(i,e,n),[e,r,n]),null}const Hf=new Map,{invalidate:BD,advance:zD}=_we(Hf),{reconciler:Vx,applyProps:wc}=swe(Hf,dwe),Mc={objects:"shallow",strict:!1},bwe=(t,e)=>{const n=typeof t=="function"?t(e):t;return rj(n)?n:new $V({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function wwe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Mwe(t){const e=Hf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||gwe(BD,zD),a=n||Vx.createContainer(o,Wc.ConcurrentRoot,null,!1,null,"",i,null);e||Hf.set(t,{fiber:a,store:o});let s,l=!1,u;return{configure(c={}){let{gl:f,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:w="always",dpr:A=[1,2],performance:T,raycaster:R,camera:P,onPointerMissed:O}=c,L=o.getState(),k=L.gl;L.gl||L.set({gl:k=bwe(f,t)});let F=L.raycaster;F||L.set({raycaster:F=new kV});const{params:X,...G}=R||{};if(xn.equ(G,F,Mc)||wc(F,{...G}),xn.equ(X,F.params,Mc)||wc(F,{params:{...F.params,...X}}),!L.camera||L.camera===u&&!xn.equ(u,P,Mc)){u=P;const z=P instanceof Pm,Q=z?P:M?new $a(0,0,0,0,.1,1e3):new zn(75,0,.1,1e3);z||(Q.position.z=5,P&&(wc(Q,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(Q.manual=!0,Q.updateProjectionMatrix())),!L.camera&&!(P!=null&&P.rotation)&&Q.lookAt(0,0,0)),L.set({camera:Q}),F.camera=Q}if(!L.scene){let z;m!=null&&m.isScene?z=m:(z=new KP,m&&wc(z,m)),L.set({scene:Ac(z)})}if(!L.xr){var q;const z=(de,Fe)=>{const et=o.getState();et.frameloop!=="never"&&zD(de,!0,et,Fe)},Q=()=>{const de=o.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?z:null),de.gl.xr.isPresenting||BD(de)},ne={connect(){const de=o.getState().gl;de.xr.addEventListener("sessionstart",Q),de.xr.addEventListener("sessionend",Q)},disconnect(){const de=o.getState().gl;de.xr.removeEventListener("sessionstart",Q),de.xr.removeEventListener("sessionend",Q)}};typeof((q=k.xr)==null?void 0:q.addEventListener)=="function"&&ne.connect(),L.set({xr:ne})}if(k.shadowMap){const z=k.shadowMap.enabled,Q=k.shadowMap.type;if(k.shadowMap.enabled=!!y,xn.boo(y))k.shadowMap.type=Ud;else if(xn.str(y)){var W;const ne={basic:n5,percentage:rf,soft:Ud,variance:Zl};k.shadowMap.type=(W=ne[y])!=null?W:Ud}else xn.obj(y)&&Object.assign(k.shadowMap,y);(z!==k.shadowMap.enabled||Q!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const D=qV();D&&("enabled"in D?D.enabled=!S:"legacyMode"in D&&(D.legacyMode=S)),l||wc(k,{outputEncoding:g?3e3:3001,toneMapping:_?io:Z_}),L.legacy!==S&&L.set(()=>({legacy:S})),L.linear!==g&&L.set(()=>({linear:g})),L.flat!==_&&L.set(()=>({flat:_})),f&&!xn.fun(f)&&!rj(f)&&!xn.equ(f,k,Mc)&&wc(k,f),v&&!L.events.handlers&&L.set({events:v(o)});const V=wwe(t,p);return xn.equ(V,L.size,Mc)||L.setSize(V.width,V.height,V.updateStyle,V.top,V.left),A&&L.viewport.dpr!==ej(A)&&L.setDpr(A),L.frameloop!==w&&L.setFrameloop(w),L.onPointerMissed||L.set({onPointerMissed:O}),T&&!xn.equ(T,L.performance,Mc)&&L.set(z=>({performance:{...z.performance,...T}})),s=x,l=!0,this},render(c){return l||this.configure(),Vx.updateContainer(K.jsx(Ewe,{store:o,children:c,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){aj(t)}}}function Ewe({store:t,children:e,onCreated:n,rootElement:r}){return km(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),K.jsx(ij.Provider,{value:t,children:e})}function aj(t,e){const n=Hf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Vx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),fwe(i),Hf.delete(t)}catch{}},500)})}}Vx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:j.version});const Hw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Awe(t){const{handlePointer:e}=mwe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Hw).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,u]=Hw[a];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=Hw[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function VD(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Twe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=j.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=j.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=j.useRef(!1);j.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,p,m]=j.useMemo(()=>{const g=()=>{if(!s.current.element)return;const{left:_,top:S,width:M,height:w,bottom:A,right:T,x:R,y:P}=s.current.element.getBoundingClientRect(),O={left:_,top:S,width:M,height:w,bottom:A,right:T,x:R,y:P};s.current.element instanceof HTMLElement&&r&&(O.height=s.current.element.offsetHeight,O.width=s.current.element.offsetWidth),Object.freeze(O),c.current&&!Rwe(s.current.lastBounds,O)&&a(s.current.lastBounds=O)};return[g,u?VD(g,u):g,l?VD(g,l):g]},[a,r,l,u]);function v(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(m),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=g=>{!g||g===s.current.element||(v(),s.current.element=g,s.current.scrollContainers=sj(g),x())};return Cwe(m,!!e),Pwe(p),j.useEffect(()=>{v(),x()},[e,m,p]),j.useEffect(()=>v,[]),[y,o,f]}function Pwe(t){j.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Cwe(t,e){j.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function sj(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...sj(t.parentElement)]}const Owe=["x","y","top","bottom","left","right","width","height"],Rwe=(t,e)=>Owe.every(n=>t[n]===e[n]);var Iwe=Object.defineProperty,Lwe=Object.defineProperties,Nwe=Object.getOwnPropertyDescriptors,jD=Object.getOwnPropertySymbols,Dwe=Object.prototype.hasOwnProperty,kwe=Object.prototype.propertyIsEnumerable,HD=(t,e,n)=>e in t?Iwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$D=(t,e)=>{for(var n in e||(e={}))Dwe.call(e,n)&&HD(t,n,e[n]);if(jD)for(var n of jD(e))kwe.call(e,n)&&HD(t,n,e[n]);return t},Uwe=(t,e)=>Lwe(t,Nwe(e)),GD,WD;typeof window<"u"&&((GD=window.document)!=null&&GD.createElement||((WD=window.navigator)==null?void 0:WD.product)==="ReactNative")?j.useLayoutEffect:j.useEffect;function lj(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=lj(r,e,n);if(i)return i;r=r.sibling}}function uj(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const XD=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=XD;return}return XD.apply(this,arguments)};const MC=uj(j.createContext(null));class cj extends j.Component{render(){return j.createElement(MC.Provider,{value:this._reactInternals},this.props.children)}}function Fwe(){const t=j.useContext(MC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=j.useId();return j.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=lj(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function Bwe(){const t=Fwe(),[e]=j.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==MC&&!e.has(i)&&e.set(i,j.useContext(uj(i)))}n=n.return}return e}function zwe(){const t=Bwe();return j.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>j.createElement(e,null,j.createElement(n.Provider,Uwe($D({},r),{value:t.get(n)}))),e=>j.createElement(cj,$D({},e))),[t])}const Vwe=j.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=Awe,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:_,scene:S,onPointerMissed:M,onCreated:w,...A},T){j.useMemo(()=>awe(Z1e),[]);const R=zwe(),[P,O]=Twe({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=j.useRef(null),k=j.useRef(null);j.useImperativeHandle(T,()=>L.current);const F=ZV(M),[X,G]=j.useState(!1),[q,W]=j.useState(!1);if(X)throw X;if(q)throw q;const D=j.useRef(null);km(()=>{const z=L.current;O.width>0&&O.height>0&&z&&(D.current||(D.current=Mwe(z)),D.current.configure({gl:o,events:a,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:_,scene:S,size:O,onPointerMissed:(...Q)=>F.current==null?void 0:F.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(s?lwe(s)?s.current:s:k.current),l&&Q.setEvents({compute:(ne,de)=>{const Fe=ne[l+"X"],et=ne[l+"Y"];de.pointer.set(Fe/de.size.width*2-1,-(et/de.size.height)*2+1),de.raycaster.setFromCamera(de.pointer,de.camera)}}),w==null||w(Q)}}),D.current.render(K.jsx(R,{children:K.jsx(JV,{set:W,children:K.jsx(j.Suspense,{fallback:K.jsx(uwe,{set:G}),children:e??null})})})))}),j.useEffect(()=>{const z=L.current;if(z)return()=>aj(z)},[]);const V=s?"none":"auto";return K.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i},...A,children:K.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:K.jsx("canvas",{ref:L,style:{display:"block"},children:n})})})}),jwe=j.forwardRef(function(e,n){return K.jsx(cj,{children:K.jsx(Vwe,{...e,ref:n})})});var Hwe=Object.defineProperty,$we=(t,e,n)=>e in t?Hwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gwe=(t,e,n)=>($we(t,e+"",n),n);class Wwe{constructor(){Gwe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var Xwe=Object.defineProperty,Ywe=(t,e,n)=>e in t?Xwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bt=(t,e,n)=>(Ywe(t,typeof e!="symbol"?e+"":e,n),n);const ry=new Iu,YD=new Zo,qwe=Math.cos(70*(Math.PI/180)),qD=(t,e)=>(t%e+e)%e;let Kwe=class extends Wwe{constructor(e,n){super(),bt(this,"object"),bt(this,"domElement"),bt(this,"enabled",!0),bt(this,"target",new H),bt(this,"minDistance",0),bt(this,"maxDistance",1/0),bt(this,"minZoom",0),bt(this,"maxZoom",1/0),bt(this,"minPolarAngle",0),bt(this,"maxPolarAngle",Math.PI),bt(this,"minAzimuthAngle",-1/0),bt(this,"maxAzimuthAngle",1/0),bt(this,"enableDamping",!1),bt(this,"dampingFactor",.05),bt(this,"enableZoom",!0),bt(this,"zoomSpeed",1),bt(this,"enableRotate",!0),bt(this,"rotateSpeed",1),bt(this,"enablePan",!0),bt(this,"panSpeed",1),bt(this,"screenSpacePanning",!0),bt(this,"keyPanSpeed",7),bt(this,"zoomToCursor",!1),bt(this,"autoRotate",!1),bt(this,"autoRotateSpeed",2),bt(this,"reverseOrbit",!1),bt(this,"reverseHorizontalOrbit",!1),bt(this,"reverseVerticalOrbit",!1),bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),bt(this,"mouseButtons",{LEFT:zl.ROTATE,MIDDLE:zl.DOLLY,RIGHT:zl.PAN}),bt(this,"touches",{ONE:Vl.ROTATE,TWO:Vl.DOLLY_PAN}),bt(this,"target0"),bt(this,"position0"),bt(this,"zoom0"),bt(this,"_domElementKeyEvents",null),bt(this,"getPolarAngle"),bt(this,"getAzimuthalAngle"),bt(this,"setPolarAngle"),bt(this,"setAzimuthalAngle"),bt(this,"getDistance"),bt(this,"getZoomScale"),bt(this,"listenToKeyEvents"),bt(this,"stopListenToKeyEvents"),bt(this,"saveState"),bt(this,"reset"),bt(this,"update"),bt(this,"connect"),bt(this,"dispose"),bt(this,"dollyIn"),bt(this,"dollyOut"),bt(this,"getScale"),bt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=Z=>{let ae=qD(Z,2*Math.PI),ze=c.phi;ze<0&&(ze+=2*Math.PI),ae<0&&(ae+=2*Math.PI);let J=Math.abs(ae-ze);2*Math.PI-J<J&&(ae<ze?ae+=2*Math.PI:ze+=2*Math.PI),f.phi=ae-ze,r.update()},this.setAzimuthalAngle=Z=>{let ae=qD(Z,2*Math.PI),ze=c.theta;ze<0&&(ze+=2*Math.PI),ae<0&&(ae+=2*Math.PI);let J=Math.abs(ae-ze);2*Math.PI-J<J&&(ae<ze?ae+=2*Math.PI:ze+=2*Math.PI),f.theta=ae-ze,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",me),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",me),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const Z=new H,ae=new H(0,1,0),ze=new zr().setFromUnitVectors(e.up,ae),J=ze.clone().invert(),Ne=new H,Oe=new zr,Ye=2*Math.PI;return function(){const Ae=r.object.position;ze.setFromUnitVectors(e.up,ae),J.copy(ze).invert(),Z.copy(Ae).sub(r.target),Z.applyQuaternion(ze),c.setFromVector3(Z),r.autoRotate&&l===s.NONE&&X(k()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let ke=r.minAzimuthAngle,yt=r.maxAzimuthAngle;isFinite(ke)&&isFinite(yt)&&(ke<-Math.PI?ke+=Ye:ke>Math.PI&&(ke-=Ye),yt<-Math.PI?yt+=Ye:yt>Math.PI&&(yt-=Ye),ke<=yt?c.theta=Math.max(ke,Math.min(yt,c.theta)):c.theta=c.theta>(ke+yt)/2?Math.max(ke,c.theta):Math.min(yt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&P||r.object.isOrthographicCamera?c.radius=de(c.radius):c.radius=de(c.radius*p),Z.setFromSpherical(c),Z.applyQuaternion(J),Ae.copy(r.target).add(Z),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Ft=!1;if(r.zoomToCursor&&P){let Dt=null;if(r.object instanceof zn&&r.object.isPerspectiveCamera){const Kn=Z.length();Dt=de(Kn*p);const Mr=Kn-Dt;r.object.position.addScaledVector(T,Mr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Kn=new H(R.x,R.y,0);Kn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Ft=!0;const Mr=new H(R.x,R.y,0);Mr.unproject(r.object),r.object.position.sub(Mr).add(Kn),r.object.updateMatrixWorld(),Dt=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Dt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Dt).add(r.object.position):(ry.origin.copy(r.object.position),ry.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(ry.direction))<qwe?e.lookAt(r.target):(YD.setFromNormalAndCoplanarPoint(r.object.up,r.target),ry.intersectPlane(YD,r.target))))}else r.object instanceof $a&&r.object.isOrthographicCamera&&(Ft=p!==1,Ft&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,P=!1,Ft||Ne.distanceToSquared(r.object.position)>u||8*(1-Oe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ne.copy(r.object.position),Oe.copy(r.object.quaternion),Ft=!1,!0):!1}})(),this.connect=Z=>{r.domElement=Z,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",it),r.domElement.addEventListener("pointerdown",Re),r.domElement.addEventListener("pointercancel",N),r.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var Z,ae,ze,J,Ne,Oe;r.domElement&&(r.domElement.style.touchAction="auto"),(Z=r.domElement)==null||Z.removeEventListener("contextmenu",it),(ae=r.domElement)==null||ae.removeEventListener("pointerdown",Re),(ze=r.domElement)==null||ze.removeEventListener("pointercancel",N),(J=r.domElement)==null||J.removeEventListener("wheel",Te),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",B),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",N),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",me)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new bA,f=new bA;let p=1;const m=new H,v=new we,x=new we,y=new we,g=new we,_=new we,S=new we,M=new we,w=new we,A=new we,T=new H,R=new we;let P=!1;const O=[],L={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function F(){return Math.pow(.95,r.zoomSpeed)}function X(Z){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=Z:f.theta-=Z}function G(Z){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=Z:f.phi-=Z}const q=(()=>{const Z=new H;return function(ze,J){Z.setFromMatrixColumn(J,0),Z.multiplyScalar(-ze),m.add(Z)}})(),W=(()=>{const Z=new H;return function(ze,J){r.screenSpacePanning===!0?Z.setFromMatrixColumn(J,1):(Z.setFromMatrixColumn(J,0),Z.crossVectors(r.object.up,Z)),Z.multiplyScalar(ze),m.add(Z)}})(),D=(()=>{const Z=new H;return function(ze,J){const Ne=r.domElement;if(Ne&&r.object instanceof zn&&r.object.isPerspectiveCamera){const Oe=r.object.position;Z.copy(Oe).sub(r.target);let Ye=Z.length();Ye*=Math.tan(r.object.fov/2*Math.PI/180),q(2*ze*Ye/Ne.clientHeight,r.object.matrix),W(2*J*Ye/Ne.clientHeight,r.object.matrix)}else Ne&&r.object instanceof $a&&r.object.isOrthographicCamera?(q(ze*(r.object.right-r.object.left)/r.object.zoom/Ne.clientWidth,r.object.matrix),W(J*(r.object.top-r.object.bottom)/r.object.zoom/Ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function V(Z){r.object instanceof zn&&r.object.isPerspectiveCamera||r.object instanceof $a&&r.object.isOrthographicCamera?p=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(Z){V(p/Z)}function Q(Z){V(p*Z)}function ne(Z){if(!r.zoomToCursor||!r.domElement)return;P=!0;const ae=r.domElement.getBoundingClientRect(),ze=Z.clientX-ae.left,J=Z.clientY-ae.top,Ne=ae.width,Oe=ae.height;R.x=ze/Ne*2-1,R.y=-(J/Oe)*2+1,T.set(R.x,R.y,1).unproject(r.object).sub(r.object.position).normalize()}function de(Z){return Math.max(r.minDistance,Math.min(r.maxDistance,Z))}function Fe(Z){v.set(Z.clientX,Z.clientY)}function et(Z){ne(Z),M.set(Z.clientX,Z.clientY)}function se(Z){g.set(Z.clientX,Z.clientY)}function xe(Z){x.set(Z.clientX,Z.clientY),y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const ae=r.domElement;ae&&(X(2*Math.PI*y.x/ae.clientHeight),G(2*Math.PI*y.y/ae.clientHeight)),v.copy(x),r.update()}function je(Z){w.set(Z.clientX,Z.clientY),A.subVectors(w,M),A.y>0?z(F()):A.y<0&&Q(F()),M.copy(w),r.update()}function _e(Z){_.set(Z.clientX,Z.clientY),S.subVectors(_,g).multiplyScalar(r.panSpeed),D(S.x,S.y),g.copy(_),r.update()}function Ee(Z){ne(Z),Z.deltaY<0?Q(F()):Z.deltaY>0&&z(F()),r.update()}function Be(Z){let ae=!1;switch(Z.code){case r.keys.UP:D(0,r.keyPanSpeed),ae=!0;break;case r.keys.BOTTOM:D(0,-r.keyPanSpeed),ae=!0;break;case r.keys.LEFT:D(r.keyPanSpeed,0),ae=!0;break;case r.keys.RIGHT:D(-r.keyPanSpeed,0),ae=!0;break}ae&&(Z.preventDefault(),r.update())}function ve(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const Z=.5*(O[0].pageX+O[1].pageX),ae=.5*(O[0].pageY+O[1].pageY);v.set(Z,ae)}}function $e(){if(O.length==1)g.set(O[0].pageX,O[0].pageY);else{const Z=.5*(O[0].pageX+O[1].pageX),ae=.5*(O[0].pageY+O[1].pageY);g.set(Z,ae)}}function ce(){const Z=O[0].pageX-O[1].pageX,ae=O[0].pageY-O[1].pageY,ze=Math.sqrt(Z*Z+ae*ae);M.set(0,ze)}function Me(){r.enableZoom&&ce(),r.enablePan&&$e()}function Se(){r.enableZoom&&ce(),r.enableRotate&&ve()}function Le(Z){if(O.length==1)x.set(Z.pageX,Z.pageY);else{const ze=rt(Z),J=.5*(Z.pageX+ze.x),Ne=.5*(Z.pageY+ze.y);x.set(J,Ne)}y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const ae=r.domElement;ae&&(X(2*Math.PI*y.x/ae.clientHeight),G(2*Math.PI*y.y/ae.clientHeight)),v.copy(x)}function $(Z){if(O.length==1)_.set(Z.pageX,Z.pageY);else{const ae=rt(Z),ze=.5*(Z.pageX+ae.x),J=.5*(Z.pageY+ae.y);_.set(ze,J)}S.subVectors(_,g).multiplyScalar(r.panSpeed),D(S.x,S.y),g.copy(_)}function ct(Z){const ae=rt(Z),ze=Z.pageX-ae.x,J=Z.pageY-ae.y,Ne=Math.sqrt(ze*ze+J*J);w.set(0,Ne),A.set(0,Math.pow(w.y/M.y,r.zoomSpeed)),z(A.y),M.copy(w)}function Ge(Z){r.enableZoom&&ct(Z),r.enablePan&&$(Z)}function pt(Z){r.enableZoom&&ct(Z),r.enableRotate&&Le(Z)}function Re(Z){var ae,ze;r.enabled!==!1&&(O.length===0&&((ae=r.domElement)==null||ae.ownerDocument.addEventListener("pointermove",B),(ze=r.domElement)==null||ze.ownerDocument.addEventListener("pointerup",N)),_t(Z),Z.pointerType==="touch"?ft(Z):ee(Z))}function B(Z){r.enabled!==!1&&(Z.pointerType==="touch"?He(Z):pe(Z))}function N(Z){var ae,ze,J;Pe(Z),O.length===0&&((ae=r.domElement)==null||ae.releasePointerCapture(Z.pointerId),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",B),(J=r.domElement)==null||J.ownerDocument.removeEventListener("pointerup",N)),r.dispatchEvent(a),l=s.NONE}function ee(Z){let ae;switch(Z.button){case 0:ae=r.mouseButtons.LEFT;break;case 1:ae=r.mouseButtons.MIDDLE;break;case 2:ae=r.mouseButtons.RIGHT;break;default:ae=-1}switch(ae){case zl.DOLLY:if(r.enableZoom===!1)return;et(Z),l=s.DOLLY;break;case zl.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enablePan===!1)return;se(Z),l=s.PAN}else{if(r.enableRotate===!1)return;Fe(Z),l=s.ROTATE}break;case zl.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enableRotate===!1)return;Fe(Z),l=s.ROTATE}else{if(r.enablePan===!1)return;se(Z),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function pe(Z){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;xe(Z);break;case s.DOLLY:if(r.enableZoom===!1)return;je(Z);break;case s.PAN:if(r.enablePan===!1)return;_e(Z);break}}function Te(Z){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(Z.preventDefault(),r.dispatchEvent(o),Ee(Z),r.dispatchEvent(a))}function me(Z){r.enabled===!1||r.enablePan===!1||Be(Z)}function ft(Z){switch(Xe(Z),O.length){case 1:switch(r.touches.ONE){case Vl.ROTATE:if(r.enableRotate===!1)return;ve(),l=s.TOUCH_ROTATE;break;case Vl.PAN:if(r.enablePan===!1)return;$e(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Vl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Me(),l=s.TOUCH_DOLLY_PAN;break;case Vl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Se(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function He(Z){switch(Xe(Z),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Le(Z),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;$(Z),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ge(Z),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pt(Z),r.update();break;default:l=s.NONE}}function it(Z){r.enabled!==!1&&Z.preventDefault()}function _t(Z){O.push(Z)}function Pe(Z){delete L[Z.pointerId];for(let ae=0;ae<O.length;ae++)if(O[ae].pointerId==Z.pointerId){O.splice(ae,1);return}}function Xe(Z){let ae=L[Z.pointerId];ae===void 0&&(ae=new we,L[Z.pointerId]=ae),ae.set(Z.pageX,Z.pageY)}function rt(Z){const ae=Z.pointerId===O[0].pointerId?O[1]:O[0];return L[ae.pointerId]}this.dollyIn=(Z=F())=>{Q(Z),r.update()},this.dollyOut=(Z=F())=>{z(Z),r.update()},this.getScale=()=>p,this.setScale=Z=>{V(Z),r.update()},this.getZoomScale=()=>F(),n!==void 0&&this.connect(n),this.update()}};const Zwe=j.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...u},c)=>{const f=Ms(A=>A.invalidate),p=Ms(A=>A.camera),m=Ms(A=>A.gl),v=Ms(A=>A.events),x=Ms(A=>A.setEvents),y=Ms(A=>A.set),g=Ms(A=>A.get),_=Ms(A=>A.performance),S=e||p,M=r||v.connected||m.domElement,w=j.useMemo(()=>new Kwe(S),[S]);return Swe(()=>{w.enabled&&w.update()},-1),j.useEffect(()=>(o&&w.connect(o===!0?M:o),w.connect(M),()=>void w.dispose()),[o,M,n,w,f]),j.useEffect(()=>{const A=P=>{f(),n&&_.regress(),a&&a(P)},T=P=>{s&&s(P)},R=P=>{l&&l(P)};return w.addEventListener("change",A),w.addEventListener("start",T),w.addEventListener("end",R),()=>{w.removeEventListener("start",T),w.removeEventListener("end",R),w.removeEventListener("change",A)}},[a,s,l,w,f,x]),j.useEffect(()=>{if(t){const A=g().controls;return y({controls:w}),()=>y({controls:A})}},[t,w]),j.createElement("primitive",VE({ref:c,object:w,enableDamping:i},u))});function KD(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function Jwe(){return K.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.02,0],receiveShadow:!0,children:[K.jsx("circleGeometry",{args:[35,64]}),K.jsx("meshStandardMaterial",{color:"#0d2137",roughness:.8,metalness:.2,envMapIntensity:.5})]})}const Qwe=new Zo(new H(0,0,-1),0),iy=[Qwe];function eMe(){const t=j.useRef(null);return K.jsxs("group",{ref:t,position:[0,0,0],children:[K.jsxs("mesh",{position:[0,.4,0],castShadow:!0,receiveShadow:!0,children:[K.jsx("cylinderGeometry",{args:[5.5,7,.8,64]}),K.jsx("meshStandardMaterial",{color:"#2d4a3e",roughness:.9,metalness:.1,clippingPlanes:iy,clipShadows:!0})]}),K.jsxs("mesh",{position:[0,1.2,0],castShadow:!0,receiveShadow:!0,children:[K.jsx("cylinderGeometry",{args:[4,5.5,.9,64]}),K.jsx("meshStandardMaterial",{color:"#3d5a4a",roughness:.85,metalness:.1,clippingPlanes:iy,clipShadows:!0})]}),K.jsxs("mesh",{position:[0,2.4,0],castShadow:!0,receiveShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.8,2.2,2.2,64]}),K.jsx("meshStandardMaterial",{color:"#4a4035",roughness:.9,metalness:.15,clippingPlanes:iy,clipShadows:!0})]}),K.jsxs("mesh",{position:[0,3.6,0],castShadow:!0,children:[K.jsx("coneGeometry",{args:[.6,.9,48]}),K.jsx("meshStandardMaterial",{color:"#5c5042",roughness:.85,metalness:.1,clippingPlanes:iy,clipShadows:!0})]})]})}const wd=-.5,oy=wd-.55,ay=["#c4c8cc","#8a8e92","#b87333"];function tMe({position:t,color:e,scale:n=1}){const r=n;return K.jsxs("group",{position:t,children:[K.jsxs("mesh",{castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.35*r,.4*r,.5*r,16]}),K.jsx("meshStandardMaterial",{color:e,roughness:.35,metalness:.75})]}),K.jsxs("mesh",{position:[0,.28*r,0],castShadow:!0,children:[K.jsx("sphereGeometry",{args:[.3*r,12,8,0,Math.PI*2,0,Math.PI/2]}),K.jsx("meshStandardMaterial",{color:e,roughness:.3,metalness:.8})]}),K.jsxs("mesh",{position:[.15*r,.5*r,0],rotation:[0,0,Math.PI/6],castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.06*r,.06*r,.25*r,8]}),K.jsx("meshStandardMaterial",{color:"#9a9ea2",roughness:.4,metalness:.7})]}),K.jsxs("mesh",{position:[-.12*r,.48*r,.08*r],rotation:[0,0,-Math.PI/8],castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.05*r,.05*r,.2*r,8]}),K.jsx("meshStandardMaterial",{color:"#9a9ea2",roughness:.4,metalness:.7})]})]})}function nMe(){const{buildings:t,windows:e,lavaPools:n,generators:r,deepsPipes:i,deepsTanks:o}=j.useMemo(()=>{const a=KD(42),s=[],l=[],u=[{yMin:.25,yMax:.85,rMax:4.2,count:58},{yMin:.7,yMax:1.35,rMax:3.8,count:52},{yMin:1.1,yMax:1.85,rMax:3.2,count:48},{yMin:1.75,yMax:2.65,rMax:1.8,count:42}];for(const x of u)for(let y=0;y<x.count;y++){const g=Math.PI*(.15+.7*a()),_=x.rMax*(.15+.82*a()),S=Math.cos(g)*_,M=wd-.4*a(),w=x.yMin+(x.yMax-x.yMin)*a(),A=.12+.22*a(),T=.15+.35*a(),R=.1+.18*a(),P=a()<.2,O=1+Math.floor(a()*4);s.push({position:[S,w,M],scale:[A,T,R],isCylinder:P,windows:O});for(let L=0;L<O;L++){const k=S+(a()-.5)*A*.8,F=w+(a()-.5)*T*.8,X=M+(a()<.5?1:-1)*(R*.5+.02);l.push({position:[k,F,X],color:a()<.7?"#ffaa44":"#ff6622"})}}const c=KD(99),f=[],p=[],m=[],v=[];for(let x=0;x<7;x++){const y=Math.PI*(.2+.6*c()),g=.8+2.2*c(),_=Math.cos(y)*g,S=.02,M=oy-.15*c();f.push({position:[_,S,M],radius:.25+.35*c()});const w=.12+.18*c();p.push({position:[_,S+w,M],color:ay[x%ay.length],scale:.7+.5*c()})}for(let x=0;x<12;x++){const y=Math.PI*(.15+.7*c()),g=1.2+2.5*c();m.push({position:[Math.cos(y)*g,.06+.04*c(),oy-.2*c()],rotation:[Math.PI/2,0,-y+(c()-.5)*.4],length:.3+.5*c()})}for(let x=0;x<5;x++){const y=Math.PI*(.2+.6*c()),g=1.5+1.8*c();v.push({position:[Math.cos(y)*g,.15+.08*c(),oy-.1*c()],color:ay[x%ay.length]})}return{buildings:s,windows:l,lavaPools:f,generators:p,deepsPipes:m,deepsTanks:v}},[]);return K.jsxs("group",{position:[0,0,0],children:[K.jsxs("mesh",{position:[0,1.5,wd-.3],castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.25,.4,2.8,16]}),K.jsx("meshStandardMaterial",{color:"#2a2520",roughness:.85,metalness:.4})]}),K.jsx("pointLight",{position:[0,.15,wd-.4],intensity:.5,color:"#ff4400",distance:6}),K.jsxs("mesh",{position:[0,.12,wd-.5],children:[K.jsx("circleGeometry",{args:[1.2,16]}),K.jsx("meshBasicMaterial",{color:"#ff3300",transparent:!0,opacity:.25,side:Fr,toneMapped:!1})]}),n.map((a,s)=>K.jsxs("group",{position:a.position,children:[K.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[K.jsx("circleGeometry",{args:[a.radius,24]}),K.jsx("meshBasicMaterial",{color:"#ff2200",toneMapped:!1,side:Fr})]}),K.jsxs("mesh",{rotation:[Math.PI/2,0,0],position:[0,-.02,0],children:[K.jsx("circleGeometry",{args:[a.radius*.98,24]}),K.jsx("meshBasicMaterial",{color:"#ff6600",transparent:!0,opacity:.9,side:Fr,toneMapped:!1})]})]},`pool-${s}`)),r.map((a,s)=>K.jsx(tMe,{position:a.position,color:a.color,scale:a.scale},s)),i.map((a,s)=>K.jsxs("mesh",{position:a.position,rotation:a.rotation,castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.04,.04,a.length,8]}),K.jsx("meshStandardMaterial",{color:"#6a6e72",roughness:.4,metalness:.7})]},s)),o.map((a,s)=>K.jsx("group",{position:a.position,children:K.jsxs("mesh",{castShadow:!0,children:[K.jsx("cylinderGeometry",{args:[.18,.2,.25,12]}),K.jsx("meshStandardMaterial",{color:a.color,roughness:.35,metalness:.75})]})},s)),K.jsx("pointLight",{position:[0,.08,oy],intensity:.4,color:"#ff4400",distance:8}),t.map((a,s)=>K.jsx("group",{position:a.position,children:K.jsxs("mesh",{castShadow:!0,children:[a.isCylinder?K.jsx("cylinderGeometry",{args:[a.scale[0],a.scale[0]*1.1,a.scale[1],6]}):K.jsx("boxGeometry",{args:a.scale}),K.jsx("meshStandardMaterial",{color:s%4===0?"#3d3630":s%4===1?"#2c2824":"#352e28",roughness:.8,metalness:.35})]})},s)),e.map((a,s)=>K.jsxs("mesh",{position:a.position,children:[K.jsx("planeGeometry",{args:[.06,.08]}),K.jsx("meshBasicMaterial",{color:a.color,toneMapped:!1,side:Fr})]},s))]})}function rMe(){return K.jsxs("group",{position:[0,2,0],children:[K.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[K.jsx("torusGeometry",{args:[14,2.5,16,64]}),K.jsx("meshBasicMaterial",{color:"#6b21a8",transparent:!0,opacity:.32,side:Fr})]}),K.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[K.jsx("torusGeometry",{args:[14,1.2,8,64]}),K.jsx("meshBasicMaterial",{color:"#a855f7",transparent:!0,opacity:.24,side:Fr})]})]})}function iMe(){return K.jsxs(K.Fragment,{children:[K.jsx("ambientLight",{intensity:.4}),K.jsx("directionalLight",{position:[10,15,10],intensity:1.2,castShadow:!0,"shadow-mapSize":[2048,2048],"shadow-camera-far":80,"shadow-camera-left":-20,"shadow-camera-right":20,"shadow-camera-top":20,"shadow-camera-bottom":-20}),K.jsx("pointLight",{position:[-5,8,5],intensity:.5,color:"#a78bfa"}),K.jsx(Jwe,{}),K.jsx(eMe,{}),K.jsx(nMe,{}),K.jsx("pointLight",{position:[0,1,-2],intensity:.6,color:"#ffaa44",distance:12}),K.jsx("pointLight",{position:[-1.5,2,-1.5],intensity:.35,color:"#ff8844",distance:8}),K.jsx(rMe,{}),K.jsx(Zwe,{enablePan:!0,minDistance:8,maxDistance:45,maxPolarAngle:Math.PI/2-.1})]})}function oMe(){const t=j.useRef(null),[e,n]=j.useState({width:0,height:0});j.useLayoutEffect(()=>{const i=t.current;if(!i)return;const o=()=>{const l=i.getBoundingClientRect();l.width>0&&l.height>0&&n({width:l.width,height:l.height})},a=new ResizeObserver(l=>{var f;const{width:u,height:c}=((f=l[0])==null?void 0:f.contentRect)??{width:0,height:0};u>0&&c>0&&n(p=>p.width===u&&p.height===c?p:{width:u,height:c})});a.observe(i),o();const s=requestAnimationFrame(o);return()=>{a.disconnect(),cancelAnimationFrame(s)}},[]);const r=e.width>0&&e.height>0;return K.jsxs("div",{className:"island-3d-page",children:[K.jsxs("header",{className:"island-3d-header",children:[K.jsx(cp,{to:"/",className:"island-3d-back",children:" Back to Codex"}),K.jsx("h1",{className:"island-3d-title",children:"The Island  3D"}),K.jsx("p",{className:"island-3d-tagline",children:"Volcanic island with an interior city (The Roots). Drag to rotate and see inside the cut; scroll to zoom."})]}),K.jsx("div",{ref:t,className:"island-3d-content",children:K.jsx("div",{className:"island-3d-canvas-wrap",style:r?{width:e.width,height:e.height}:void 0,children:r&&K.jsx(jwe,{style:{width:"100%",height:"100%",display:"block"},shadows:!0,camera:{position:[0,5,18],fov:50},gl:{antialias:!0,alpha:!1,localClippingEnabled:!0,powerPreference:"default",failIfMajorPerformanceCaveat:!1},onCreated:({gl:i})=>{i.setClearColor("#0c0b0f",1);const o=i.domElement;o.addEventListener("webglcontextlost",a=>{a.preventDefault(),console.error("[Island3D] WebGL context lost")}),o.addEventListener("webglcontextrestored",()=>{console.warn("[Island3D] WebGL context restored")})},children:K.jsx(j.Suspense,{fallback:null,children:K.jsx(iMe,{})})})})})]})}uF(document.getElementById("root")).render(K.jsx(j.StrictMode,{children:K.jsx($6,{children:K.jsxs(_6,{children:[K.jsx(UM,{path:"/",element:K.jsx(pge,{})}),K.jsx(UM,{path:"/island",element:K.jsx(oMe,{})})]})})}));
